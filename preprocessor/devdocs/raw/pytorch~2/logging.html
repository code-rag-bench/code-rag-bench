<h1 id="torch-logging">torch._logging</h1> <p>PyTorch has a configurable logging system, where different components can be given different log level settings. For instance, one component’s log messages can be completely disabled, while another component’s log messages can be set to maximum verbosity.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This feature is a prototype and may have compatibility breaking changes in the future.</p> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This feature has not been expanded to control the log messages of all components in PyTorch yet.</p> </div> <p>There are two ways to configure the logging system: through the environment variable <code>TORCH_LOGS</code> or the python API torch._logging.set_logs.</p> <table class="autosummary longtable docutils colwidths-auto align-default" id="module-torch._logging">  <tr>
<td>


<a class="reference internal" href="generated/torch._logging.set_logs#torch._logging.set_logs" title="torch._logging.set_logs"><code>set_logs</code></a>
</td> <td><p>Sets the log level for individual components and toggles individual log artifact types.</p></td> </tr>  </table> <p>The environment variable <code>TORCH_LOGS</code> is a comma-separated list of <code>[+-]&lt;component&gt;</code> pairs, where <code>&lt;component&gt;</code> is a component specified below. The <code>+</code> prefix will decrease the log level of the component, displaying more log messages while the <code>-</code> prefix will increase the log level of the component and display fewer log messages. The default setting is the behavior when a component is not specified in <code>TORCH_LOGS</code>. In addition to components, there are also artifacts. Artifacts are specific pieces of debug information associated with a component that are either displayed or not displayed, so prefixing an artifact with <code>+</code> or <code>-</code> will be a no-op. Since they are associated with a component, enabling that component will typically also enable that artifact, unless that artifact was specified to be <code>off_by_default</code>. This option is specified in _registrations.py for artifacts that are so spammy they should only be displayed when explicitly enabled. The following components and artifacts are configurable through the <code>TORCH_LOGS</code> environment variable (see torch._logging.set_logs for the python API):</p> <dl> <dt>Components:</dt>
<dd>
<dl class="simple"> <dt>
<code>all</code> </dt>
<dd>
<p>Special component which configures the default log level of all components. Default: <code>logging.WARN</code></p> </dd> <dt>
<code>dynamo</code> </dt>
<dd>
<p>The log level for the TorchDynamo component. Default: <code>logging.WARN</code></p> </dd> <dt>
<code>aot</code> </dt>
<dd>
<p>The log level for the AOTAutograd component. Default: <code>logging.WARN</code></p> </dd> <dt>
<code>inductor</code> </dt>
<dd>
<p>The log level for the TorchInductor component. Default: <code>logging.WARN</code></p> </dd> <dt>
<code>your.custom.module</code> </dt>
<dd>
<p>The log level for an arbitrary unregistered module. Provide the fully qualified name and the module will be enabled. Default: <code>logging.WARN</code></p> </dd> </dl> </dd> <dt>Artifacts:</dt>
<dd>
<dl class="simple"> <dt>
<code>bytecode</code> </dt>
<dd>
<p>Whether to emit the original and generated bytecode from TorchDynamo. Default: <code>False</code></p> </dd> <dt>
<code>aot_graphs</code> </dt>
<dd>
<p>Whether to emit the graphs generated by AOTAutograd. Default: <code>False</code></p> </dd> <dt>
<code>aot_joint_graph</code> </dt>
<dd>
<p>Whether to emit the joint forward-backward graph generated by AOTAutograd. Default: <code>False</code></p> </dd> <dt>
<code>ddp_graphs</code> </dt>
<dd>
<p>Whether to emit graphs generated by DDPOptimizer. Default: <code>False</code></p> </dd> <dt>
<code>graph</code> </dt>
<dd>
<p>Whether to emit the graph captured by TorchDynamo in tabular format. Default: <code>False</code></p> </dd> <dt>
<code>graph_code</code> </dt>
<dd>
<p>Whether to emit the python source of the graph captured by TorchDynamo. Default: <code>False</code></p> </dd> <dt>
<code>graph_breaks</code> </dt>
<dd>
<p>Whether to emit a message when a unique graph break is encountered during TorchDynamo tracing. Default: <code>False</code></p> </dd> <dt>
<code>guards</code> </dt>
<dd>
<p>Whether to emit the guards generated by TorchDynamo for each compiled function. Default: <code>False</code></p> </dd> <dt>
<code>recompiles</code> </dt>
<dd>
<p>Whether to emit a guard failure reason and message every time TorchDynamo recompiles a function. Default: <code>False</code></p> </dd> <dt>
<code>output_code</code> </dt>
<dd>
<p>Whether to emit the TorchInductor output code. Default: <code>False</code></p> </dd> <dt>
<code>schedule</code> </dt>
<dd>
<p>Whether to emit the TorchInductor schedule. Default: <code>False</code></p> </dd> </dl> </dd> <dt>Examples:</dt>
<dd>
<p><code>TORCH_LOGS="+dynamo,aot"</code> will set the log level of TorchDynamo to <code>logging.DEBUG</code> and AOT to <code>logging.INFO</code></p> <p><code>TORCH_LOGS="-dynamo,+inductor"</code> will set the log level of TorchDynamo to <code>logging.ERROR</code> and TorchInductor to <code>logging.DEBUG</code></p> <p><code>TORCH_LOGS="aot_graphs"</code> will enable the <code>aot_graphs</code> artifact</p> <p><code>TORCH_LOGS="+dynamo,schedule"</code> will enable set the log level of TorchDynamo to <code>logging.DEBUG</code> and enable the <code>schedule</code> artifact</p> <p><code>TORCH_LOGS="+some.random.module,schedule"</code> will set the log level of some.random.module to <code>logging.DEBUG</code> and enable the <code>schedule</code> artifact</p> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024, PyTorch Contributors<br>PyTorch has a BSD-style license, as found in the <a href="https://github.com/pytorch/pytorch/blob/main/LICENSE">LICENSE</a> file.<br>
    <a href="https://pytorch.org/docs/2.1/logging.html" class="_attribution-link">https://pytorch.org/docs/2.1/logging.html</a>
  </p>
</div>
