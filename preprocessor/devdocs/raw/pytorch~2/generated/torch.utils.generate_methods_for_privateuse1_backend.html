<h1 id="torch-utils-generate-methods-for-privateuse1-backend">torch.utils.generate_methods_for_privateuse1_backend</h1> <dl class="py function"> <dt class="sig sig-object py" id="torch.utils.generate_methods_for_privateuse1_backend">
<code>torch.utils.generate_methods_for_privateuse1_backend(for_tensor, for_module, for_storage, unsupported_dtype) → None</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/utils/backend_registration.html#generate_methods_for_privateuse1_backend"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Automatically generate attributes and methods for the custom backend after rename privateuse1 backend. In the default scenario, storage-related methods will not be generated automatically.</p> <p>When you implement kernels for various torch operations, and register them to the PrivateUse1 dispatch key. And call the function torch.rename_privateuse1_backend(“foo”) to rename your backend name. At this point, you can easily register specific methods and attributes by calling this function. Just like torch.Tensor.foo(), torch.Tensor.is_foo, torch.Storage.foo(), torch.Storage.is_foo.</p> <p>Note: We recommend you use generic functions (check devices are equal or to(device=)). We provide these methods for convenience only and they will be “monkey patched” onto the objects and so will not be properly typed. For Storage methods generate, if you need to support sparse data storage, you need to extend the implementation yourself.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>for_tensor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a>) – whether register related methods for torch.Tensor class.</li> <li>
<strong>for_module</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a>) – whether register related methods for torch.nn.Module class.</li> <li>
<strong>for_storage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a>) – whether register related methods for torch.Storage class.</li> <li>
<strong>unsupported_dtype</strong> (<em>List</em><em>[</em><a class="reference internal" href="../tensor_attributes#torch.dtype" title="torch.dtype">torch.dtype</a><em>]</em>) – takes effect only when the storage method needs to be generated, indicating that the storage does not support the torch.dtype type.</li> </ul> </dd> </dl> <p>Example:</p> <pre data-language="python">&gt;&gt;&gt; torch.utils.rename_privateuse1_backend("foo")
&gt;&gt;&gt; torch.utils.generate_methods_for_privateuse1_backend()
# Then automatically generate backend-related attributes and methods.
&gt;&gt;&gt; a = torch.tensor(2).foo()
&gt;&gt;&gt; a.is_foo
&gt;&gt;&gt; hasattr(torch.nn.Module, 'foo')
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024, PyTorch Contributors<br>PyTorch has a BSD-style license, as found in the <a href="https://github.com/pytorch/pytorch/blob/main/LICENSE">LICENSE</a> file.<br>
    <a href="https://pytorch.org/docs/2.1/generated/torch.utils.generate_methods_for_privateuse1_backend.html" class="_attribution-link">https://pytorch.org/docs/2.1/generated/torch.utils.generate_methods_for_privateuse1_backend.html</a>
  </p>
</div>
