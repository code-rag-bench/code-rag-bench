<h1 id="backend-agg">backend_agg</h1> <p>An <a class="reference external" href="http://agg.sourceforge.net/antigrain.com">Anti-Grain Geometry</a> (AGG) backend.</p> <p>Features that are implemented:</p> <ul class="simple"> <li>capstyles and join styles</li> <li>dashes</li> <li>linewidth</li> <li>lines, rectangles, ellipses</li> <li>clipping to a rectangle</li> <li>output to RGBA and Pillow-supported image formats</li> <li>alpha blending</li> <li>DPI scaling properly - everything scales properly (dashes, linewidths, etc)</li> <li>draw polygon</li> <li>freetype2 w/ ft2font</li> </ul> <p>Still TODO:</p> <ul class="simple"> <li>integrate screen dpi w/ ppi and text</li> </ul> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvas"> <span class="sig-prename descclassname">matplotlib.backends.backend_agg.</span><span class="sig-name descname">FigureCanvas</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L418-L597"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>alias of <a class="reference internal" href="#matplotlib.backends.backend_agg.FigureCanvasAgg" title="matplotlib.backends.backend_agg.FigureCanvasAgg"><code>matplotlib.backends.backend_agg.FigureCanvasAgg</code></a></p> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg"> <em class="property">class</em><span class="sig-prename descclassname">matplotlib.backends.backend_agg.</span><span class="sig-name descname">FigureCanvasAgg</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">figure</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L418-L597"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference internal" href="backend_bases_api#matplotlib.backend_bases.FigureCanvasBase" title="matplotlib.backend_bases.FigureCanvasBase"><code>matplotlib.backend_bases.FigureCanvasBase</code></a></p> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.buffer_rgba"> <span class="sig-name descname">buffer_rgba</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L471-L478"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Get the image as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#memoryview" title="(in Python v3.10)"><code>memoryview</code></a> to the renderer's buffer.</p> <p><a class="reference internal" href="#matplotlib.backends.backend_agg.FigureCanvasAgg.draw" title="matplotlib.backends.backend_agg.FigureCanvasAgg.draw"><code>draw</code></a> must be called at least once before this function will work and to update the renderer for any subsequent changes to the Figure.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.copy_from_bbox"> <span class="sig-name descname">copy_from_bbox</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">bbox</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L421-L423"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.draw"> <span class="sig-name descname">draw</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L429-L439"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Render the <a class="reference internal" href="figure_api#matplotlib.figure.Figure" title="matplotlib.figure.Figure"><code>Figure</code></a>.</p> <p>It is important that this method actually walk the artist tree even if not output is produced because this will trigger deferred work (like computing limits auto-limits and tick values) that users may want access to before saving to disk.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.get_renderer"> <span class="sig-name descname">get_renderer</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">cleared</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L441-L451"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_jpeg"> <span class="sig-name descname">print_jpeg</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">pil_kwargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L555-L584"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Write the figure to a JPEG file.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>filename_or_obj</strong><span class="classifier">str or path-like or file-like</span>
</dt>
<dd>
<p>The file to write to.</p> </dd> </dl> </dd> <dt class="field-even">Other Parameters</dt> <dd class="field-even">
<dl class="simple"> <dt>
<strong>pil_kwargs</strong><span class="classifier">dict, optional</span>
</dt>
<dd>
<p>Additional keyword arguments that are passed to <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.save" title="(in Pillow (PIL Fork) v8.4.0)"><code>PIL.Image.Image.save</code></a> when saving the figure.</p> </dd> </dl> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_jpg"> <span class="sig-name descname">print_jpg</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">pil_kwargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L555-L584"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Write the figure to a JPEG file.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>filename_or_obj</strong><span class="classifier">str or path-like or file-like</span>
</dt>
<dd>
<p>The file to write to.</p> </dd> </dl> </dd> <dt class="field-even">Other Parameters</dt> <dd class="field-even">
<dl class="simple"> <dt>
<strong>pil_kwargs</strong><span class="classifier">dict, optional</span>
</dt>
<dd>
<p>Additional keyword arguments that are passed to <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.save" title="(in Pillow (PIL Fork) v8.4.0)"><code>PIL.Image.Image.save</code></a> when saving the figure.</p> </dd> </dl> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_png"> <span class="sig-name descname">print_png</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pil_kwargs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L490-L543"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Write the figure to a PNG file.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>filename_or_obj</strong><span class="classifier">str or path-like or file-like</span>
</dt>
<dd>
<p>The file to write to.</p> </dd> <dt>
<strong>metadata</strong><span class="classifier">dict, optional</span>
</dt>
<dd>
<p>Metadata in the PNG file as key-value pairs of bytes or latin-1 encodable strings. According to the PNG specification, keys must be shorter than 79 chars.</p> <p>The <a class="reference external" href="https://www.w3.org/TR/2003/REC-PNG-20031110/#11keywords">PNG specification</a> defines some common keywords that may be used as appropriate:</p> <ul class="simple"> <li>Title: Short (one line) title or caption for image.</li> <li>Author: Name of image's creator.</li> <li>Description: Description of image (possibly long).</li> <li>Copyright: Copyright notice.</li> <li>Creation Time: Time of original image creation (usually RFC 1123 format).</li> <li>Software: Software used to create the image.</li> <li>Disclaimer: Legal disclaimer.</li> <li>Warning: Warning of nature of content.</li> <li>Source: Device used to create the image.</li> <li>Comment: Miscellaneous comment; conversion from other image format.</li> </ul> <p>Other keywords may be invented for other purposes.</p> <p>If 'Software' is not given, an autogenerated value for Matplotlib will be used. This can be removed by setting it to <em>None</em>.</p> <p>For more details see the <a class="reference external" href="https://www.w3.org/TR/2003/REC-PNG-20031110/#11keywords">PNG specification</a>.</p> </dd> <dt>
<strong>pil_kwargs</strong><span class="classifier">dict, optional</span>
</dt>
<dd>
<p>Keyword arguments passed to <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.save" title="(in Pillow (PIL Fork) v8.4.0)"><code>PIL.Image.Image.save</code></a>.</p> <p>If the 'pnginfo' key is present, it completely overrides <em>metadata</em>, including the default 'Software' key.</p> </dd> </dl> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_raw"> <span class="sig-name descname">print_raw</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L480-L486"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_rgba"> <span class="sig-name descname">print_rgba</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L480-L486"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_tif"> <span class="sig-name descname">print_tif</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">pil_kwargs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L588-L595"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_tiff"> <span class="sig-name descname">print_tiff</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">pil_kwargs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backend_bases.py#L588-L595"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.print_to_buffer"> <span class="sig-name descname">print_to_buffer</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L545-L549"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.restore_region"> <span class="sig-name descname">restore_region</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">region</span></em>, <em class="sig-param"><span class="n">bbox</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L425-L427"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.tostring_argb"> <span class="sig-name descname">tostring_argb</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L462-L469"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Get the image as ARGB <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code>bytes</code></a>.</p> <p><a class="reference internal" href="#matplotlib.backends.backend_agg.FigureCanvasAgg.draw" title="matplotlib.backends.backend_agg.FigureCanvasAgg.draw"><code>draw</code></a> must be called at least once before this function will work and to update the renderer for any subsequent changes to the Figure.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.FigureCanvasAgg.tostring_rgb"> <span class="sig-name descname">tostring_rgb</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L453-L460"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Get the image as RGB <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code>bytes</code></a>.</p> <p><a class="reference internal" href="#matplotlib.backends.backend_agg.FigureCanvasAgg.draw" title="matplotlib.backends.backend_agg.FigureCanvasAgg.draw"><code>draw</code></a> must be called at least once before this function will work and to update the renderer for any subsequent changes to the Figure.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg"> <em class="property">class</em><span class="sig-prename descclassname">matplotlib.backends.backend_agg.</span><span class="sig-name descname">RendererAgg</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">height</span></em>, <em class="sig-param"><span class="n">dpi</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L68-L415"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference internal" href="backend_bases_api#matplotlib.backend_bases.RendererBase" title="matplotlib.backend_bases.RendererBase"><code>matplotlib.backend_bases.RendererBase</code></a></p> <p>The renderer handles all the drawing primitives using a graphics context instance that controls the colors/styles</p> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.buffer_rgba"> <span class="sig-name descname">buffer_rgba</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L316-L317"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.clear"> <span class="sig-name descname">clear</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L325-L326"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.draw_mathtext"> <span class="sig-name descname">draw_mathtext</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">gc</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">prop</span></em>, <em class="sig-param"><span class="n">angle</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L213-L222"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Draw mathtext using <a class="reference internal" href="mathtext_api#module-matplotlib.mathtext" title="matplotlib.mathtext"><code>matplotlib.mathtext</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.draw_path"> <span class="sig-name descname">draw_path</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">gc</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">transform</span></em>, <em class="sig-param"><span class="n">rgbFace</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L133-L211"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Draw a <a class="reference internal" href="path_api#matplotlib.path.Path" title="matplotlib.path.Path"><code>Path</code></a> instance using the given affine transform.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.draw_tex"> <span class="sig-name descname">draw_tex</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">gc</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">prop</span></em>, <em class="sig-param"><span class="n">angle</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">mtext</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L278-L293"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.draw_text"> <span class="sig-name descname">draw_text</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">gc</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">prop</span></em>, <em class="sig-param"><span class="n">angle</span></em>, <em class="sig-param"><span class="n">ismath</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mtext</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L224-L249"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Draw the text instance.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>gc</strong><span class="classifier"><a class="reference internal" href="backend_bases_api#matplotlib.backend_bases.GraphicsContextBase" title="matplotlib.backend_bases.GraphicsContextBase"><code>GraphicsContextBase</code></a></span>
</dt>
<dd>
<p>The graphics context.</p> </dd> <dt>
<strong>x</strong><span class="classifier">float</span>
</dt>
<dd>
<p>The x location of the text in display coords.</p> </dd> <dt>
<strong>y</strong><span class="classifier">float</span>
</dt>
<dd>
<p>The y location of the text baseline in display coords.</p> </dd> <dt>
<strong>s</strong><span class="classifier">str</span>
</dt>
<dd>
<p>The text string.</p> </dd> <dt>
<strong>prop</strong><span class="classifier"><a class="reference internal" href="font_manager_api#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code>matplotlib.font_manager.FontProperties</code></a></span>
</dt>
<dd>
<p>The font properties.</p> </dd> <dt>
<strong>angle</strong><span class="classifier">float</span>
</dt>
<dd>
<p>The rotation angle in degrees anti-clockwise.</p> </dd> <dt>
<strong>mtext</strong><span class="classifier"><a class="reference internal" href="text_api#matplotlib.text.Text" title="matplotlib.text.Text"><code>matplotlib.text.Text</code></a></span>
</dt>
<dd>
<p>The original text object to be rendered.</p> </dd> </dl> </dd> </dl> <h4 class="rubric">Notes</h4> <p><strong>Note for backend implementers:</strong></p> <p>When you are trying to determine if you have gotten your bounding box right (which is what enables the text layout/alignment to work properly), it helps to change the line in text.py:</p> <pre data-language="python">if 0: bbox_artist(self, renderer)
</pre> <p>to if 1, and then the actual bounding box will be plotted along with your text.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.get_canvas_width_height"> <span class="sig-name descname">get_canvas_width_height</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L295-L297"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return the canvas width and height in display coords.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.get_content_extents"> <span class="sig-name descname">get_content_extents</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/_api/deprecation.py#L118-L123"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>[<em>Deprecated</em>]</p> <h4 class="rubric">Notes</h4> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 3.4: </span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.get_text_width_height_descent"> <span class="sig-name descname">get_text_width_height_descent</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">prop</span></em>, <em class="sig-param"><span class="n">ismath</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L251-L276"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Get the width, height, and descent (offset from the bottom to the baseline), in display coords, of the string <em>s</em> with <a class="reference internal" href="font_manager_api#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code>FontProperties</code></a> <em>prop</em>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.lock"> <span class="sig-name descname">lock</span><em class="property"><span class="p">=</span>&lt;unlocked _thread.RLock object owner=0 count=0&gt;</em>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.option_image_nocomposite"> <span class="sig-name descname">option_image_nocomposite</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L328-L334"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return whether image composition by Matplotlib should be skipped.</p> <p>Raster backends should usually return False (letting the C-level rasterizer take care of image composition); vector backends should usually return <code>not rcParams["image.composite_image"]</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.option_scale_image"> <span class="sig-name descname">option_scale_image</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L336-L338"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return whether arbitrary affine transformations in <code>draw_image()</code> are supported (True for most vector backends).</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.points_to_pixels"> <span class="sig-name descname">points_to_pixels</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L312-L314"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert points to display units.</p> <p>You need to override this function (unless your backend doesn't have a dpi, e.g., postscript or svg). Some imaging systems assume some value for pixels per inch:</p> <pre data-language="python">points to pixels = points * pixels_per_inch/72 * dpi/72
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>points</strong><span class="classifier">float or array-like</span>
</dt>
<dd>
<p>a float or a numpy array of float</p> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>Points converted to pixels</dt>
 </dl> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.restore_region"> <span class="sig-name descname">restore_region</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">region</span></em>, <em class="sig-param"><span class="n">bbox</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L340-L373"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Restore the saved region. If bbox (instance of BboxBase, or its extents) is given, only the region specified by the bbox will be restored. <em>xy</em> (a pair of floats) optionally specifies the new position (the LLC of the original region, not the LLC of the bbox) where the region will be restored.</p> <pre data-language="python">&gt;&gt;&gt; region = renderer.copy_from_bbox()
&gt;&gt;&gt; x1, y1, x2, y2 = region.get_extents()
&gt;&gt;&gt; renderer.restore_region(region, bbox=(x1+dx, y1, x2, y2),
...                         xy=(x1-dx, y1))
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.start_filter"> <span class="sig-name descname">start_filter</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L375-L382"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Start filtering. It simply create a new canvas (the old one is saved).</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.stop_filter"> <span class="sig-name descname">stop_filter</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">post_processing</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L384-L415"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Save the plot in the current canvas as a image and apply the <em>post_processing</em> function.</p>  <dl class="simple"> <dt>def post_processing(image, dpi):</dt>
<dd>
<p># ny, nx, depth = image.shape # image (numpy array) has RGBA channels and has a depth of 4. ... # create a new_image (numpy array of 4 channels, size can be # different). The resulting image may have offsets from # lower-left corner of the original image return new_image, offset_x, offset_y</p> </dd> </dl>  <p>The saved renderer is restored and the returned image from post_processing is plotted (using draw_image) on it.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.tostring_argb"> <span class="sig-name descname">tostring_argb</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L319-L320"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.tostring_rgb"> <span class="sig-name descname">tostring_rgb</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L322-L323"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.RendererAgg.tostring_rgba_minimized"> <span class="sig-name descname">tostring_rgba_minimized</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/_api/deprecation.py#L125-L131"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>[<em>Deprecated</em>]</p> <h4 class="rubric">Notes</h4> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 3.4: </span></p> </div> </dd>
</dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="matplotlib.backends.backend_agg.get_hinting_flag"> <span class="sig-prename descclassname">matplotlib.backends.backend_agg.</span><span class="sig-name descname">get_hinting_flag</span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/backends/backend_agg.py#L52-L65"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2021 Matplotlib Development Team. All rights reserved.<br>Licensed under the Matplotlib License Agreement.<br>
    <a href="https://matplotlib.org/3.5.1/api/backend_agg_api.html" class="_attribution-link">https://matplotlib.org/3.5.1/api/backend_agg_api.html</a>
  </p>
</div>
