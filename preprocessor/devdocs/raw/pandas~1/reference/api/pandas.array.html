<h1>pandas.array</h1> <dl class="py function"> <dt class="sig sig-object py" id="pandas.array"> <span class="sig-prename descclassname"><span class="pre">pandas.</span></span><span class="sig-name descname"><span class="pre">array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v1.4.0/pandas/core/construction.py#L76-L376"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Create an array.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>data</strong><span class="classifier">:Sequence of objects</span>
</dt>
<dd>
<p>The scalars inside <cite>data</cite> should be instances of the scalar type for <cite>dtype</cite>. It’s expected that <cite>data</cite> represents a 1-dimensional array of data.</p> <p>When <cite>data</cite> is an Index or Series, the underlying array will be extracted from <cite>data</cite>.</p> </dd> <dt>
<strong>dtype</strong><span class="classifier">:str, np.dtype, or ExtensionDtype, optional</span>
</dt>
<dd>
<p>The dtype to use for the array. This may be a NumPy dtype or an extension type registered with pandas using <a class="reference internal" href="pandas.api.extensions.register_extension_dtype#pandas.api.extensions.register_extension_dtype" title="pandas.api.extensions.register_extension_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.api.extensions.register_extension_dtype()</span></code></a>.</p> <p>If not specified, there are two possibilities:</p> <ol class="arabic simple"> <li><p>When <cite>data</cite> is a <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>, <a class="reference internal" href="pandas.index#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>, or <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionArray</span></code>, the <cite>dtype</cite> will be taken from the data.</p></li> <li><p>Otherwise, pandas will attempt to infer the <cite>dtype</cite> from the data.</p></li> </ol> <p>Note that when <cite>data</cite> is a NumPy array, <code class="docutils literal notranslate"><span class="pre">data.dtype</span></code> is <em>not</em> used for inferring the array type. This is because NumPy cannot represent all the types of data that can be held in extension arrays.</p> <p>Currently, pandas will infer an extension dtype for sequences of</p> <table class="table"> <colgroup> <col style="width: 43%"> <col style="width: 57%"> </colgroup> <thead> <tr class="row-odd">
<th class="head"><p>Scalar Type</p></th> <th class="head"><p>Array Type</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p><a class="reference internal" href="pandas.interval#pandas.Interval" title="pandas.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Interval</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.intervalarray#pandas.arrays.IntervalArray" title="pandas.arrays.IntervalArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.IntervalArray</span></code></a></p></td> </tr> <tr class="row-odd">
<td><p><a class="reference internal" href="pandas.period#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Period</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.periodarray#pandas.arrays.PeriodArray" title="pandas.arrays.PeriodArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.PeriodArray</span></code></a></p></td> </tr> <tr class="row-even">
<td><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.datetimearray#pandas.arrays.DatetimeArray" title="pandas.arrays.DatetimeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.DatetimeArray</span></code></a></p></td> </tr> <tr class="row-odd">
<td><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.timedeltaarray#pandas.arrays.TimedeltaArray" title="pandas.arrays.TimedeltaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.TimedeltaArray</span></code></a></p></td> </tr> <tr class="row-even">
<td><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.integerarray#pandas.arrays.IntegerArray" title="pandas.arrays.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.IntegerArray</span></code></a></p></td> </tr> <tr class="row-odd">
<td><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></p></td> <td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.FloatingArray</span></code></p></td> </tr> <tr class="row-even">
<td><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.stringarray#pandas.arrays.StringArray" title="pandas.arrays.StringArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.StringArray</span></code></a> or <a class="reference internal" href="pandas.arrays.arrowstringarray#pandas.arrays.ArrowStringArray" title="pandas.arrays.ArrowStringArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.ArrowStringArray</span></code></a></p></td> </tr> <tr class="row-odd">
<td><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p></td> <td><p><a class="reference internal" href="pandas.arrays.booleanarray#pandas.arrays.BooleanArray" title="pandas.arrays.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.arrays.BooleanArray</span></code></a></p></td> </tr> </tbody> </table> <p>The ExtensionArray created when the scalar type is <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> is determined by <code class="docutils literal notranslate"><span class="pre">pd.options.mode.string_storage</span></code> if the dtype is not explicitly given.</p> <p>For all other cases, NumPy’s usual inference rules will be used.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.0: </span>Pandas infers nullable-integer dtype for integer data, string dtype for string data, and nullable-boolean dtype for boolean data.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.2.0: </span>Pandas now also infers nullable-floating dtype for float-like input data</p> </div> </dd> <dt>
<strong>copy</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to copy the data, even if not necessary. Depending on the type of <cite>data</cite>, creating the new array may require copying data, even if <code class="docutils literal notranslate"><span class="pre">copy=False</span></code>.</p> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>ExtensionArray</dt>
<dd>
<p>The newly created array.</p> </dd> </dl> </dd> <dt class="field-odd">Raises</dt> <dd class="field-odd">
<dl class="simple"> <dt>ValueError</dt>
<dd>
<p>When <cite>data</cite> is not 1-dimensional.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.22)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a></dt>
<dd>
<p>Construct a NumPy array.</p> </dd> <dt><a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Series</span></code></a></dt>
<dd>
<p>Construct a pandas Series.</p> </dd> <dt><a class="reference internal" href="pandas.index#pandas.Index" title="pandas.Index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Index</span></code></a></dt>
<dd>
<p>Construct a pandas Index.</p> </dd> <dt><a class="reference internal" href="pandas.arrays.pandasarray#pandas.arrays.PandasArray" title="pandas.arrays.PandasArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arrays.PandasArray</span></code></a></dt>
<dd>
<p>ExtensionArray wrapping a NumPy array.</p> </dd> <dt><a class="reference internal" href="pandas.series.array#pandas.Series.array" title="pandas.Series.array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Series.array</span></code></a></dt>
<dd>
<p>Extract the array stored within a Series.</p> </dd> </dl> </div> <p class="rubric">Notes</p> <p>Omitting the <cite>dtype</cite> argument means pandas will attempt to infer the best array type from the values in the data. As new array types are added by pandas and 3rd party libraries, the “best” array type may change. We recommend specifying <cite>dtype</cite> to ensure that</p> <ol class="arabic simple"> <li><p>the correct array type for the data is returned</p></li> <li><p>the returned array type doesn’t change as new extension types are added by pandas and third-party libraries</p></li> </ol> <p>Additionally, if the underlying memory representation of the returned array matters, we recommend specifying the <cite>dtype</cite> as a concrete object rather than a string alias or allowing it to be inferred. For example, a future version of pandas or a 3rd-party library may include a dedicated ExtensionArray for string data. In this event, the following would no longer return a <a class="reference internal" href="pandas.arrays.pandasarray#pandas.arrays.PandasArray" title="pandas.arrays.PandasArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.PandasArray</span></code></a> backed by a NumPy array.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(['a', 'b'], dtype=str)
&lt;PandasArray&gt;
['a', 'b']
Length: 2, dtype: str32
</pre></div> </div> <p>This would instead return the new ExtensionArray dedicated for string data. If you really need the new array to be backed by a NumPy array, specify that in the dtype.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(['a', 'b'], dtype=np.dtype("&lt;U1"))
&lt;PandasArray&gt;
['a', 'b']
Length: 2, dtype: str32
</pre></div> </div> <p>Finally, Pandas has arrays that mostly overlap with NumPy</p> <blockquote> <div>
<ul class="simple"> <li><p><a class="reference internal" href="pandas.arrays.datetimearray#pandas.arrays.DatetimeArray" title="pandas.arrays.DatetimeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.DatetimeArray</span></code></a></p></li> <li><p><a class="reference internal" href="pandas.arrays.timedeltaarray#pandas.arrays.TimedeltaArray" title="pandas.arrays.TimedeltaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.TimedeltaArray</span></code></a></p></li> </ul> </div>
</blockquote> <p>When data with a <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> or <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> dtype is passed, pandas will always return a <code class="docutils literal notranslate"><span class="pre">DatetimeArray</span></code> or <code class="docutils literal notranslate"><span class="pre">TimedeltaArray</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">PandasArray</span></code>. This is for symmetry with the case of timezone-aware data, which NumPy does not natively support.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(['2015', '2016'], dtype='datetime64[ns]')
&lt;DatetimeArray&gt;
['2015-01-01 00:00:00', '2016-01-01 00:00:00']
Length: 2, dtype: datetime64[ns]
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(["1H", "2H"], dtype='timedelta64[ns]')
&lt;TimedeltaArray&gt;
['0 days 01:00:00', '0 days 02:00:00']
Length: 2, dtype: timedelta64[ns]
</pre></div> </div> <p class="rubric">Examples</p> <p>If a dtype is not specified, pandas will infer the best dtype from the values. See the description of <cite>dtype</cite> for the types pandas infers for.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array([1, 2])
&lt;IntegerArray&gt;
[1, 2]
Length: 2, dtype: Int64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array([1, 2, np.nan])
&lt;IntegerArray&gt;
[1, 2, &lt;NA&gt;]
Length: 3, dtype: Int64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array([1.1, 2.2])
&lt;FloatingArray&gt;
[1.1, 2.2]
Length: 2, dtype: Float64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(["a", None, "c"])
&lt;StringArray&gt;
['a', &lt;NA&gt;, 'c']
Length: 3, dtype: string
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; with pd.option_context("string_storage", "pyarrow"):
...     arr = pd.array(["a", None, "c"])
...
&gt;&gt;&gt; arr
&lt;ArrowStringArray&gt;
['a', &lt;NA&gt;, 'c']
Length: 3, dtype: string
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array([pd.Period('2000', freq="D"), pd.Period("2000", freq="D")])
&lt;PeriodArray&gt;
['2000-01-01', '2000-01-01']
Length: 2, dtype: period[D]
</pre></div> </div> <p>You can use the string alias for <cite>dtype</cite></p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(['a', 'b', 'a'], dtype='category')
['a', 'b', 'a']
Categories (2, object): ['a', 'b']
</pre></div> </div> <p>Or specify the actual dtype</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(['a', 'b', 'a'],
...          dtype=pd.CategoricalDtype(['a', 'b', 'c'], ordered=True))
['a', 'b', 'a']
Categories (3, object): ['a' &lt; 'b' &lt; 'c']
</pre></div> </div> <p>If pandas does not infer a dedicated extension type a <a class="reference internal" href="pandas.arrays.pandasarray#pandas.arrays.PandasArray" title="pandas.arrays.PandasArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.PandasArray</span></code></a> is returned.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array([1 + 1j, 3 + 2j])
&lt;PandasArray&gt;
[(1+1j), (3+2j)]
Length: 2, dtype: complex128
</pre></div> </div> <p>As mentioned in the “Notes” section, new extension types may be added in the future (by pandas or 3rd party libraries), causing the return value to no longer be a <a class="reference internal" href="pandas.arrays.pandasarray#pandas.arrays.PandasArray" title="pandas.arrays.PandasArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.PandasArray</span></code></a>. Specify the <cite>dtype</cite> as a NumPy dtype if you need to ensure there’s no future change in behavior.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array([1, 2], dtype=np.dtype("int32"))
&lt;PandasArray&gt;
[1, 2]
Length: 2, dtype: int32
</pre></div> </div> <p><cite>data</cite> must be 1-dimensional. A ValueError is raised when the input has the wrong dimensionality.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.array(1)
Traceback (most recent call last):
  ...
ValueError: Cannot pass scalar '1' to 'pandas.array'.
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.array.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.array.html</a>
  </p>
</div>
