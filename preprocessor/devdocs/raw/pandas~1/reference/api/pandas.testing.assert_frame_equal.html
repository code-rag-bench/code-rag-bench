<h1>pandas.testing.assert_frame_equal</h1> <dl class="py function"> <dt class="sig sig-object py" id="pandas.testing.assert_frame_equal"> <span class="sig-prename descclassname"><span class="pre">pandas.testing.</span></span><span class="sig-name descname"><span class="pre">assert_frame_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_index_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equiv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_column_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equiv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_frame_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_less_precise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoDefault.no_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_blocks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_datetimelike_compat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_categorical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_like</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DataFrame'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v1.4.0/pandas/_testing/asserters.py#L1125-L1347"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Check that left and right DataFrame are equal.</p> <p>This function is intended to compare two DataFrames and output any differences. Is is mostly intended for use in unit tests. Additional parameters allow varying the strictness of the equality checks performed.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>left</strong><span class="classifier">:DataFrame</span>
</dt>
<dd>
<p>First DataFrame to compare.</p> </dd> <dt>
<strong>right</strong><span class="classifier">:DataFrame</span>
</dt>
<dd>
<p>Second DataFrame to compare.</p> </dd> <dt>
<strong>check_dtype</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to check the DataFrame dtype is identical.</p> </dd> <dt>
<strong>check_index_type</strong><span class="classifier">:bool or {‘equiv’}, default ‘equiv’</span>
</dt>
<dd>
<p>Whether to check the Index class, dtype and inferred_type are identical.</p> </dd> <dt>
<strong>check_column_type</strong><span class="classifier">:bool or {‘equiv’}, default ‘equiv’</span>
</dt>
<dd>
<p>Whether to check the columns class, dtype and inferred_type are identical. Is passed as the <code class="docutils literal notranslate"><span class="pre">exact</span></code> argument of <a class="reference internal" href="pandas.testing.assert_index_equal#pandas.testing.assert_index_equal" title="pandas.testing.assert_index_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">assert_index_equal()</span></code></a>.</p> </dd> <dt>
<strong>check_frame_type</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to check the DataFrame class is identical.</p> </dd> <dt>
<strong>check_less_precise</strong><span class="classifier">:bool or int, default False</span>
</dt>
<dd>
<p>Specify comparison precision. Only used when check_exact is False. 5 digits (False) or 3 digits (True) after decimal points are compared. If int, then specify the digits to compare.</p> <p>When comparing two numbers, if the first number has magnitude less than 1e-5, we compare the two numbers directly and check whether they are equivalent within the specified precision. Otherwise, we compare the <strong>ratio</strong> of the second number to the first number and check whether it is equivalent to 1 within the specified precision.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 1.1.0: </span>Use <cite>rtol</cite> and <cite>atol</cite> instead to define relative/absolute tolerance, respectively. Similar to <a class="reference external" href="https://docs.python.org/3/library/math.html#math.isclose" title="(in Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.isclose()</span></code></a>.</p> </div> </dd> <dt>
<strong>check_names</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to check that the <cite>names</cite> attribute for both the <cite>index</cite> and <cite>column</cite> attributes of the DataFrame is identical.</p> </dd> <dt>
<strong>by_blocks</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Specify how to compare internal data. If False, compare by columns. If True, compare by blocks.</p> </dd> <dt>
<strong>check_exact</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Whether to compare number exactly.</p> </dd> <dt>
<strong>check_datetimelike_compat</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Compare datetime-like which is comparable ignoring dtype.</p> </dd> <dt>
<strong>check_categorical</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to compare internal Categorical exactly.</p> </dd> <dt>
<strong>check_like</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>If True, ignore the order of index &amp; columns. Note: index labels must match their respective rows (same as in columns) - same labels must be with the same data.</p> </dd> <dt>
<strong>check_freq</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to check the <cite>freq</cite> attribute on a DatetimeIndex or TimedeltaIndex.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.1.0.</span></p> </div> </dd> <dt>
<strong>check_flags</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Whether to check the <cite>flags</cite> attribute.</p> </dd> <dt>
<strong>rtol</strong><span class="classifier">:float, default 1e-5</span>
</dt>
<dd>
<p>Relative tolerance. Only used when check_exact is False.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.1.0.</span></p> </div> </dd> <dt>
<strong>atol</strong><span class="classifier">:float, default 1e-8</span>
</dt>
<dd>
<p>Absolute tolerance. Only used when check_exact is False.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.1.0.</span></p> </div> </dd> <dt>
<strong>obj</strong><span class="classifier">:str, default ‘DataFrame’</span>
</dt>
<dd>
<p>Specify object name being compared, internally used to show appropriate assertion message.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="pandas.testing.assert_series_equal#pandas.testing.assert_series_equal" title="pandas.testing.assert_series_equal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assert_series_equal</span></code></a></dt>
<dd>
<p>Equivalent method for asserting Series equality.</p> </dd> <dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrame.equals</span></code></dt>
<dd>
<p>Check DataFrame equality.</p> </dd> </dl> </div> <p class="rubric">Examples</p> <p>This example shows comparing two DataFrames that are equal but with columns of differing dtypes.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; from pandas.testing import assert_frame_equal
&gt;&gt;&gt; df1 = pd.DataFrame({'a': [1, 2], 'b': [3, 4]})
&gt;&gt;&gt; df2 = pd.DataFrame({'a': [1, 2], 'b': [3.0, 4.0]})
</pre></div> </div> <p>df1 equals itself.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; assert_frame_equal(df1, df1)
</pre></div> </div> <p>df1 differs from df2 as column ‘b’ is of a different type.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; assert_frame_equal(df1, df2)
Traceback (most recent call last):
...
AssertionError: Attributes of DataFrame.iloc[:, 1] (column name="b") are different
</pre></div> </div> <p>Attribute “dtype” are different [left]: int64 [right]: float64</p> <p>Ignore differing dtypes in columns with check_dtype.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; assert_frame_equal(df1, df2, check_dtype=False)
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.testing.assert_frame_equal.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.testing.assert_frame_equal.html</a>
  </p>
</div>
