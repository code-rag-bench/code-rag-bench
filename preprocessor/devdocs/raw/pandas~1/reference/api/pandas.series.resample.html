<h1>pandas.Series.resample</h1> <dl class="py method"> <dt class="sig sig-object py" id="pandas.Series.resample"> <span class="sig-prename descclassname"><span class="pre">Series.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convention</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'start'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'start_day'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v1.4.0/pandas/core/series.py#L5409-L5438"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Resample time-series data.</p> <p>Convenience method for frequency conversion and resampling of time series. The object must have a datetime-like index (<cite>DatetimeIndex</cite>, <cite>PeriodIndex</cite>, or <cite>TimedeltaIndex</cite>), or the caller must pass the label of a datetime-like series/index to the <code class="docutils literal notranslate"><span class="pre">on</span></code>/<code class="docutils literal notranslate"><span class="pre">level</span></code> keyword parameter.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>rule</strong><span class="classifier">:DateOffset, Timedelta or str</span>
</dt>
<dd>
<p>The offset string or object representing target conversion.</p> </dd> <dt>
<strong>axis</strong><span class="classifier">:{0 or ‘index’, 1 or ‘columns’}, default 0</span>
</dt>
<dd>
<p>Which axis to use for up- or down-sampling. For <cite>Series</cite> this will default to 0, i.e. along the rows. Must be <cite>DatetimeIndex</cite>, <cite>TimedeltaIndex</cite> or <cite>PeriodIndex</cite>.</p> </dd> <dt>
<strong>closed</strong><span class="classifier">:{‘right’, ‘left’}, default None</span>
</dt>
<dd>
<p>Which side of bin interval is closed. The default is ‘left’ for all frequency offsets except for ‘M’, ‘A’, ‘Q’, ‘BM’, ‘BA’, ‘BQ’, and ‘W’ which all have a default of ‘right’.</p> </dd> <dt>
<strong>label</strong><span class="classifier">:{‘right’, ‘left’}, default None</span>
</dt>
<dd>
<p>Which bin edge label to label bucket with. The default is ‘left’ for all frequency offsets except for ‘M’, ‘A’, ‘Q’, ‘BM’, ‘BA’, ‘BQ’, and ‘W’ which all have a default of ‘right’.</p> </dd> <dt>
<strong>convention</strong><span class="classifier">:{‘start’, ‘end’, ‘s’, ‘e’}, default ‘start’</span>
</dt>
<dd>
<p>For <cite>PeriodIndex</cite> only, controls whether to use the start or end of <cite>rule</cite>.</p> </dd> <dt>
<strong>kind</strong><span class="classifier">:{‘timestamp’, ‘period’}, optional, default None</span>
</dt>
<dd>
<p>Pass ‘timestamp’ to convert the resulting index to a <cite>DateTimeIndex</cite> or ‘period’ to convert it to a <cite>PeriodIndex</cite>. By default the input representation is retained.</p> </dd> <dt>
<strong>loffset</strong><span class="classifier">:timedelta, default None</span>
</dt>
<dd>
<p>Adjust the resampled time labels.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 1.1.0: </span>You should add the loffset to the <cite>df.index</cite> after the resample. See below.</p> </div> </dd> <dt>
<strong>base</strong><span class="classifier">:int, default 0</span>
</dt>
<dd>
<p>For frequencies that evenly subdivide 1 day, the “origin” of the aggregated intervals. For example, for ‘5min’ frequency, base could range from 0 through 4. Defaults to 0.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 1.1.0: </span>The new arguments that you should use are ‘offset’ or ‘origin’.</p> </div> </dd> <dt>
<strong>on</strong><span class="classifier">:str, optional</span>
</dt>
<dd>
<p>For a DataFrame, column to use instead of index for resampling. Column must be datetime-like.</p> </dd> <dt>
<strong>level</strong><span class="classifier">:str or int, optional</span>
</dt>
<dd>
<p>For a MultiIndex, level (name or number) to use for resampling. <cite>level</cite> must be datetime-like.</p> </dd> <dt>
<strong>origin</strong><span class="classifier">:Timestamp or str, default ‘start_day’</span>
</dt>
<dd>
<p>The timestamp on which to adjust the grouping. The timezone of origin must match the timezone of the index. If string, must be one of the following:</p> <ul class="simple"> <li><p>‘epoch’: <cite>origin</cite> is 1970-01-01</p></li> <li><p>‘start’: <cite>origin</cite> is the first value of the timeseries</p></li> <li><p>‘start_day’: <cite>origin</cite> is the first day at midnight of the timeseries</p></li> </ul> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.1.0.</span></p> </div> <ul class="simple"> <li><p>‘end’: <cite>origin</cite> is the last value of the timeseries</p></li> <li><p>‘end_day’: <cite>origin</cite> is the ceiling midnight of the last day</p></li> </ul> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.3.0.</span></p> </div> </dd> <dt>
<strong>offset</strong><span class="classifier">:Timedelta or str, default is None</span>
</dt>
<dd>
<p>An offset timedelta added to the origin.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.1.0.</span></p> </div> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>pandas.core.Resampler</dt>
<dd>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Resampler</span></code> object.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="#pandas.Series.resample" title="pandas.Series.resample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Series.resample</span></code></a></dt>
<dd>
<p>Resample a Series.</p> </dd> <dt><a class="reference internal" href="pandas.dataframe.resample#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrame.resample</span></code></a></dt>
<dd>
<p>Resample a DataFrame.</p> </dd> <dt><a class="reference internal" href="pandas.series.groupby#pandas.Series.groupby" title="pandas.Series.groupby"><code class="xref py py-obj docutils literal notranslate"><span class="pre">groupby</span></code></a></dt>
<dd>
<p>Group Series by mapping, function, label, or list of labels.</p> </dd> <dt><a class="reference internal" href="pandas.series.asfreq#pandas.Series.asfreq" title="pandas.Series.asfreq"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asfreq</span></code></a></dt>
<dd>
<p>Reindex a Series with the given frequency without grouping.</p> </dd> </dl> </div> <p class="rubric">Notes</p> <p>See the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#resampling">user guide</a> for more.</p> <p>To learn more about the offset strings, please see <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects">this link</a>.</p> <p class="rubric">Examples</p> <p>Start by creating a series with 9 one minute timestamps.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; index = pd.date_range('1/1/2000', periods=9, freq='T')
&gt;&gt;&gt; series = pd.Series(range(9), index=index)
&gt;&gt;&gt; series
2000-01-01 00:00:00    0
2000-01-01 00:01:00    1
2000-01-01 00:02:00    2
2000-01-01 00:03:00    3
2000-01-01 00:04:00    4
2000-01-01 00:05:00    5
2000-01-01 00:06:00    6
2000-01-01 00:07:00    7
2000-01-01 00:08:00    8
Freq: T, dtype: int64
</pre></div> </div> <p>Downsample the series into 3 minute bins and sum the values of the timestamps falling into a bin.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; series.resample('3T').sum()
2000-01-01 00:00:00     3
2000-01-01 00:03:00    12
2000-01-01 00:06:00    21
Freq: 3T, dtype: int64
</pre></div> </div> <p>Downsample the series into 3 minute bins as above, but label each bin using the right edge instead of the left. Please note that the value in the bucket used as the label is not included in the bucket, which it labels. For example, in the original series the bucket <code class="docutils literal notranslate"><span class="pre">2000-01-01</span> <span class="pre">00:03:00</span></code> contains the value 3, but the summed value in the resampled bucket with the label <code class="docutils literal notranslate"><span class="pre">2000-01-01</span> <span class="pre">00:03:00</span></code> does not include 3 (if it did, the summed value would be 6, not 3). To include this value close the right side of the bin interval as illustrated in the example below this one.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; series.resample('3T', label='right').sum()
2000-01-01 00:03:00     3
2000-01-01 00:06:00    12
2000-01-01 00:09:00    21
Freq: 3T, dtype: int64
</pre></div> </div> <p>Downsample the series into 3 minute bins as above, but close the right side of the bin interval.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; series.resample('3T', label='right', closed='right').sum()
2000-01-01 00:00:00     0
2000-01-01 00:03:00     6
2000-01-01 00:06:00    15
2000-01-01 00:09:00    15
Freq: 3T, dtype: int64
</pre></div> </div> <p>Upsample the series into 30 second bins.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; series.resample('30S').asfreq()[0:5]   # Select first 5 rows
2000-01-01 00:00:00   0.0
2000-01-01 00:00:30   NaN
2000-01-01 00:01:00   1.0
2000-01-01 00:01:30   NaN
2000-01-01 00:02:00   2.0
Freq: 30S, dtype: float64
</pre></div> </div> <p>Upsample the series into 30 second bins and fill the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values using the <code class="docutils literal notranslate"><span class="pre">pad</span></code> method.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; series.resample('30S').pad()[0:5]
2000-01-01 00:00:00    0
2000-01-01 00:00:30    0
2000-01-01 00:01:00    1
2000-01-01 00:01:30    1
2000-01-01 00:02:00    2
Freq: 30S, dtype: int64
</pre></div> </div> <p>Upsample the series into 30 second bins and fill the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values using the <code class="docutils literal notranslate"><span class="pre">bfill</span></code> method.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; series.resample('30S').bfill()[0:5]
2000-01-01 00:00:00    0
2000-01-01 00:00:30    1
2000-01-01 00:01:00    1
2000-01-01 00:01:30    2
2000-01-01 00:02:00    2
Freq: 30S, dtype: int64
</pre></div> </div> <p>Pass a custom function via <code class="docutils literal notranslate"><span class="pre">apply</span></code></p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; def custom_resampler(arraylike):
...     return np.sum(arraylike) + 5
...
&gt;&gt;&gt; series.resample('3T').apply(custom_resampler)
2000-01-01 00:00:00     8
2000-01-01 00:03:00    17
2000-01-01 00:06:00    26
Freq: 3T, dtype: int64
</pre></div> </div> <p>For a Series with a PeriodIndex, the keyword <cite>convention</cite> can be used to control whether to use the start or end of <cite>rule</cite>.</p> <p>Resample a year by quarter using ‘start’ <cite>convention</cite>. Values are assigned to the first quarter of the period.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; s = pd.Series([1, 2], index=pd.period_range('2012-01-01',
...                                             freq='A',
...                                             periods=2))
&gt;&gt;&gt; s
2012    1
2013    2
Freq: A-DEC, dtype: int64
&gt;&gt;&gt; s.resample('Q', convention='start').asfreq()
2012Q1    1.0
2012Q2    NaN
2012Q3    NaN
2012Q4    NaN
2013Q1    2.0
2013Q2    NaN
2013Q3    NaN
2013Q4    NaN
Freq: Q-DEC, dtype: float64
</pre></div> </div> <p>Resample quarters by month using ‘end’ <cite>convention</cite>. Values are assigned to the last month of the period.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; q = pd.Series([1, 2, 3, 4], index=pd.period_range('2018-01-01',
...                                                   freq='Q',
...                                                   periods=4))
&gt;&gt;&gt; q
2018Q1    1
2018Q2    2
2018Q3    3
2018Q4    4
Freq: Q-DEC, dtype: int64
&gt;&gt;&gt; q.resample('M', convention='end').asfreq()
2018-03    1.0
2018-04    NaN
2018-05    NaN
2018-06    2.0
2018-07    NaN
2018-08    NaN
2018-09    3.0
2018-10    NaN
2018-11    NaN
2018-12    4.0
Freq: M, dtype: float64
</pre></div> </div> <p>For DataFrame objects, the keyword <cite>on</cite> can be used to specify the column instead of the index for resampling.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; d = {'price': [10, 11, 9, 13, 14, 18, 17, 19],
...      'volume': [50, 60, 40, 100, 50, 100, 40, 50]}
&gt;&gt;&gt; df = pd.DataFrame(d)
&gt;&gt;&gt; df['week_starting'] = pd.date_range('01/01/2018',
...                                     periods=8,
...                                     freq='W')
&gt;&gt;&gt; df
   price  volume week_starting
0     10      50    2018-01-07
1     11      60    2018-01-14
2      9      40    2018-01-21
3     13     100    2018-01-28
4     14      50    2018-02-04
5     18     100    2018-02-11
6     17      40    2018-02-18
7     19      50    2018-02-25
&gt;&gt;&gt; df.resample('M', on='week_starting').mean()
               price  volume
week_starting
2018-01-31     10.75    62.5
2018-02-28     17.00    60.0
</pre></div> </div> <p>For a DataFrame with MultiIndex, the keyword <cite>level</cite> can be used to specify on which level the resampling needs to take place.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; days = pd.date_range('1/1/2000', periods=4, freq='D')
&gt;&gt;&gt; d2 = {'price': [10, 11, 9, 13, 14, 18, 17, 19],
...       'volume': [50, 60, 40, 100, 50, 100, 40, 50]}
&gt;&gt;&gt; df2 = pd.DataFrame(
...     d2,
...     index=pd.MultiIndex.from_product(
...         [days, ['morning', 'afternoon']]
...     )
... )
&gt;&gt;&gt; df2
                      price  volume
2000-01-01 morning       10      50
           afternoon     11      60
2000-01-02 morning        9      40
           afternoon     13     100
2000-01-03 morning       14      50
           afternoon     18     100
2000-01-04 morning       17      40
           afternoon     19      50
&gt;&gt;&gt; df2.resample('D', level=0).sum()
            price  volume
2000-01-01     21     110
2000-01-02     22     140
2000-01-03     32     150
2000-01-04     36      90
</pre></div> </div> <p>If you want to adjust the start of the bins based on a fixed timestamp:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; start, end = '2000-10-01 23:30:00', '2000-10-02 00:30:00'
&gt;&gt;&gt; rng = pd.date_range(start, end, freq='7min')
&gt;&gt;&gt; ts = pd.Series(np.arange(len(rng)) * 3, index=rng)
&gt;&gt;&gt; ts
2000-10-01 23:30:00     0
2000-10-01 23:37:00     3
2000-10-01 23:44:00     6
2000-10-01 23:51:00     9
2000-10-01 23:58:00    12
2000-10-02 00:05:00    15
2000-10-02 00:12:00    18
2000-10-02 00:19:00    21
2000-10-02 00:26:00    24
Freq: 7T, dtype: int64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min').sum()
2000-10-01 23:14:00     0
2000-10-01 23:31:00     9
2000-10-01 23:48:00    21
2000-10-02 00:05:00    54
2000-10-02 00:22:00    24
Freq: 17T, dtype: int64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', origin='epoch').sum()
2000-10-01 23:18:00     0
2000-10-01 23:35:00    18
2000-10-01 23:52:00    27
2000-10-02 00:09:00    39
2000-10-02 00:26:00    24
Freq: 17T, dtype: int64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', origin='2000-01-01').sum()
2000-10-01 23:24:00     3
2000-10-01 23:41:00    15
2000-10-01 23:58:00    45
2000-10-02 00:15:00    45
Freq: 17T, dtype: int64
</pre></div> </div> <p>If you want to adjust the start of the bins with an <cite>offset</cite> Timedelta, the two following lines are equivalent:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', origin='start').sum()
2000-10-01 23:30:00     9
2000-10-01 23:47:00    21
2000-10-02 00:04:00    54
2000-10-02 00:21:00    24
Freq: 17T, dtype: int64
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', offset='23h30min').sum()
2000-10-01 23:30:00     9
2000-10-01 23:47:00    21
2000-10-02 00:04:00    54
2000-10-02 00:21:00    24
Freq: 17T, dtype: int64
</pre></div> </div> <p>If you want to take the largest Timestamp as the end of the bins:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', origin='end').sum()
2000-10-01 23:35:00     0
2000-10-01 23:52:00    18
2000-10-02 00:09:00    27
2000-10-02 00:26:00    63
Freq: 17T, dtype: int64
</pre></div> </div> <p>In contrast with the <cite>start_day</cite>, you can use <cite>end_day</cite> to take the ceiling midnight of the largest Timestamp as the end of the bins and drop the bins not containing data:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', origin='end_day').sum()
2000-10-01 23:38:00     3
2000-10-01 23:55:00    15
2000-10-02 00:12:00    45
2000-10-02 00:29:00    45
Freq: 17T, dtype: int64
</pre></div> </div> <p>To replace the use of the deprecated <cite>base</cite> argument, you can now use <cite>offset</cite>, in this example it is equivalent to have <cite>base=2</cite>:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; ts.resample('17min', offset='2min').sum()
2000-10-01 23:16:00     0
2000-10-01 23:33:00     9
2000-10-01 23:50:00    36
2000-10-02 00:07:00    39
2000-10-02 00:24:00    24
Freq: 17T, dtype: int64
</pre></div> </div> <p>To replace the use of the deprecated <cite>loffset</cite> argument:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; from pandas.tseries.frequencies import to_offset
&gt;&gt;&gt; loffset = '19min'
&gt;&gt;&gt; ts_out = ts.resample('17min').sum()
&gt;&gt;&gt; ts_out.index = ts_out.index + to_offset(loffset)
&gt;&gt;&gt; ts_out
2000-10-01 23:33:00     0
2000-10-01 23:50:00     9
2000-10-02 00:07:00    21
2000-10-02 00:24:00    54
2000-10-02 00:41:00    24
Freq: 17T, dtype: int64
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.Series.resample.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.Series.resample.html</a>
  </p>
</div>
