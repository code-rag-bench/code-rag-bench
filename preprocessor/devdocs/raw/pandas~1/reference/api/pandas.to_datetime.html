<h1>pandas.to_datetime</h1> <dl class="py function"> <dt class="sig sig-object py" id="pandas.to_datetime"> <span class="sig-prename descclassname"><span class="pre">pandas.</span></span><span class="sig-name descname"><span class="pre">to_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dayfirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yearfirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_datetime_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unix'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v1.4.0/pandas/core/tools/datetimes.py#L678-L1083"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Convert argument to datetime.</p> <p>This function converts a scalar, array-like, <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> or <a class="reference internal" href="pandas.dataframe#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>/dict-like to a pandas datetime object.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>arg</strong><span class="classifier">:int, float, str, datetime, list, tuple, 1-d array, Series, DataFrame/dict-like</span>
</dt>
<dd>
<p>The object to convert to a datetime. If a <a class="reference internal" href="pandas.dataframe#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> is provided, the method expects minimally the following columns: <code class="xref py py-const docutils literal notranslate"><span class="pre">"year"</span></code>, <code class="xref py py-const docutils literal notranslate"><span class="pre">"month"</span></code>, <code class="xref py py-const docutils literal notranslate"><span class="pre">"day"</span></code>.</p> </dd> <dt>
<strong>errors</strong><span class="classifier">:{‘ignore’, ‘raise’, ‘coerce’}, default ‘raise’</span>
</dt>
<dd>
<ul class="simple"> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">'raise'</span></code>, then invalid parsing will raise an exception.</p></li> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">'coerce'</span></code>, then invalid parsing will be set as <code class="xref py py-const docutils literal notranslate"><span class="pre">NaT</span></code>.</p></li> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">'ignore'</span></code>, then invalid parsing will return the input.</p></li> </ul> </dd> <dt>
<strong>dayfirst</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Specify a date parse order if <cite>arg</cite> is str or is list-like. If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, parses dates with the day first, e.g. <code class="xref py py-const docutils literal notranslate"><span class="pre">"10/11/12"</span></code> is parsed as <code class="xref py py-const docutils literal notranslate"><span class="pre">2012-11-10</span></code>.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p><code class="docutils literal notranslate"><span class="pre">dayfirst=True</span></code> is not strict, but will prefer to parse with day first. If a delimited date string cannot be parsed in accordance with the given <cite>dayfirst</cite> option, e.g. <code class="docutils literal notranslate"><span class="pre">to_datetime(['31-12-2021'])</span></code>, then a warning will be shown.</p> </div> </dd> <dt>
<strong>yearfirst</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Specify a date parse order if <cite>arg</cite> is str or is list-like.</p> <ul class="simple"> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> parses dates with the year first, e.g. <code class="xref py py-const docutils literal notranslate"><span class="pre">"10/11/12"</span></code> is parsed as <code class="xref py py-const docutils literal notranslate"><span class="pre">2010-11-12</span></code>.</p></li> <li><p>If both <cite>dayfirst</cite> and <cite>yearfirst</cite> are <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, <cite>yearfirst</cite> is preceded (same as <code class="xref py py-mod docutils literal notranslate"><span class="pre">dateutil</span></code>).</p></li> </ul> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p><code class="docutils literal notranslate"><span class="pre">yearfirst=True</span></code> is not strict, but will prefer to parse with year first.</p> </div> </dd> <dt>
<strong>utc</strong><span class="classifier">:bool, default None</span>
</dt>
<dd>
<p>Control timezone-related parsing, localization and conversion.</p> <ul class="simple"> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, the function <em>always</em> returns a timezone-aware UTC-localized <a class="reference internal" href="pandas.timestamp#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>, <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> or <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>. To do this, timezone-naive inputs are <em>localized</em> as UTC, while timezone-aware inputs are <em>converted</em> to UTC.</p></li> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> (default), inputs will not be coerced to UTC. Timezone-naive inputs will remain naive, while timezone-aware ones will keep their time offsets. Limitations exist for mixed offsets (typically, daylight savings), see <a class="reference internal" href="#to-datetime-tz-examples"><span class="std std-ref">Examples</span></a> section for details.</p></li> </ul> <p>See also: pandas general documentation about <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#time-zone-handling">timezone conversion and localization</a>.</p> </dd> <dt>
<strong>format</strong><span class="classifier">:str, default None</span>
</dt>
<dd>
<p>The strftime to parse time, e.g. <code class="xref py py-const docutils literal notranslate"><span class="pre">"%d/%m/%Y"</span></code>. Note that <code class="xref py py-const docutils literal notranslate"><span class="pre">"%f"</span></code> will parse all the way up to nanoseconds. See <a class="reference external" href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior">strftime documentation</a> for more information on choices.</p> </dd> <dt>
<strong>exact</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Control how <cite>format</cite> is used:</p> <ul class="simple"> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, require an exact <cite>format</cite> match.</p></li> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>, allow the <cite>format</cite> to match anywhere in the target string.</p></li> </ul> </dd> <dt>
<strong>unit</strong><span class="classifier">:str, default ‘ns’</span>
</dt>
<dd>
<p>The unit of the arg (D,s,ms,us,ns) denote the unit, which is an integer or float number. This will be based off the origin. Example, with <code class="docutils literal notranslate"><span class="pre">unit='ms'</span></code> and <code class="docutils literal notranslate"><span class="pre">origin='unix'</span></code> (the default), this would calculate the number of milliseconds to the unix epoch start.</p> </dd> <dt>
<strong>infer_datetime_format</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> and no <cite>format</cite> is given, attempt to infer the format of the datetime strings based on the first non-NaN element, and if it can be inferred, switch to a faster method of parsing them. In some cases this can increase the parsing speed by ~5-10x.</p> </dd> <dt>
<strong>origin</strong><span class="classifier">:scalar, default ‘unix’</span>
</dt>
<dd>
<p>Define the reference date. The numeric values would be parsed as number of units (defined by <cite>unit</cite>) since this reference date.</p> <ul class="simple"> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">'unix'</span></code> (or POSIX) time; origin is set to 1970-01-01.</p></li> <li><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">'julian'</span></code>, unit must be <code class="xref py py-const docutils literal notranslate"><span class="pre">'D'</span></code>, and origin is set to beginning of Julian Calendar. Julian day number <code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code> is assigned to the day starting at noon on January 1, 4713 BC.</p></li> <li><p>If Timestamp convertible, origin is set to Timestamp identified by origin.</p></li> </ul> </dd> <dt>
<strong>cache</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, use a cache of unique, converted dates to apply the datetime conversion. May produce significant speed-up when parsing duplicate date strings, especially ones with timezone offsets. The cache is only used when there are at least 50 values. The presence of out-of-bounds values will render the cache unusable and may slow down parsing.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.25.0: </span>changed default value from <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> to <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>.</p> </div> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>datetime</dt>
<dd>
<p>If parsing succeeded. Return type depends on input (types in parenthesis correspond to fallback in case of unsuccessful timezone or out-of-range timestamp parsing):</p> <ul class="simple"> <li><p>scalar: <a class="reference internal" href="pandas.timestamp#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> (or <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>)</p></li> <li><p>array-like: <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> (or <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> dtype containing <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>)</p></li> <li><p>Series: <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> of <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> dtype (or <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> dtype containing <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>)</p></li> <li><p>DataFrame: <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> of <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> dtype (or <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> dtype containing <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>)</p></li> </ul> </dd> </dl> </dd> <dt class="field-odd">Raises</dt> <dd class="field-odd">
<dl class="simple"> <dt>ParserError</dt>
<dd>
<p>When parsing a date from string fails.</p> </dd> <dt>ValueError</dt>
<dd>
<p>When another datetime conversion error happens. For example when one of ‘year’, ‘month’, day’ columns is missing in a <a class="reference internal" href="pandas.dataframe#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>, or when a Timezone-aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> is found in an array-like of mixed time offsets, and <code class="docutils literal notranslate"><span class="pre">utc=False</span></code>.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="pandas.dataframe.astype#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrame.astype</span></code></a></dt>
<dd>
<p>Cast argument to a specified dtype.</p> </dd> <dt><a class="reference internal" href="pandas.to_timedelta#pandas.to_timedelta" title="pandas.to_timedelta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_timedelta</span></code></a></dt>
<dd>
<p>Convert argument to timedelta.</p> </dd> <dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_dtypes</span></code></dt>
<dd>
<p>Convert dtypes.</p> </dd> </dl> </div> <p class="rubric">Notes</p> <p>Many input types are supported, and lead to different output types:</p> <ul class="simple"> <li><p><strong>scalars</strong> can be int, float, str, datetime object (from stdlib <a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a> module or <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.22)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a>). They are converted to <a class="reference internal" href="pandas.timestamp#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> when possible, otherwise they are converted to <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>. None/NaN/null scalars are converted to <code class="xref py py-const docutils literal notranslate"><span class="pre">NaT</span></code>.</p></li> <li><p><strong>array-like</strong> can contain int, float, str, datetime objects. They are converted to <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> when possible, otherwise they are converted to <a class="reference internal" href="pandas.index#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> with <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> dtype, containing <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>. None/NaN/null entries are converted to <code class="xref py py-const docutils literal notranslate"><span class="pre">NaT</span></code> in both cases.</p></li> <li><p><strong>Series</strong> are converted to <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> dtype when possible, otherwise they are converted to <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> dtype, containing <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>. None/NaN/null entries are converted to <code class="xref py py-const docutils literal notranslate"><span class="pre">NaT</span></code> in both cases.</p></li> <li><p><strong>DataFrame/dict-like</strong> are converted to <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> dtype. For each row a datetime is created from assembling the various dataframe columns. Column keys can be common abbreviations like [‘year’, ‘month’, ‘day’, ‘minute’, ‘second’, ‘ms’, ‘us’, ‘ns’]) or plurals of the same.</p></li> </ul> <p>The following causes are responsible for <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> objects being returned (possibly inside an <a class="reference internal" href="pandas.index#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> or a <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> dtype) instead of a proper pandas designated type (<a class="reference internal" href="pandas.timestamp#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>, <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> or <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> dtype):</p> <ul class="simple"> <li><p>when any input element is before <a class="reference internal" href="pandas.timestamp.min#pandas.Timestamp.min" title="pandas.Timestamp.min"><code class="xref py py-const docutils literal notranslate"><span class="pre">Timestamp.min</span></code></a> or after <a class="reference internal" href="pandas.timestamp.max#pandas.Timestamp.max" title="pandas.Timestamp.max"><code class="xref py py-const docutils literal notranslate"><span class="pre">Timestamp.max</span></code></a>, see <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#timeseries-timestamp-limits">timestamp limitations</a>.</p></li> <li><p>when <code class="docutils literal notranslate"><span class="pre">utc=False</span></code> (default) and the input is an array-like or <a class="reference internal" href="pandas.series#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> containing mixed naive/aware datetime, or aware with mixed time offsets. Note that this happens in the (quite frequent) situation when the timezone has a daylight savings policy. In that case you may wish to use <code class="docutils literal notranslate"><span class="pre">utc=True</span></code>.</p></li> </ul> <p class="rubric">Examples</p> <p><strong>Handling various input formats</strong></p> <p>Assembling a datetime from multiple columns of a <a class="reference internal" href="pandas.dataframe#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>. The keys can be common abbreviations like [‘year’, ‘month’, ‘day’, ‘minute’, ‘second’, ‘ms’, ‘us’, ‘ns’]) or plurals of the same</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df = pd.DataFrame({'year': [2015, 2016],
...                    'month': [2, 3],
...                    'day': [4, 5]})
&gt;&gt;&gt; pd.to_datetime(df)
0   2015-02-04
1   2016-03-05
dtype: datetime64[ns]
</pre></div> </div> <p>Passing <code class="docutils literal notranslate"><span class="pre">infer_datetime_format=True</span></code> can often-times speedup a parsing if its not an ISO8601 format exactly, but in a regular format.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; s = pd.Series(['3/11/2000', '3/12/2000', '3/13/2000'] * 1000)
&gt;&gt;&gt; s.head()
0    3/11/2000
1    3/12/2000
2    3/13/2000
3    3/11/2000
4    3/12/2000
dtype: object
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; %timeit pd.to_datetime(s, infer_datetime_format=True)  
100 loops, best of 3: 10.4 ms per loop
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; %timeit pd.to_datetime(s, infer_datetime_format=False)  
1 loop, best of 3: 471 ms per loop
</pre></div> </div> <p>Using a unix epoch time</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(1490195805, unit='s')
Timestamp('2017-03-22 15:16:45')
&gt;&gt;&gt; pd.to_datetime(1490195805433502912, unit='ns')
Timestamp('2017-03-22 15:16:45.433502912')
</pre></div> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>For float arg, precision rounding might happen. To prevent unexpected behavior use a fixed-width exact type.</p> </div> <p>Using a non-unix epoch origin</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime([1, 2, 3], unit='D',
...                origin=pd.Timestamp('1960-01-01'))
DatetimeIndex(['1960-01-02', '1960-01-03', '1960-01-04'],
              dtype='datetime64[ns]', freq=None)
</pre></div> </div> <p><strong>Non-convertible date/times</strong></p> <p>If a date does not meet the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#timeseries-timestamp-limits">timestamp limitations</a>, passing <code class="docutils literal notranslate"><span class="pre">errors='ignore'</span></code> will return the original input instead of raising any exception.</p> <p>Passing <code class="docutils literal notranslate"><span class="pre">errors='coerce'</span></code> will force an out-of-bounds date to <code class="xref py py-const docutils literal notranslate"><span class="pre">NaT</span></code>, in addition to forcing non-dates (or non-parseable dates) to <code class="xref py py-const docutils literal notranslate"><span class="pre">NaT</span></code>.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime('13000101', format='%Y%m%d', errors='ignore')
datetime.datetime(1300, 1, 1, 0, 0)
&gt;&gt;&gt; pd.to_datetime('13000101', format='%Y%m%d', errors='coerce')
NaT
</pre></div> </div> <p id="to-datetime-tz-examples"><strong>Timezones and time offsets</strong></p> <p>The default behaviour (<code class="docutils literal notranslate"><span class="pre">utc=False</span></code>) is as follows:</p> <ul class="simple"> <li><p>Timezone-naive inputs are converted to timezone-naive <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>:</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(['2018-10-26 12:00', '2018-10-26 13:00:15'])
DatetimeIndex(['2018-10-26 12:00:00', '2018-10-26 13:00:15'],
              dtype='datetime64[ns]', freq=None)
</pre></div> </div> <ul class="simple"> <li><p>Timezone-aware inputs <em>with constant time offset</em> are converted to timezone-aware <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>:</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(['2018-10-26 12:00 -0500', '2018-10-26 13:00 -0500'])
DatetimeIndex(['2018-10-26 12:00:00-05:00', '2018-10-26 13:00:00-05:00'],
              dtype='datetime64[ns, pytz.FixedOffset(-300)]', freq=None)
</pre></div> </div> <ul class="simple"> <li><p>However, timezone-aware inputs <em>with mixed time offsets</em> (for example issued from a timezone with daylight savings, such as Europe/Paris) are <strong>not successfully converted</strong> to a <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>. Instead a simple <a class="reference internal" href="pandas.index#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> containing <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> objects is returned:</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(['2020-10-25 02:00 +0200', '2020-10-25 04:00 +0100'])
Index([2020-10-25 02:00:00+02:00, 2020-10-25 04:00:00+01:00],
      dtype='object')
</pre></div> </div> <ul class="simple"> <li><p>A mix of timezone-aware and timezone-naive inputs is converted to a timezone-aware <a class="reference internal" href="pandas.datetimeindex#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> if the offsets of the timezone-aware are constant:</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; pd.to_datetime(["2020-01-01 01:00 -01:00", datetime(2020, 1, 1, 3, 0)])
DatetimeIndex(['2020-01-01 01:00:00-01:00', '2020-01-01 02:00:00-01:00'],
              dtype='datetime64[ns, pytz.FixedOffset(-60)]', freq=None)
</pre></div> </div> <ul class="simple"> <li><p>Finally, mixing timezone-aware strings and <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> always raises an error, even if the elements all have the same time offset.</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; from datetime import datetime, timezone, timedelta
&gt;&gt;&gt; d = datetime(2020, 1, 1, 18, tzinfo=timezone(-timedelta(hours=1)))
&gt;&gt;&gt; pd.to_datetime(["2020-01-01 17:00 -0100", d])
Traceback (most recent call last):
    ...
ValueError: Tz-aware datetime.datetime cannot be converted to datetime64
            unless utc=True
</pre></div> </div> <div class="line-block"> <div class="line"><br></div> </div> <p>Setting <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> solves most of the above issues:</p> <ul class="simple"> <li><p>Timezone-naive inputs are <em>localized</em> as UTC</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(['2018-10-26 12:00', '2018-10-26 13:00'], utc=True)
DatetimeIndex(['2018-10-26 12:00:00+00:00', '2018-10-26 13:00:00+00:00'],
              dtype='datetime64[ns, UTC]', freq=None)
</pre></div> </div> <ul class="simple"> <li><p>Timezone-aware inputs are <em>converted</em> to UTC (the output represents the exact same datetime, but viewed from the UTC time offset <cite>+00:00</cite>).</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(['2018-10-26 12:00 -0530', '2018-10-26 12:00 -0500'],
...                utc=True)
DatetimeIndex(['2018-10-26 17:30:00+00:00', '2018-10-26 17:00:00+00:00'],
              dtype='datetime64[ns, UTC]', freq=None)
</pre></div> </div> <ul class="simple"> <li><p>Inputs can contain both naive and aware, string or datetime, the above rules still apply</p></li> </ul> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; pd.to_datetime(['2018-10-26 12:00', '2018-10-26 12:00 -0530',
...                datetime(2020, 1, 1, 18),
...                datetime(2020, 1, 1, 18,
...                tzinfo=timezone(-timedelta(hours=1)))],
...                utc=True)
DatetimeIndex(['2018-10-26 12:00:00+00:00', '2018-10-26 17:30:00+00:00',
               '2020-01-01 18:00:00+00:00', '2020-01-01 19:00:00+00:00'],
              dtype='datetime64[ns, UTC]', freq=None)
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.to_datetime.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/1.4.0/reference/api/pandas.to_datetime.html</a>
  </p>
</div>
