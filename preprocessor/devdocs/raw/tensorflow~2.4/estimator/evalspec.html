<h1 class="devsite-page-title">tf.estimator.EvalSpec</h1>      <table class="tfo-notebook-buttons tfo-api nocontent" align="left">  <td> <a target="_blank" href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/training.py#L203-L295">  View source on GitHub </a> </td> </table> <p>Configuration for the "eval" part for the <code translate="no" dir="ltr">train_and_evaluate</code> call.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/estimator/EvalSpec"><code translate="no" dir="ltr">tf.compat.v1.estimator.EvalSpec</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.estimator.EvalSpec(
    input_fn, steps=100, name=None, hooks=None, exporters=None,
    start_delay_secs=120, throttle_secs=600
)
</pre>  <p><code translate="no" dir="ltr">EvalSpec</code> combines details of evaluation of the trained model as well as its export. Evaluation consists of computing metrics to judge the performance of the trained model. Export writes out the trained model on to external storage.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">input_fn</code> </td> <td> A function that constructs the input data for evaluation. See <a href="https://tensorflow.org/guide/premade_estimators#create_input_functions">Premade Estimators</a> for more information. The function should construct and return one of the following: <ul> <li>A 'tf.data.Dataset' object: Outputs of <code translate="no" dir="ltr">Dataset</code> object must be a tuple (features, labels) with same constraints as below.</li> <li>A tuple (features, labels): Where features is a <code translate="no" dir="ltr">Tensor</code> or a dictionary of string feature name to <code translate="no" dir="ltr">Tensor</code> and labels is a <code translate="no" dir="ltr">Tensor</code> or a dictionary of string label name to <code translate="no" dir="ltr">Tensor</code>. </li>
</ul>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">steps</code> </td> <td> Int. Positive number of steps for which to evaluate model. If <code translate="no" dir="ltr">None</code>, evaluates until <code translate="no" dir="ltr">input_fn</code> raises an end-of-input exception. See <a href="../compat/v1/estimator/estimator#evaluate"><code translate="no" dir="ltr">Estimator.evaluate</code></a> for details. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> String. Name of the evaluation if user needs to run multiple evaluations on different data sets. Metrics for different evaluations are saved in separate folders, and appear separately in tensorboard. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">hooks</code> </td> <td> Iterable of <code translate="no" dir="ltr">tf.train.SessionRunHook</code> objects to run during evaluation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">exporters</code> </td> <td> Iterable of <code translate="no" dir="ltr">Exporter</code>s, or a single one, or <code translate="no" dir="ltr">None</code>. <code translate="no" dir="ltr">exporters</code> will be invoked after each evaluation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">start_delay_secs</code> </td> <td> Int. Start evaluating after waiting for this many seconds. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">throttle_secs</code> </td> <td> Int. Do not re-evaluate unless the last evaluation was started at least this many seconds ago. Of course, evaluation does not occur if no new checkpoints are available, hence, this is the minimum. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If any of the input arguments is invalid. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If any of the arguments is not of the expected type. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">input_fn</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">steps</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">hooks</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">exporters</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">start_delay_secs</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">throttle_secs</code> </td> <td> 
</td> </tr> </table>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/estimator/EvalSpec" class="_attribution-link">https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/estimator/EvalSpec</a>
  </p>
</div>
