<h1 class="devsite-page-title">tf.nn.fractional_max_pool</h1>      <table class="tfo-notebook-buttons tfo-api nocontent" align="left">  <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v2.4.0/tensorflow/python/ops/nn_ops.py#L5332-L5428">  View source on GitHub </a> </td> </table> <p>Performs fractional max pooling on the input.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.nn.fractional_max_pool(
    value, pooling_ratio, pseudo_random=False, overlapping=False, seed=0, name=None
)
</pre>  <p>Fractional max pooling is slightly different than regular max pooling. In regular max pooling, you downsize an input set by taking the maximum value of smaller N x N subsections of the set (often 2x2), and try to reduce the set by a factor of N, where N is an integer. Fractional max pooling, as you might expect from the word "fractional", means that the overall reduction ratio N does not have to be an integer.</p> <p>The sizes of the pooling regions are generated randomly but are fairly uniform. For example, let's look at the height dimension, and the constraints on the list of rows that will be pool boundaries.</p> <p>First we define the following:</p> <ol> <li>input_row_length : the number of rows from the input set</li> <li>output_row_length : which will be smaller than the input</li> <li>alpha = input_row_length / output_row_length : our reduction ratio</li> <li>K = floor(alpha)</li> <li>row_pooling_sequence : this is the result list of pool boundary rows</li> </ol> <p>Then, row_pooling_sequence should satisfy:</p> <ol> <li>a[0] = 0 : the first value of the sequence is 0</li> <li>a[end] = input_row_length : the last value of the sequence is the size</li> <li>K &lt;= (a[i+1] - a[i]) &lt;= K+1 : all intervals are K or K+1 size</li> <li>length(row_pooling_sequence) = output_row_length+1</li> </ol>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">value</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code>. 4-D with shape <code translate="no" dir="ltr">[batch, height, width, channels]</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">pooling_ratio</code> </td> <td> An int or list of <code translate="no" dir="ltr">ints</code> that has length <code translate="no" dir="ltr">1</code>, <code translate="no" dir="ltr">2</code> or <code translate="no" dir="ltr">4</code>. Pooling ratio for each dimension of <code translate="no" dir="ltr">value</code>, currently only supports row and col dimension and should be &gt;= 1.0. For example, a valid pooling ratio looks like [1.0, 1.44, 1.73, 1.0]. The first and last elements must be 1.0 because we don't allow pooling on batch and channels dimensions. 1.44 and 1.73 are pooling ratio on height and width dimensions respectively. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">pseudo_random</code> </td> <td> An optional <code translate="no" dir="ltr">bool</code>. Defaults to <code translate="no" dir="ltr">False</code>. When set to <code translate="no" dir="ltr">True</code>, generates the pooling sequence in a pseudorandom fashion, otherwise, in a random fashion. Check paper (Graham, 2015) for difference between pseudorandom and random. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">overlapping</code> </td> <td> An optional <code translate="no" dir="ltr">bool</code>. Defaults to <code translate="no" dir="ltr">False</code>. When set to <code translate="no" dir="ltr">True</code>, it means when pooling, the values at the boundary of adjacent pooling cells are used by both cells. For example: <code translate="no" dir="ltr">index 0 1 2 3 4</code> <code translate="no" dir="ltr">value 20 5 16 3 7</code> If the pooling sequence is [0, 2, 4], then 16, at index 2 will be used twice. The result would be [20, 16] for fractional max pooling. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">seed</code> </td> <td> An optional <code translate="no" dir="ltr">int</code>. Defaults to <code translate="no" dir="ltr">0</code>. If set to be non-zero, the random number generator is seeded by the given seed. Otherwise it is seeded by a random seed. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the operation (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> 
</table> <p>A tuple of <code translate="no" dir="ltr">Tensor</code> objects (<code translate="no" dir="ltr">output</code>, <code translate="no" dir="ltr">row_pooling_sequence</code>, <code translate="no" dir="ltr">col_pooling_sequence</code>). output: Output <code translate="no" dir="ltr">Tensor</code> after fractional max pooling. Has the same type as <code translate="no" dir="ltr">value</code>. row_pooling_sequence: A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int64</code>. col_pooling_sequence: A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int64</code>.</p> <h4 id="references" data-text="References:">References:</h4> <p>Fractional Max-Pooling: <a href="https://arxiv.org/abs/1412.6071">Graham, 2015</a> (<a href="https://arxiv.org/pdf/1412.6071.pdf">pdf</a>)</p>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/nn/fractional_max_pool" class="_attribution-link">https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/nn/fractional_max_pool</a>
  </p>
</div>
