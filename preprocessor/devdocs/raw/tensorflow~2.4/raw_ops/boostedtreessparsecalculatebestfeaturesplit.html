<h1 class="devsite-page-title">tf.raw_ops.BoostedTreesSparseCalculateBestFeatureSplit</h1>       <p>Calculates gains for each feature and returns the best possible split information for the feature.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/raw_ops/BoostedTreesSparseCalculateBestFeatureSplit"><code translate="no" dir="ltr">tf.compat.v1.raw_ops.BoostedTreesSparseCalculateBestFeatureSplit</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.raw_ops.BoostedTreesSparseCalculateBestFeatureSplit(
    node_id_range, stats_summary_indices, stats_summary_values, stats_summary_shape,
    l1, l2, tree_complexity, min_node_weight, logits_dimension,
    split_type='inequality', name=None
)
</pre>  <p>The split information is the best threshold (bucket id), gains and left/right node contributions per node for each feature.</p> <p>It is possible that not all nodes can be split on each feature. Hence, the list of possible nodes can differ between the features. Therefore, we return <code translate="no" dir="ltr">node_ids_list</code> for each feature, containing the list of nodes that this feature can be used to split.</p> <p>In this manner, the output is the best split per features and per node, so that it needs to be combined later to produce the best split for each node (among all possible features).</p> <p>The output shapes are compatible in a way that the first dimension of all tensors are the same and equal to the number of possible split nodes for each feature.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">node_id_range</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int32</code>. A Rank 1 tensor (shape=[2]) to specify the range [first, last) of node ids to process within <code translate="no" dir="ltr">stats_summary_list</code>. The nodes are iterated between the two nodes specified by the tensor, as like <code translate="no" dir="ltr">for node_id in range(node_id_range[0], node_id_range[1])</code> (Note that the last index node_id_range[1] is exclusive). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">stats_summary_indices</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int32</code>. A Rank 2 int64 tensor of dense shape <a href="n%20specifies%20the%20number%20of%20non-zero%20values">N, 4</a> for accumulated stats summary (gradient/hessian) per node per bucket for each feature. The second dimension contains node id, feature dimension, bucket id, and stats dim. stats dim is the sum of logits dimension and hessian dimension, hessian dimension can either be logits dimension if diagonal hessian is used, or logits dimension^2 if full hessian is used. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">stats_summary_values</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. A Rank 1 float tensor of dense shape <a href="n%20specifies%20the%20number%20of%20non-zero%20values">N</a>, which supplies the values for each element in summary_indices. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">stats_summary_shape</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int32</code>. A Rank 1 float tensor of dense shape [4], which specifies the dense shape of the sparse tensor, which is [num tree nodes, feature dimensions, num buckets, stats dim]. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">l1</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. l1 regularization factor on leaf weights, per instance based. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">l2</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. l2 regularization factor on leaf weights, per instance based. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">tree_complexity</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. adjustment to the gain, per leaf based. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">min_node_weight</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. minimum avg of hessians in a node before required for the node to be considered for splitting. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">logits_dimension</code> </td> <td> An <code translate="no" dir="ltr">int</code> that is <code translate="no" dir="ltr">&gt;= 1</code>. The dimension of logit, i.e., number of classes. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">split_type</code> </td> <td> An optional <code translate="no" dir="ltr">string</code> from: <code translate="no" dir="ltr">"inequality"</code>. Defaults to <code translate="no" dir="ltr">"inequality"</code>. A string indicating if this Op should perform inequality split or equality split. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the operation (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A tuple of <code translate="no" dir="ltr">Tensor</code> objects (node_ids, gains, feature_dimensions, thresholds, left_node_contribs, right_node_contribs, split_with_default_directions). </td> </tr> <tr> <td> <code translate="no" dir="ltr">node_ids</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int32</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">gains</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">feature_dimensions</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int32</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">thresholds</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">int32</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">left_node_contribs</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">right_node_contribs</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">float32</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">split_with_default_directions</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">string</code>. </td> </tr> </table>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/raw_ops/BoostedTreesSparseCalculateBestFeatureSplit" class="_attribution-link">https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/raw_ops/BoostedTreesSparseCalculateBestFeatureSplit</a>
  </p>
</div>
