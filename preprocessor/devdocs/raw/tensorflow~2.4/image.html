<h1 class="devsite-page-title">Module: tf.image</h1>       <p>Image ops.</p> <p>The <a href="image"><code translate="no" dir="ltr">tf.image</code></a> module contains various functions for image processing and decoding-encoding Ops.</p> <p>Many of the encoding/decoding functions are also available in the core <a href="io"><code translate="no" dir="ltr">tf.io</code></a> module.</p> <h2 id="image_processing" data-text="Image processing">Image processing</h2> <h3 id="resizing" data-text="Resizing">Resizing</h3> <p>The resizing Ops accept input images as tensors of several types. They always output resized images as float32 tensors.</p> <p>The convenience function <a href="image/resize"><code translate="no" dir="ltr">tf.image.resize</code></a> supports both 4-D and 3-D tensors as input and output. 4-D tensors are for batches of images, 3-D tensors for individual images.</p> <p>Resized images will be distorted if their original aspect ratio is not the same as size. To avoid distortions see tf.image.resize_with_pad.</p> <ul> <li><a href="image/resize"><code translate="no" dir="ltr">tf.image.resize</code></a></li> <li><a href="image/resize_with_pad"><code translate="no" dir="ltr">tf.image.resize_with_pad</code></a></li> <li><a href="image/resize_with_crop_or_pad"><code translate="no" dir="ltr">tf.image.resize_with_crop_or_pad</code></a></li> </ul> <p>The Class <a href="image/resizemethod"><code translate="no" dir="ltr">tf.image.ResizeMethod</code></a> provides various resize methods like <code translate="no" dir="ltr">bilinear</code>, <code translate="no" dir="ltr">nearest_neighbor</code>.</p> <h3 id="converting_between_colorspaces" data-text="Converting Between Colorspaces">Converting Between Colorspaces</h3> <p>Image ops work either on individual images or on batches of images, depending on the shape of their input Tensor.</p> <p>If 3-D, the shape is <code translate="no" dir="ltr">[height, width, channels]</code>, and the Tensor represents one image. If 4-D, the shape is <code translate="no" dir="ltr">[batch_size, height, width, channels]</code>, and the Tensor represents <code translate="no" dir="ltr">batch_size</code> images.</p> <p>Currently, <code translate="no" dir="ltr">channels</code> can usefully be 1, 2, 3, or 4. Single-channel images are grayscale, images with 3 channels are encoded as either RGB or HSV. Images with 2 or 4 channels include an alpha channel, which has to be stripped from the image before passing the image to most image processing functions (and can be re-attached later).</p> <p>Internally, images are either stored in as one <code translate="no" dir="ltr">float32</code> per channel per pixel (implicitly, values are assumed to lie in <code translate="no" dir="ltr">[0,1)</code>) or one <code translate="no" dir="ltr">uint8</code> per channel per pixel (values are assumed to lie in <code translate="no" dir="ltr">[0,255]</code>).</p> <p>TensorFlow can convert between images in RGB or HSV or YIQ.</p> <ul> <li>
<a href="image/rgb_to_grayscale"><code translate="no" dir="ltr">tf.image.rgb_to_grayscale</code></a>, <a href="image/grayscale_to_rgb"><code translate="no" dir="ltr">tf.image.grayscale_to_rgb</code></a>
</li> <li>
<a href="image/rgb_to_hsv"><code translate="no" dir="ltr">tf.image.rgb_to_hsv</code></a>, <a href="image/hsv_to_rgb"><code translate="no" dir="ltr">tf.image.hsv_to_rgb</code></a>
</li> <li>
<a href="image/rgb_to_yiq"><code translate="no" dir="ltr">tf.image.rgb_to_yiq</code></a>, <a href="image/yiq_to_rgb"><code translate="no" dir="ltr">tf.image.yiq_to_rgb</code></a>
</li> <li>
<a href="image/rgb_to_yuv"><code translate="no" dir="ltr">tf.image.rgb_to_yuv</code></a>, <a href="image/yuv_to_rgb"><code translate="no" dir="ltr">tf.image.yuv_to_rgb</code></a>
</li> <li><a href="image/image_gradients"><code translate="no" dir="ltr">tf.image.image_gradients</code></a></li> <li><a href="image/convert_image_dtype"><code translate="no" dir="ltr">tf.image.convert_image_dtype</code></a></li> </ul> <h3 id="image_adjustments" data-text="Image Adjustments">Image Adjustments</h3> <p>TensorFlow provides functions to adjust images in various ways: brightness, contrast, hue, and saturation. Each adjustment can be done with predefined parameters or with random parameters picked from predefined intervals. Random adjustments are often useful to expand a training set and reduce overfitting.</p> <p>If several adjustments are chained it is advisable to minimize the number of redundant conversions by first converting the images to the most natural data type and representation.</p> <ul> <li><a href="image/adjust_brightness"><code translate="no" dir="ltr">tf.image.adjust_brightness</code></a></li> <li><a href="image/adjust_contrast"><code translate="no" dir="ltr">tf.image.adjust_contrast</code></a></li> <li><a href="image/adjust_gamma"><code translate="no" dir="ltr">tf.image.adjust_gamma</code></a></li> <li><a href="image/adjust_hue"><code translate="no" dir="ltr">tf.image.adjust_hue</code></a></li> <li><a href="image/adjust_jpeg_quality"><code translate="no" dir="ltr">tf.image.adjust_jpeg_quality</code></a></li> <li><a href="image/adjust_saturation"><code translate="no" dir="ltr">tf.image.adjust_saturation</code></a></li> <li><a href="image/random_brightness"><code translate="no" dir="ltr">tf.image.random_brightness</code></a></li> <li><a href="image/random_contrast"><code translate="no" dir="ltr">tf.image.random_contrast</code></a></li> <li><a href="image/random_hue"><code translate="no" dir="ltr">tf.image.random_hue</code></a></li> <li><a href="image/random_saturation"><code translate="no" dir="ltr">tf.image.random_saturation</code></a></li> <li><a href="image/per_image_standardization"><code translate="no" dir="ltr">tf.image.per_image_standardization</code></a></li> </ul> <h3 id="working_with_bounding_boxes" data-text="Working with Bounding Boxes">Working with Bounding Boxes</h3> <ul> <li><a href="image/draw_bounding_boxes"><code translate="no" dir="ltr">tf.image.draw_bounding_boxes</code></a></li> <li><a href="image/combined_non_max_suppression"><code translate="no" dir="ltr">tf.image.combined_non_max_suppression</code></a></li> <li><a href="image/generate_bounding_box_proposals"><code translate="no" dir="ltr">tf.image.generate_bounding_box_proposals</code></a></li> <li><a href="image/non_max_suppression"><code translate="no" dir="ltr">tf.image.non_max_suppression</code></a></li> <li><a href="image/non_max_suppression_overlaps"><code translate="no" dir="ltr">tf.image.non_max_suppression_overlaps</code></a></li> <li><a href="image/non_max_suppression_padded"><code translate="no" dir="ltr">tf.image.non_max_suppression_padded</code></a></li> <li><a href="image/non_max_suppression_with_scores"><code translate="no" dir="ltr">tf.image.non_max_suppression_with_scores</code></a></li> <li><a href="image/pad_to_bounding_box"><code translate="no" dir="ltr">tf.image.pad_to_bounding_box</code></a></li> <li><a href="image/sample_distorted_bounding_box"><code translate="no" dir="ltr">tf.image.sample_distorted_bounding_box</code></a></li> </ul> <h3 id="cropping" data-text="Cropping">Cropping</h3> <ul> <li><a href="image/central_crop"><code translate="no" dir="ltr">tf.image.central_crop</code></a></li> <li><a href="image/crop_and_resize"><code translate="no" dir="ltr">tf.image.crop_and_resize</code></a></li> <li><a href="image/crop_to_bounding_box"><code translate="no" dir="ltr">tf.image.crop_to_bounding_box</code></a></li> <li><a href="io/decode_and_crop_jpeg"><code translate="no" dir="ltr">tf.io.decode_and_crop_jpeg</code></a></li> <li><a href="image/extract_glimpse"><code translate="no" dir="ltr">tf.image.extract_glimpse</code></a></li> <li><a href="image/random_crop"><code translate="no" dir="ltr">tf.image.random_crop</code></a></li> <li><a href="image/resize_with_crop_or_pad"><code translate="no" dir="ltr">tf.image.resize_with_crop_or_pad</code></a></li> </ul> <h3 id="flipping_rotating_and_transposing" data-text="Flipping, Rotating and Transposing">Flipping, Rotating and Transposing</h3> <ul> <li><a href="image/flip_left_right"><code translate="no" dir="ltr">tf.image.flip_left_right</code></a></li> <li><a href="image/flip_up_down"><code translate="no" dir="ltr">tf.image.flip_up_down</code></a></li> <li><a href="image/random_flip_left_right"><code translate="no" dir="ltr">tf.image.random_flip_left_right</code></a></li> <li><a href="image/random_flip_up_down"><code translate="no" dir="ltr">tf.image.random_flip_up_down</code></a></li> <li><a href="image/rot90"><code translate="no" dir="ltr">tf.image.rot90</code></a></li> <li><a href="image/transpose"><code translate="no" dir="ltr">tf.image.transpose</code></a></li> </ul> <h2 id="image_decoding_and_encoding" data-text="Image decoding and encoding">Image decoding and encoding</h2> <p>TensorFlow provides Ops to decode and encode JPEG and PNG formats. Encoded images are represented by scalar string Tensors, decoded images by 3-D uint8 tensors of shape <code translate="no" dir="ltr">[height, width, channels]</code>. (PNG also supports uint16.)</p> <blockquote class="note">
<strong>Note:</strong><span> <code translate="no" dir="ltr">decode_gif</code> returns a 4-D array <code translate="no" dir="ltr">[num_frames, height, width, 3]</code></span>
</blockquote> <p>The encode and decode Ops apply to one image at a time. Their input and output are all of variable size. If you need fixed size images, pass the output of the decode Ops to one of the cropping and resizing Ops.</p> <ul> <li><a href="io/decode_bmp"><code translate="no" dir="ltr">tf.io.decode_bmp</code></a></li> <li><a href="io/decode_gif"><code translate="no" dir="ltr">tf.io.decode_gif</code></a></li> <li><a href="io/decode_image"><code translate="no" dir="ltr">tf.io.decode_image</code></a></li> <li><a href="io/decode_jpeg"><code translate="no" dir="ltr">tf.io.decode_jpeg</code></a></li> <li><a href="io/decode_and_crop_jpeg"><code translate="no" dir="ltr">tf.io.decode_and_crop_jpeg</code></a></li> <li><a href="io/decode_png"><code translate="no" dir="ltr">tf.io.decode_png</code></a></li> <li><a href="io/encode_jpeg"><code translate="no" dir="ltr">tf.io.encode_jpeg</code></a></li> <li><a href="io/encode_png"><code translate="no" dir="ltr">tf.io.encode_png</code></a></li> </ul> <h2 id="classes" data-text="Classes">Classes</h2> <p><a href="image/resizemethod"><code translate="no" dir="ltr">class ResizeMethod</code></a>: See <a href="image/resize"><code translate="no" dir="ltr">tf.image.resize</code></a> for details.</p> <h2 id="functions" data-text="Functions">Functions</h2> <p><a href="image/adjust_brightness"><code translate="no" dir="ltr">adjust_brightness(...)</code></a>: Adjust the brightness of RGB or Grayscale images.</p> <p><a href="image/adjust_contrast"><code translate="no" dir="ltr">adjust_contrast(...)</code></a>: Adjust contrast of RGB or grayscale images.</p> <p><a href="image/adjust_gamma"><code translate="no" dir="ltr">adjust_gamma(...)</code></a>: Performs <a href="http://en.wikipedia.org/wiki/Gamma_correction">Gamma Correction</a>.</p> <p><a href="image/adjust_hue"><code translate="no" dir="ltr">adjust_hue(...)</code></a>: Adjust hue of RGB images.</p> <p><a href="image/adjust_jpeg_quality"><code translate="no" dir="ltr">adjust_jpeg_quality(...)</code></a>: Adjust jpeg encoding quality of an image.</p> <p><a href="image/adjust_saturation"><code translate="no" dir="ltr">adjust_saturation(...)</code></a>: Adjust saturation of RGB images.</p> <p><a href="image/central_crop"><code translate="no" dir="ltr">central_crop(...)</code></a>: Crop the central region of the image(s).</p> <p><a href="image/combined_non_max_suppression"><code translate="no" dir="ltr">combined_non_max_suppression(...)</code></a>: Greedily selects a subset of bounding boxes in descending order of score.</p> <p><a href="image/convert_image_dtype"><code translate="no" dir="ltr">convert_image_dtype(...)</code></a>: Convert <code translate="no" dir="ltr">image</code> to <code translate="no" dir="ltr">dtype</code>, scaling its values if needed.</p> <p><a href="image/crop_and_resize"><code translate="no" dir="ltr">crop_and_resize(...)</code></a>: Extracts crops from the input image tensor and resizes them.</p> <p><a href="image/crop_to_bounding_box"><code translate="no" dir="ltr">crop_to_bounding_box(...)</code></a>: Crops an image to a specified bounding box.</p> <p><a href="io/decode_and_crop_jpeg"><code translate="no" dir="ltr">decode_and_crop_jpeg(...)</code></a>: Decode and Crop a JPEG-encoded image to a uint8 tensor.</p> <p><a href="io/decode_bmp"><code translate="no" dir="ltr">decode_bmp(...)</code></a>: Decode the first frame of a BMP-encoded image to a uint8 tensor.</p> <p><a href="io/decode_gif"><code translate="no" dir="ltr">decode_gif(...)</code></a>: Decode the frame(s) of a GIF-encoded image to a uint8 tensor.</p> <p><a href="io/decode_image"><code translate="no" dir="ltr">decode_image(...)</code></a>: Function for <code translate="no" dir="ltr">decode_bmp</code>, <code translate="no" dir="ltr">decode_gif</code>, <code translate="no" dir="ltr">decode_jpeg</code>, and <code translate="no" dir="ltr">decode_png</code>.</p> <p><a href="io/decode_jpeg"><code translate="no" dir="ltr">decode_jpeg(...)</code></a>: Decode a JPEG-encoded image to a uint8 tensor.</p> <p><a href="io/decode_png"><code translate="no" dir="ltr">decode_png(...)</code></a>: Decode a PNG-encoded image to a uint8 or uint16 tensor.</p> <p><a href="image/draw_bounding_boxes"><code translate="no" dir="ltr">draw_bounding_boxes(...)</code></a>: Draw bounding boxes on a batch of images.</p> <p><a href="io/encode_jpeg"><code translate="no" dir="ltr">encode_jpeg(...)</code></a>: JPEG-encode an image.</p> <p><a href="io/encode_png"><code translate="no" dir="ltr">encode_png(...)</code></a>: PNG-encode an image.</p> <p><a href="image/extract_glimpse"><code translate="no" dir="ltr">extract_glimpse(...)</code></a>: Extracts a glimpse from the input tensor.</p> <p><a href="io/extract_jpeg_shape"><code translate="no" dir="ltr">extract_jpeg_shape(...)</code></a>: Extract the shape information of a JPEG-encoded image.</p> <p><a href="image/extract_patches"><code translate="no" dir="ltr">extract_patches(...)</code></a>: Extract <code translate="no" dir="ltr">patches</code> from <code translate="no" dir="ltr">images</code>.</p> <p><a href="image/flip_left_right"><code translate="no" dir="ltr">flip_left_right(...)</code></a>: Flip an image horizontally (left to right).</p> <p><a href="image/flip_up_down"><code translate="no" dir="ltr">flip_up_down(...)</code></a>: Flip an image vertically (upside down).</p> <p><a href="image/generate_bounding_box_proposals"><code translate="no" dir="ltr">generate_bounding_box_proposals(...)</code></a>: Generate bounding box proposals from encoded bounding boxes.</p> <p><a href="image/grayscale_to_rgb"><code translate="no" dir="ltr">grayscale_to_rgb(...)</code></a>: Converts one or more images from Grayscale to RGB.</p> <p><a href="image/hsv_to_rgb"><code translate="no" dir="ltr">hsv_to_rgb(...)</code></a>: Convert one or more images from HSV to RGB.</p> <p><a href="image/image_gradients"><code translate="no" dir="ltr">image_gradients(...)</code></a>: Returns image gradients (dy, dx) for each color channel.</p> <p><a href="io/is_jpeg"><code translate="no" dir="ltr">is_jpeg(...)</code></a>: Convenience function to check if the 'contents' encodes a JPEG image.</p> <p><a href="image/non_max_suppression"><code translate="no" dir="ltr">non_max_suppression(...)</code></a>: Greedily selects a subset of bounding boxes in descending order of score.</p> <p><a href="image/non_max_suppression_overlaps"><code translate="no" dir="ltr">non_max_suppression_overlaps(...)</code></a>: Greedily selects a subset of bounding boxes in descending order of score.</p> <p><a href="image/non_max_suppression_padded"><code translate="no" dir="ltr">non_max_suppression_padded(...)</code></a>: Greedily selects a subset of bounding boxes in descending order of score.</p> <p><a href="image/non_max_suppression_with_scores"><code translate="no" dir="ltr">non_max_suppression_with_scores(...)</code></a>: Greedily selects a subset of bounding boxes in descending order of score.</p> <p><a href="image/pad_to_bounding_box"><code translate="no" dir="ltr">pad_to_bounding_box(...)</code></a>: Pad <code translate="no" dir="ltr">image</code> with zeros to the specified <code translate="no" dir="ltr">height</code> and <code translate="no" dir="ltr">width</code>.</p> <p><a href="image/per_image_standardization"><code translate="no" dir="ltr">per_image_standardization(...)</code></a>: Linearly scales each image in <code translate="no" dir="ltr">image</code> to have mean 0 and variance 1.</p> <p><a href="image/psnr"><code translate="no" dir="ltr">psnr(...)</code></a>: Returns the Peak Signal-to-Noise Ratio between a and b.</p> <p><a href="image/random_brightness"><code translate="no" dir="ltr">random_brightness(...)</code></a>: Adjust the brightness of images by a random factor.</p> <p><a href="image/random_contrast"><code translate="no" dir="ltr">random_contrast(...)</code></a>: Adjust the contrast of an image or images by a random factor.</p> <p><a href="image/random_crop"><code translate="no" dir="ltr">random_crop(...)</code></a>: Randomly crops a tensor to a given size.</p> <p><a href="image/random_flip_left_right"><code translate="no" dir="ltr">random_flip_left_right(...)</code></a>: Randomly flip an image horizontally (left to right).</p> <p><a href="image/random_flip_up_down"><code translate="no" dir="ltr">random_flip_up_down(...)</code></a>: Randomly flips an image vertically (upside down).</p> <p><a href="image/random_hue"><code translate="no" dir="ltr">random_hue(...)</code></a>: Adjust the hue of RGB images by a random factor.</p> <p><a href="image/random_jpeg_quality"><code translate="no" dir="ltr">random_jpeg_quality(...)</code></a>: Randomly changes jpeg encoding quality for inducing jpeg noise.</p> <p><a href="image/random_saturation"><code translate="no" dir="ltr">random_saturation(...)</code></a>: Adjust the saturation of RGB images by a random factor.</p> <p><a href="image/resize"><code translate="no" dir="ltr">resize(...)</code></a>: Resize <code translate="no" dir="ltr">images</code> to <code translate="no" dir="ltr">size</code> using the specified <code translate="no" dir="ltr">method</code>.</p> <p><a href="image/resize_with_crop_or_pad"><code translate="no" dir="ltr">resize_with_crop_or_pad(...)</code></a>: Crops and/or pads an image to a target width and height.</p> <p><a href="image/resize_with_pad"><code translate="no" dir="ltr">resize_with_pad(...)</code></a>: Resizes and pads an image to a target width and height.</p> <p><a href="image/rgb_to_grayscale"><code translate="no" dir="ltr">rgb_to_grayscale(...)</code></a>: Converts one or more images from RGB to Grayscale.</p> <p><a href="image/rgb_to_hsv"><code translate="no" dir="ltr">rgb_to_hsv(...)</code></a>: Converts one or more images from RGB to HSV.</p> <p><a href="image/rgb_to_yiq"><code translate="no" dir="ltr">rgb_to_yiq(...)</code></a>: Converts one or more images from RGB to YIQ.</p> <p><a href="image/rgb_to_yuv"><code translate="no" dir="ltr">rgb_to_yuv(...)</code></a>: Converts one or more images from RGB to YUV.</p> <p><a href="image/rot90"><code translate="no" dir="ltr">rot90(...)</code></a>: Rotate image(s) counter-clockwise by 90 degrees.</p> <p><a href="image/sample_distorted_bounding_box"><code translate="no" dir="ltr">sample_distorted_bounding_box(...)</code></a>: Generate a single randomly distorted bounding box for an image.</p> <p><a href="image/sobel_edges"><code translate="no" dir="ltr">sobel_edges(...)</code></a>: Returns a tensor holding Sobel edge maps.</p> <p><a href="image/ssim"><code translate="no" dir="ltr">ssim(...)</code></a>: Computes SSIM index between img1 and img2.</p> <p><a href="image/ssim_multiscale"><code translate="no" dir="ltr">ssim_multiscale(...)</code></a>: Computes the MS-SSIM between img1 and img2.</p> <p><a href="image/stateless_random_brightness"><code translate="no" dir="ltr">stateless_random_brightness(...)</code></a>: Adjust the brightness of images by a random factor deterministically.</p> <p><a href="image/stateless_random_contrast"><code translate="no" dir="ltr">stateless_random_contrast(...)</code></a>: Adjust the contrast of images by a random factor deterministically.</p> <p><a href="image/stateless_random_crop"><code translate="no" dir="ltr">stateless_random_crop(...)</code></a>: Randomly crops a tensor to a given size in a deterministic manner.</p> <p><a href="image/stateless_random_flip_left_right"><code translate="no" dir="ltr">stateless_random_flip_left_right(...)</code></a>: Randomly flip an image horizontally (left to right) deterministically.</p> <p><a href="image/stateless_random_flip_up_down"><code translate="no" dir="ltr">stateless_random_flip_up_down(...)</code></a>: Randomly flip an image vertically (upside down) deterministically.</p> <p><a href="image/stateless_random_hue"><code translate="no" dir="ltr">stateless_random_hue(...)</code></a>: Adjust the hue of RGB images by a random factor deterministically.</p> <p><a href="image/stateless_random_jpeg_quality"><code translate="no" dir="ltr">stateless_random_jpeg_quality(...)</code></a>: Deterministically radomize jpeg encoding quality for inducing jpeg noise.</p> <p><a href="image/stateless_random_saturation"><code translate="no" dir="ltr">stateless_random_saturation(...)</code></a>: Adjust the saturation of RGB images by a random factor deterministically.</p> <p><a href="image/stateless_sample_distorted_bounding_box"><code translate="no" dir="ltr">stateless_sample_distorted_bounding_box(...)</code></a>: Generate a randomly distorted bounding box for an image deterministically.</p> <p><a href="image/total_variation"><code translate="no" dir="ltr">total_variation(...)</code></a>: Calculate and return the total variation for one or more images.</p> <p><a href="image/transpose"><code translate="no" dir="ltr">transpose(...)</code></a>: Transpose image(s) by swapping the height and width dimension.</p> <p><a href="image/yiq_to_rgb"><code translate="no" dir="ltr">yiq_to_rgb(...)</code></a>: Converts one or more images from YIQ to RGB.</p> <p><a href="image/yuv_to_rgb"><code translate="no" dir="ltr">yuv_to_rgb(...)</code></a>: Converts one or more images from YUV to RGB.</p>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/image" class="_attribution-link">https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/image</a>
  </p>
</div>
