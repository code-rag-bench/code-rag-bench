<h1 id="models">Models</h1> <p id="s-module-django.db.models">A model is the single, definitive source of information about your data. It contains the essential fields and behaviors of the data you’re storing. Generally, each model maps to a single database table.</p> <p>The basics:</p> <ul class="simple"> <li>Each model is a Python class that subclasses <a class="reference internal" href="../../ref/models/instances#django.db.models.Model" title="django.db.models.Model"><code>django.db.models.Model</code></a>.</li> <li>Each attribute of the model represents a database field.</li> <li>With all of this, Django gives you an automatically-generated database-access API; see <a class="reference internal" href="queries"><span class="doc">Making queries</span></a>.</li> </ul>  <h2 id="quick-example">Quick example</h2> <p id="s-quick-example">This example model defines a <code>Person</code>, which has a <code>first_name</code> and <code>last_name</code>:</p> <pre data-language="python">from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)
</pre> <p><code>first_name</code> and <code>last_name</code> are <a class="reference internal" href="#fields">fields</a> of the model. Each field is specified as a class attribute, and each attribute maps to a database column.</p> <p>The above <code>Person</code> model would create a database table like this:</p> <pre data-language="sql">CREATE TABLE myapp_person (
    "id" serial NOT NULL PRIMARY KEY,
    "first_name" varchar(30) NOT NULL,
    "last_name" varchar(30) NOT NULL
);
</pre> <p>Some technical notes:</p> <ul class="simple"> <li>The name of the table, <code>myapp_person</code>, is automatically derived from some model metadata but can be overridden. See <a class="reference internal" href="../../ref/models/options#table-names"><span class="std std-ref">Table names</span></a> for more details.</li> <li>An <code>id</code> field is added automatically, but this behavior can be overridden. See <a class="reference internal" href="#automatic-primary-key-fields"><span class="std std-ref">Automatic primary key fields</span></a>.</li> <li>The <code>CREATE TABLE</code> SQL in this example is formatted using PostgreSQL syntax, but it’s worth noting Django uses SQL tailored to the database backend specified in your <a class="reference internal" href="../settings"><span class="doc">settings file</span></a>.</li> </ul>   <h2 id="using-models">Using models</h2> <p id="s-using-models">Once you have defined your models, you need to tell Django you’re going to <em>use</em> those models. Do this by editing your settings file and changing the <a class="reference internal" href="../../ref/settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> setting to add the name of the module that contains your <code>models.py</code>.</p> <p>For example, if the models for your application live in the module <code>myapp.models</code> (the package structure that is created for an application by the <a class="reference internal" href="../../ref/django-admin#django-admin-startapp"><code>manage.py startapp</code></a> script), <a class="reference internal" href="../../ref/settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> should read, in part:</p> <pre data-language="python">INSTALLED_APPS = [
    #...
    'myapp',
    #...
]
</pre> <p>When you add new apps to <a class="reference internal" href="../../ref/settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a>, be sure to run <a class="reference internal" href="../../ref/django-admin#django-admin-migrate"><code>manage.py migrate</code></a>, optionally making migrations for them first with <a class="reference internal" href="../../ref/django-admin#django-admin-makemigrations"><code>manage.py makemigrations</code></a>.</p>   <h2 id="fields">Fields</h2> <p id="s-fields">The most important part of a model – and the only required part of a model – is the list of database fields it defines. Fields are specified by class attributes. Be careful not to choose field names that conflict with the <a class="reference internal" href="../../ref/models/instances"><span class="doc">models API</span></a> like <code>clean</code>, <code>save</code>, or <code>delete</code>.</p> <p>Example:</p> <pre data-language="python">from django.db import models

class Musician(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    instrument = models.CharField(max_length=100)

class Album(models.Model):
    artist = models.ForeignKey(Musician, on_delete=models.CASCADE)
    name = models.CharField(max_length=100)
    release_date = models.DateField()
    num_stars = models.IntegerField()
</pre>  <h3 id="field-types">Field types</h3> <p id="s-field-types">Each field in your model should be an instance of the appropriate <a class="reference internal" href="../../ref/models/fields#django.db.models.Field" title="django.db.models.Field"><code>Field</code></a> class. Django uses the field class types to determine a few things:</p> <ul class="simple"> <li>The column type, which tells the database what kind of data to store (e.g. <code>INTEGER</code>, <code>VARCHAR</code>, <code>TEXT</code>).</li> <li>The default HTML <a class="reference internal" href="../../ref/forms/widgets"><span class="doc">widget</span></a> to use when rendering a form field (e.g. <code>&lt;input type="text"&gt;</code>, <code>&lt;select&gt;</code>).</li> <li>The minimal validation requirements, used in Django’s admin and in automatically-generated forms.</li> </ul> <p>Django ships with dozens of built-in field types; you can find the complete list in the <a class="reference internal" href="../../ref/models/fields#model-field-types"><span class="std std-ref">model field reference</span></a>. You can easily write your own fields if Django’s built-in ones don’t do the trick; see <a class="reference internal" href="../../howto/custom-model-fields"><span class="doc">How to create custom model fields</span></a>.</p>   <h3 id="field-options">Field options</h3> <p id="s-field-options">Each field takes a certain set of field-specific arguments (documented in the <a class="reference internal" href="../../ref/models/fields#model-field-types"><span class="std std-ref">model field reference</span></a>). For example, <a class="reference internal" href="../../ref/models/fields#django.db.models.CharField" title="django.db.models.CharField"><code>CharField</code></a> (and its subclasses) require a <a class="reference internal" href="../../ref/models/fields#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code>max_length</code></a> argument which specifies the size of the <code>VARCHAR</code> database field used to store the data.</p> <p>There’s also a set of common arguments available to all field types. All are optional. They’re fully explained in the <a class="reference internal" href="../../ref/models/fields#common-model-field-options"><span class="std std-ref">reference</span></a>, but here’s a quick summary of the most often-used ones:</p> <dl class="docutils"> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.null" title="django.db.models.Field.null"><code>null</code></a>
</dt> <dd>If <code>True</code>, Django will store empty values as <code>NULL</code> in the database. Default is <code>False</code>.</dd> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.blank" title="django.db.models.Field.blank"><code>blank</code></a>
</dt> <dd>
<p class="first">If <code>True</code>, the field is allowed to be blank. Default is <code>False</code>.</p> <p class="last">Note that this is different than <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.null" title="django.db.models.Field.null"><code>null</code></a>. <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.null" title="django.db.models.Field.null"><code>null</code></a> is purely database-related, whereas <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.blank" title="django.db.models.Field.blank"><code>blank</code></a> is validation-related. If a field has <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.blank" title="django.db.models.Field.blank"><code>blank=True</code></a>, form validation will allow entry of an empty value. If a field has <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.blank" title="django.db.models.Field.blank"><code>blank=False</code></a>, the field will be required.</p> </dd> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.choices" title="django.db.models.Field.choices"><code>choices</code></a>
</dt> <dd>
<p class="first">A <a class="reference external" href="https://docs.python.org/3/glossary.html#term-sequence" title="(in Python v3.10)"><span class="xref std std-term">sequence</span></a> of 2-tuples to use as choices for this field. If this is given, the default form widget will be a select box instead of the standard text field and will limit choices to the choices given.</p> <p>A choices list looks like this:</p> <pre data-language="python">YEAR_IN_SCHOOL_CHOICES = [
    ('FR', 'Freshman'),
    ('SO', 'Sophomore'),
    ('JR', 'Junior'),
    ('SR', 'Senior'),
    ('GR', 'Graduate'),
]
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">A new migration is created each time the order of <code>choices</code> changes.</p> </div> <p>The first element in each tuple is the value that will be stored in the database. The second element is displayed by the field’s form widget.</p> <p>Given a model instance, the display value for a field with <code>choices</code> can be accessed using the <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.get_FOO_display" title="django.db.models.Model.get_FOO_display"><code>get_FOO_display()</code></a> method. For example:</p> <pre data-language="python">from django.db import models

class Person(models.Model):
    SHIRT_SIZES = (
        ('S', 'Small'),
        ('M', 'Medium'),
        ('L', 'Large'),
    )
    name = models.CharField(max_length=60)
    shirt_size = models.CharField(max_length=1, choices=SHIRT_SIZES)
</pre> <pre data-language="python">&gt;&gt;&gt; p = Person(name="Fred Flintstone", shirt_size="L")
&gt;&gt;&gt; p.save()
&gt;&gt;&gt; p.shirt_size
'L'
&gt;&gt;&gt; p.get_shirt_size_display()
'Large'
</pre> <p>You can also use enumeration classes to define <code>choices</code> in a concise way:</p> <pre data-language="python">from django.db import models

class Runner(models.Model):
    MedalType = models.TextChoices('MedalType', 'GOLD SILVER BRONZE')
    name = models.CharField(max_length=60)
    medal = models.CharField(blank=True, choices=MedalType.choices, max_length=10)
</pre> <p class="last">Further examples are available in the <a class="reference internal" href="../../ref/models/fields#field-choices"><span class="std std-ref">model field reference</span></a>.</p> </dd> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.default" title="django.db.models.Field.default"><code>default</code></a>
</dt> <dd>The default value for the field. This can be a value or a callable object. If callable it will be called every time a new object is created.</dd> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.help_text" title="django.db.models.Field.help_text"><code>help_text</code></a>
</dt> <dd>Extra “help” text to be displayed with the form widget. It’s useful for documentation even if your field isn’t used on a form.</dd> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>primary_key</code></a>
</dt> <dd>
<p class="first">If <code>True</code>, this field is the primary key for the model.</p> <p>If you don’t specify <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>primary_key=True</code></a> for any fields in your model, Django will automatically add an <a class="reference internal" href="../../ref/models/fields#django.db.models.IntegerField" title="django.db.models.IntegerField"><code>IntegerField</code></a> to hold the primary key, so you don’t need to set <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>primary_key=True</code></a> on any of your fields unless you want to override the default primary-key behavior. For more, see <a class="reference internal" href="#automatic-primary-key-fields"><span class="std std-ref">Automatic primary key fields</span></a>.</p> <p>The primary key field is read-only. If you change the value of the primary key on an existing object and then save it, a new object will be created alongside the old one. For example:</p> <pre data-language="python">from django.db import models

class Fruit(models.Model):
    name = models.CharField(max_length=100, primary_key=True)
</pre> <pre data-language="pycon">&gt;&gt;&gt; fruit = Fruit.objects.create(name='Apple')
&gt;&gt;&gt; fruit.name = 'Pear'
&gt;&gt;&gt; fruit.save()
&gt;&gt;&gt; Fruit.objects.values_list('name', flat=True)
&lt;QuerySet ['Apple', 'Pear']&gt;
</pre> </dd> <dt>
 <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.unique" title="django.db.models.Field.unique"><code>unique</code></a>
</dt> <dd>If <code>True</code>, this field must be unique throughout the table.</dd> </dl> <p>Again, these are just short descriptions of the most common field options. Full details can be found in the <a class="reference internal" href="../../ref/models/fields#common-model-field-options"><span class="std std-ref">common model field option reference</span></a>.</p>   <h3 id="id1">Automatic primary key fields</h3> <p id="s-automatic-primary-key-fields">By default, Django gives each model an auto-incrementing primary key with the type specified per app in <a class="reference internal" href="../../ref/applications#django.apps.AppConfig.default_auto_field" title="django.apps.AppConfig.default_auto_field"><code>AppConfig.default_auto_field</code></a> or globally in the <a class="reference internal" href="../../ref/settings#std:setting-DEFAULT_AUTO_FIELD"><code>DEFAULT_AUTO_FIELD</code></a> setting. For example:</p> <pre data-language="python">id = models.BigAutoField(primary_key=True)
</pre> <p>If you’d like to specify a custom primary key, specify <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>primary_key=True</code></a> on one of your fields. If Django sees you’ve explicitly set <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>Field.primary_key</code></a>, it won’t add the automatic <code>id</code> column.</p> <p>Each model requires exactly one field to have <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>primary_key=True</code></a> (either explicitly declared or automatically added).</p> <div class="versionchanged"> <span class="title">Changed in Django 3.2:</span> <p>In older versions, auto-created primary key fields were always <a class="reference internal" href="../../ref/models/fields#django.db.models.AutoField" title="django.db.models.AutoField"><code>AutoField</code></a>s.</p> </div>   <h3 id="id2">Verbose field names</h3> <p id="s-verbose-field-names">Each field type, except for <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a>, <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> and <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a>, takes an optional first positional argument – a verbose name. If the verbose name isn’t given, Django will automatically create it using the field’s attribute name, converting underscores to spaces.</p> <p>In this example, the verbose name is <code>"person's first name"</code>:</p> <pre data-language="python">first_name = models.CharField("person's first name", max_length=30)
</pre> <p>In this example, the verbose name is <code>"first name"</code>:</p> <pre data-language="python">first_name = models.CharField(max_length=30)
</pre> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a>, <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> and <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> require the first argument to be a model class, so use the <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.verbose_name" title="django.db.models.Field.verbose_name"><code>verbose_name</code></a> keyword argument:</p> <pre data-language="python">poll = models.ForeignKey(
    Poll,
    on_delete=models.CASCADE,
    verbose_name="the related poll",
)
sites = models.ManyToManyField(Site, verbose_name="list of sites")
place = models.OneToOneField(
    Place,
    on_delete=models.CASCADE,
    verbose_name="related place",
)
</pre> <p>The convention is not to capitalize the first letter of the <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.verbose_name" title="django.db.models.Field.verbose_name"><code>verbose_name</code></a>. Django will automatically capitalize the first letter where it needs to.</p>   <h3 id="relationships">Relationships</h3> <p id="s-relationships">Clearly, the power of relational databases lies in relating tables to each other. Django offers ways to define the three most common types of database relationships: many-to-one, many-to-many and one-to-one.</p>  <h4 id="many-to-one-relationships">Many-to-one relationships</h4> <p id="s-many-to-one-relationships">To define a many-to-one relationship, use <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>django.db.models.ForeignKey</code></a>. You use it just like any other <a class="reference internal" href="../../ref/models/fields#django.db.models.Field" title="django.db.models.Field"><code>Field</code></a> type: by including it as a class attribute of your model.</p> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a> requires a positional argument: the class to which the model is related.</p> <p>For example, if a <code>Car</code> model has a <code>Manufacturer</code> – that is, a <code>Manufacturer</code> makes multiple cars but each <code>Car</code> only has one <code>Manufacturer</code> – use the following definitions:</p> <pre data-language="python">from django.db import models

class Manufacturer(models.Model):
    # ...
    pass

class Car(models.Model):
    manufacturer = models.ForeignKey(Manufacturer, on_delete=models.CASCADE)
    # ...
</pre> <p>You can also create <a class="reference internal" href="../../ref/models/fields#recursive-relationships"><span class="std std-ref">recursive relationships</span></a> (an object with a many-to-one relationship to itself) and <a class="reference internal" href="../../ref/models/fields#lazy-relationships"><span class="std std-ref">relationships to models not yet defined</span></a>; see <a class="reference internal" href="../../ref/models/fields#ref-foreignkey"><span class="std std-ref">the model field reference</span></a> for details.</p> <p>It’s suggested, but not required, that the name of a <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a> field (<code>manufacturer</code> in the example above) be the name of the model, lowercase. You can call the field whatever you want. For example:</p> <pre data-language="python">class Car(models.Model):
    company_that_makes_it = models.ForeignKey(
        Manufacturer,
        on_delete=models.CASCADE,
    )
    # ...
</pre> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a> fields accept a number of extra arguments which are explained in <a class="reference internal" href="../../ref/models/fields#foreign-key-arguments"><span class="std std-ref">the model field reference</span></a>. These options help define how the relationship should work; all are optional.</p> <p>For details on accessing backwards-related objects, see the <a class="reference internal" href="queries#backwards-related-objects"><span class="std std-ref">Following relationships backward example</span></a>.</p> <p class="last">For sample code, see the <a class="reference internal" href="examples/many_to_one"><span class="doc">Many-to-one relationship model example</span></a>.</p> </div>   <h4 id="many-to-many-relationships">Many-to-many relationships</h4> <p id="s-many-to-many-relationships">To define a many-to-many relationship, use <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>. You use it just like any other <a class="reference internal" href="../../ref/models/fields#django.db.models.Field" title="django.db.models.Field"><code>Field</code></a> type: by including it as a class attribute of your model.</p> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> requires a positional argument: the class to which the model is related.</p> <p>For example, if a <code>Pizza</code> has multiple <code>Topping</code> objects – that is, a <code>Topping</code> can be on multiple pizzas and each <code>Pizza</code> has multiple toppings – here’s how you’d represent that:</p> <pre data-language="python">from django.db import models

class Topping(models.Model):
    # ...
    pass

class Pizza(models.Model):
    # ...
    toppings = models.ManyToManyField(Topping)
</pre> <p>As with <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a>, you can also create <a class="reference internal" href="../../ref/models/fields#recursive-relationships"><span class="std std-ref">recursive relationships</span></a> (an object with a many-to-many relationship to itself) and <a class="reference internal" href="../../ref/models/fields#lazy-relationships"><span class="std std-ref">relationships to models not yet defined</span></a>.</p> <p>It’s suggested, but not required, that the name of a <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> (<code>toppings</code> in the example above) be a plural describing the set of related model objects.</p> <p>It doesn’t matter which model has the <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>, but you should only put it in one of the models – not both.</p> <p>Generally, <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> instances should go in the object that’s going to be edited on a form. In the above example, <code>toppings</code> is in <code>Pizza</code> (rather than <code>Topping</code> having a <code>pizzas</code> <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> ) because it’s more natural to think about a pizza having toppings than a topping being on multiple pizzas. The way it’s set up above, the <code>Pizza</code> form would let users select the toppings.</p> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p class="last">See the <a class="reference internal" href="examples/many_to_many"><span class="doc">Many-to-many relationship model example</span></a> for a full example.</p> </div> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> fields also accept a number of extra arguments which are explained in <a class="reference internal" href="../../ref/models/fields#manytomany-arguments"><span class="std std-ref">the model field reference</span></a>. These options help define how the relationship should work; all are optional.</p>   <h4 id="intermediary-manytomany">Extra fields on many-to-many relationships</h4> <p id="s-extra-fields-on-many-to-many-relationships">When you’re only dealing with many-to-many relationships such as mixing and matching pizzas and toppings, a standard <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> is all you need. However, sometimes you may need to associate data with the relationship between two models.</p> <p>For example, consider the case of an application tracking the musical groups which musicians belong to. There is a many-to-many relationship between a person and the groups of which they are a member, so you could use a <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> to represent this relationship. However, there is a lot of detail about the membership that you might want to collect, such as the date at which the person joined the group.</p> <p>For these situations, Django allows you to specify the model that will be used to govern the many-to-many relationship. You can then put extra fields on the intermediate model. The intermediate model is associated with the <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> using the <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code>through</code></a> argument to point to the model that will act as an intermediary. For our musician example, the code would look something like this:</p> <pre data-language="python">from django.db import models

class Person(models.Model):
    name = models.CharField(max_length=128)

    def __str__(self):
        return self.name

class Group(models.Model):
    name = models.CharField(max_length=128)
    members = models.ManyToManyField(Person, through='Membership')

    def __str__(self):
        return self.name

class Membership(models.Model):
    person = models.ForeignKey(Person, on_delete=models.CASCADE)
    group = models.ForeignKey(Group, on_delete=models.CASCADE)
    date_joined = models.DateField()
    invite_reason = models.CharField(max_length=64)
</pre> <p>When you set up the intermediary model, you explicitly specify foreign keys to the models that are involved in the many-to-many relationship. This explicit declaration defines how the two models are related.</p> <p>There are a few restrictions on the intermediate model:</p> <ul class="simple"> <li>Your intermediate model must contain one - and <em>only</em> one - foreign key to the source model (this would be <code>Group</code> in our example), or you must explicitly specify the foreign keys Django should use for the relationship using <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField.through_fields" title="django.db.models.ManyToManyField.through_fields"><code>ManyToManyField.through_fields</code></a>. If you have more than one foreign key and <code>through_fields</code> is not specified, a validation error will be raised. A similar restriction applies to the foreign key to the target model (this would be <code>Person</code> in our example).</li> <li>For a model which has a many-to-many relationship to itself through an intermediary model, two foreign keys to the same model are permitted, but they will be treated as the two (different) sides of the many-to-many relationship. If there are <em>more</em> than two foreign keys though, you must also specify <code>through_fields</code> as above, or a validation error will be raised.</li> </ul> <p>Now that you have set up your <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> to use your intermediary model (<code>Membership</code>, in this case), you’re ready to start creating some many-to-many relationships. You do this by creating instances of the intermediate model:</p> <pre data-language="python">&gt;&gt;&gt; ringo = Person.objects.create(name="Ringo Starr")
&gt;&gt;&gt; paul = Person.objects.create(name="Paul McCartney")
&gt;&gt;&gt; beatles = Group.objects.create(name="The Beatles")
&gt;&gt;&gt; m1 = Membership(person=ringo, group=beatles,
...     date_joined=date(1962, 8, 16),
...     invite_reason="Needed a new drummer.")
&gt;&gt;&gt; m1.save()
&gt;&gt;&gt; beatles.members.all()
&lt;QuerySet [&lt;Person: Ringo Starr&gt;]&gt;
&gt;&gt;&gt; ringo.group_set.all()
&lt;QuerySet [&lt;Group: The Beatles&gt;]&gt;
&gt;&gt;&gt; m2 = Membership.objects.create(person=paul, group=beatles,
...     date_joined=date(1960, 8, 1),
...     invite_reason="Wanted to form a band.")
&gt;&gt;&gt; beatles.members.all()
&lt;QuerySet [&lt;Person: Ringo Starr&gt;, &lt;Person: Paul McCartney&gt;]&gt;
</pre> <p>You can also use <a class="reference internal" href="../../ref/models/relations#django.db.models.fields.related.RelatedManager.add" title="django.db.models.fields.related.RelatedManager.add"><code>add()</code></a>, <a class="reference internal" href="../../ref/models/relations#django.db.models.fields.related.RelatedManager.create" title="django.db.models.fields.related.RelatedManager.create"><code>create()</code></a>, or <a class="reference internal" href="../../ref/models/relations#django.db.models.fields.related.RelatedManager.set" title="django.db.models.fields.related.RelatedManager.set"><code>set()</code></a> to create relationships, as long as you specify <code>through_defaults</code> for any required fields:</p> <pre data-language="python">&gt;&gt;&gt; beatles.members.add(john, through_defaults={'date_joined': date(1960, 8, 1)})
&gt;&gt;&gt; beatles.members.create(name="George Harrison", through_defaults={'date_joined': date(1960, 8, 1)})
&gt;&gt;&gt; beatles.members.set([john, paul, ringo, george], through_defaults={'date_joined': date(1960, 8, 1)})
</pre> <p>You may prefer to create instances of the intermediate model directly.</p> <p>If the custom through table defined by the intermediate model does not enforce uniqueness on the <code>(model1, model2)</code> pair, allowing multiple values, the <a class="reference internal" href="../../ref/models/relations#django.db.models.fields.related.RelatedManager.remove" title="django.db.models.fields.related.RelatedManager.remove"><code>remove()</code></a> call will remove all intermediate model instances:</p> <pre data-language="python">&gt;&gt;&gt; Membership.objects.create(person=ringo, group=beatles,
...     date_joined=date(1968, 9, 4),
...     invite_reason="You've been gone for a month and we miss you.")
&gt;&gt;&gt; beatles.members.all()
&lt;QuerySet [&lt;Person: Ringo Starr&gt;, &lt;Person: Paul McCartney&gt;, &lt;Person: Ringo Starr&gt;]&gt;
&gt;&gt;&gt; # This deletes both of the intermediate model instances for Ringo Starr
&gt;&gt;&gt; beatles.members.remove(ringo)
&gt;&gt;&gt; beatles.members.all()
&lt;QuerySet [&lt;Person: Paul McCartney&gt;]&gt;
</pre> <p>The <a class="reference internal" href="../../ref/models/relations#django.db.models.fields.related.RelatedManager.clear" title="django.db.models.fields.related.RelatedManager.clear"><code>clear()</code></a> method can be used to remove all many-to-many relationships for an instance:</p> <pre data-language="python">&gt;&gt;&gt; # Beatles have broken up
&gt;&gt;&gt; beatles.members.clear()
&gt;&gt;&gt; # Note that this deletes the intermediate model instances
&gt;&gt;&gt; Membership.objects.all()
&lt;QuerySet []&gt;
</pre> <p>Once you have established the many-to-many relationships, you can issue queries. Just as with normal many-to-many relationships, you can query using the attributes of the many-to-many-related model:</p> <pre data-language="python"># Find all the groups with a member whose name starts with 'Paul'
&gt;&gt;&gt; Group.objects.filter(members__name__startswith='Paul')
&lt;QuerySet [&lt;Group: The Beatles&gt;]&gt;
</pre> <p>As you are using an intermediate model, you can also query on its attributes:</p> <pre data-language="python"># Find all the members of the Beatles that joined after 1 Jan 1961
&gt;&gt;&gt; Person.objects.filter(
...     group__name='The Beatles',
...     membership__date_joined__gt=date(1961,1,1))
&lt;QuerySet [&lt;Person: Ringo Starr]&gt;
</pre> <p>If you need to access a membership’s information you may do so by directly querying the <code>Membership</code> model:</p> <pre data-language="python">&gt;&gt;&gt; ringos_membership = Membership.objects.get(group=beatles, person=ringo)
&gt;&gt;&gt; ringos_membership.date_joined
datetime.date(1962, 8, 16)
&gt;&gt;&gt; ringos_membership.invite_reason
'Needed a new drummer.'
</pre> <p>Another way to access the same information is by querying the <a class="reference internal" href="queries#m2m-reverse-relationships"><span class="std std-ref">many-to-many reverse relationship</span></a> from a <code>Person</code> object:</p> <pre data-language="python">&gt;&gt;&gt; ringos_membership = ringo.membership_set.get(group=beatles)
&gt;&gt;&gt; ringos_membership.date_joined
datetime.date(1962, 8, 16)
&gt;&gt;&gt; ringos_membership.invite_reason
'Needed a new drummer.'
</pre>   <h4 id="one-to-one-relationships">One-to-one relationships</h4> <p id="s-one-to-one-relationships">To define a one-to-one relationship, use <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a>. You use it just like any other <code>Field</code> type: by including it as a class attribute of your model.</p> <p>This is most useful on the primary key of an object when that object “extends” another object in some way.</p> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> requires a positional argument: the class to which the model is related.</p> <p>For example, if you were building a database of “places”, you would build pretty standard stuff such as address, phone number, etc. in the database. Then, if you wanted to build a database of restaurants on top of the places, instead of repeating yourself and replicating those fields in the <code>Restaurant</code> model, you could make <code>Restaurant</code> have a <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> to <code>Place</code> (because a restaurant “is a” place; in fact, to handle this you’d typically use <a class="reference internal" href="#model-inheritance"><span class="std std-ref">inheritance</span></a>, which involves an implicit one-to-one relation).</p> <p>As with <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a>, a <a class="reference internal" href="../../ref/models/fields#recursive-relationships"><span class="std std-ref">recursive relationship</span></a> can be defined and <a class="reference internal" href="../../ref/models/fields#lazy-relationships"><span class="std std-ref">references to as-yet undefined models</span></a> can be made.</p> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p class="last">See the <a class="reference internal" href="examples/one_to_one"><span class="doc">One-to-one relationship model example</span></a> for a full example.</p> </div> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> fields also accept an optional <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField.parent_link" title="django.db.models.OneToOneField.parent_link"><code>parent_link</code></a> argument.</p> <p><a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> classes used to automatically become the primary key on a model. This is no longer true (although you can manually pass in the <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code>primary_key</code></a> argument if you like). Thus, it’s now possible to have multiple fields of type <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> on a single model.</p>    <h3 id="models-across-files">Models across files</h3> <p id="s-models-across-files">It’s perfectly OK to relate a model to one from another app. To do this, import the related model at the top of the file where your model is defined. Then, refer to the other model class wherever needed. For example:</p> <pre data-language="python">from django.db import models
from geography.models import ZipCode

class Restaurant(models.Model):
    # ...
    zip_code = models.ForeignKey(
        ZipCode,
        on_delete=models.SET_NULL,
        blank=True,
        null=True,
    )
</pre>   <h3 id="field-name-restrictions">Field name restrictions</h3> <p id="s-field-name-restrictions">Django places some restrictions on model field names:</p> <ol class="arabic"> <li>
<p class="first">A field name cannot be a Python reserved word, because that would result in a Python syntax error. For example:</p> <pre data-language="python">class Example(models.Model):
    pass = models.IntegerField() # 'pass' is a reserved word!
</pre> </li> <li>
<p class="first">A field name cannot contain more than one underscore in a row, due to the way Django’s query lookup syntax works. For example:</p> <pre data-language="python">class Example(models.Model):
    foo__bar = models.IntegerField() # 'foo__bar' has two underscores!
</pre> </li> <li>A field name cannot end with an underscore, for similar reasons. </li> </ol> <p>These limitations can be worked around, though, because your field name doesn’t necessarily have to match your database column name. See the <a class="reference internal" href="../../ref/models/fields#django.db.models.Field.db_column" title="django.db.models.Field.db_column"><code>db_column</code></a> option.</p> <p>SQL reserved words, such as <code>join</code>, <code>where</code> or <code>select</code>, <em>are</em> allowed as model field names, because Django escapes all database table names and column names in every underlying SQL query. It uses the quoting syntax of your particular database engine.</p>   <h3 id="custom-field-types">Custom field types</h3> <p id="s-custom-field-types">If one of the existing model fields cannot be used to fit your purposes, or if you wish to take advantage of some less common database column types, you can create your own field class. Full coverage of creating your own fields is provided in <a class="reference internal" href="../../howto/custom-model-fields"><span class="doc">How to create custom model fields</span></a>.</p>    <h2 id="id3">
<code>Meta</code> options</h2> <p id="s-meta-options">Give your model metadata by using an inner <code>class Meta</code>, like so:</p> <pre data-language="python">from django.db import models

class Ox(models.Model):
    horn_length = models.IntegerField()

    class Meta:
        ordering = ["horn_length"]
        verbose_name_plural = "oxen"
</pre> <p>Model metadata is “anything that’s not a field”, such as ordering options (<a class="reference internal" href="../../ref/models/options#django.db.models.Options.ordering" title="django.db.models.Options.ordering"><code>ordering</code></a>), database table name (<a class="reference internal" href="../../ref/models/options#django.db.models.Options.db_table" title="django.db.models.Options.db_table"><code>db_table</code></a>), or human-readable singular and plural names (<a class="reference internal" href="../../ref/models/options#django.db.models.Options.verbose_name" title="django.db.models.Options.verbose_name"><code>verbose_name</code></a> and <a class="reference internal" href="../../ref/models/options#django.db.models.Options.verbose_name_plural" title="django.db.models.Options.verbose_name_plural"><code>verbose_name_plural</code></a>). None are required, and adding <code>class
Meta</code> to a model is completely optional.</p> <p>A complete list of all possible <code>Meta</code> options can be found in the <a class="reference internal" href="../../ref/models/options"><span class="doc">model option reference</span></a>.</p>   <h2 id="id4">Model attributes</h2> <dl class="docutils" id="s-model-attributes"> <dt>
<code>objects</code> </dt> <dd>The most important attribute of a model is the <a class="reference internal" href="managers#django.db.models.Manager" title="django.db.models.Manager"><code>Manager</code></a>. It’s the interface through which database query operations are provided to Django models and is used to <a class="reference internal" href="queries#retrieving-objects"><span class="std std-ref">retrieve the instances</span></a> from the database. If no custom <code>Manager</code> is defined, the default name is <a class="reference internal" href="../../ref/models/class#django.db.models.Model.objects" title="django.db.models.Model.objects"><code>objects</code></a>. Managers are only accessible via model classes, not the model instances.</dd> </dl>   <h2 id="id5">Model methods</h2> <p id="s-model-methods">Define custom methods on a model to add custom “row-level” functionality to your objects. Whereas <a class="reference internal" href="managers#django.db.models.Manager" title="django.db.models.Manager"><code>Manager</code></a> methods are intended to do “table-wide” things, model methods should act on a particular model instance.</p> <p>This is a valuable technique for keeping business logic in one place – the model.</p> <p>For example, this model has a few custom methods:</p> <pre data-language="python">from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    birth_date = models.DateField()

    def baby_boomer_status(self):
        "Returns the person's baby-boomer status."
        import datetime
        if self.birth_date &lt; datetime.date(1945, 8, 1):
            return "Pre-boomer"
        elif self.birth_date &lt; datetime.date(1965, 1, 1):
            return "Baby boomer"
        else:
            return "Post-boomer"

    @property
    def full_name(self):
        "Returns the person's full name."
        return '%s %s' % (self.first_name, self.last_name)
</pre> <p>The last method in this example is a <a class="reference internal" href="https://docs.djangoproject.com/en/4.0/glossary/#term-property"><span class="xref std std-term">property</span></a>.</p> <p>The <a class="reference internal" href="../../ref/models/instances"><span class="doc">model instance reference</span></a> has a complete list of <a class="reference internal" href="../../ref/models/instances#model-instance-methods"><span class="std std-ref">methods automatically given to each model</span></a>. You can override most of these – see <a class="reference internal" href="#overriding-predefined-model-methods">overriding predefined model methods</a>, below – but there are a couple that you’ll almost always want to define:</p> <dl class="docutils"> <dt>
 <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.__str__" title="django.db.models.Model.__str__"><code>__str__()</code></a>
</dt> <dd>
<p class="first">A Python “magic method” that returns a string representation of any object. This is what Python and Django will use whenever a model instance needs to be coerced and displayed as a plain string. Most notably, this happens when you display an object in an interactive console or in the admin.</p> <p class="last">You’ll always want to define this method; the default isn’t very helpful at all.</p> </dd> <dt>
 <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.get_absolute_url" title="django.db.models.Model.get_absolute_url"><code>get_absolute_url()</code></a>
</dt> <dd>
<p class="first">This tells Django how to calculate the URL for an object. Django uses this in its admin interface, and any time it needs to figure out a URL for an object.</p> <p class="last">Any object that has a URL that uniquely identifies it should define this method.</p> </dd> </dl>  <h3 id="overriding-model-methods">Overriding predefined model methods</h3> <p id="s-overriding-predefined-model-methods">There’s another set of <a class="reference internal" href="../../ref/models/instances#model-instance-methods"><span class="std std-ref">model methods</span></a> that encapsulate a bunch of database behavior that you’ll want to customize. In particular you’ll often want to change the way <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.save" title="django.db.models.Model.save"><code>save()</code></a> and <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.delete" title="django.db.models.Model.delete"><code>delete()</code></a> work.</p> <p>You’re free to override these methods (and any other model method) to alter behavior.</p> <p>A classic use-case for overriding the built-in methods is if you want something to happen whenever you save an object. For example (see <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.save" title="django.db.models.Model.save"><code>save()</code></a> for documentation of the parameters it accepts):</p> <pre data-language="python">from django.db import models

class Blog(models.Model):
    name = models.CharField(max_length=100)
    tagline = models.TextField()

    def save(self, *args, **kwargs):
        do_something()
        super().save(*args, **kwargs)  # Call the "real" save() method.
        do_something_else()
</pre> <p>You can also prevent saving:</p> <pre data-language="python">from django.db import models

class Blog(models.Model):
    name = models.CharField(max_length=100)
    tagline = models.TextField()

    def save(self, *args, **kwargs):
        if self.name == "Yoko Ono's blog":
            return # Yoko shall never have her own blog!
        else:
            super().save(*args, **kwargs)  # Call the "real" save() method.
</pre> <p>It’s important to remember to call the superclass method – that’s that <code>super().save(*args, **kwargs)</code> business – to ensure that the object still gets saved into the database. If you forget to call the superclass method, the default behavior won’t happen and the database won’t get touched.</p> <p>It’s also important that you pass through the arguments that can be passed to the model method – that’s what the <code>*args, **kwargs</code> bit does. Django will, from time to time, extend the capabilities of built-in model methods, adding new arguments. If you use <code>*args,
**kwargs</code> in your method definitions, you are guaranteed that your code will automatically support those arguments when they are added.</p> <div class="admonition-overridden-model-methods-are-not-called-on-bulk-operations admonition"> <p class="first admonition-title">Overridden model methods are not called on bulk operations</p> <p>Note that the <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.delete" title="django.db.models.Model.delete"><code>delete()</code></a> method for an object is not necessarily called when <a class="reference internal" href="queries#topics-db-queries-delete"><span class="std std-ref">deleting objects in bulk using a QuerySet</span></a> or as a result of a <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.on_delete" title="django.db.models.ForeignKey.on_delete"><code>cascading
delete</code></a>. To ensure customized delete logic gets executed, you can use <a class="reference internal" href="../../ref/signals#django.db.models.signals.pre_delete" title="django.db.models.signals.pre_delete"><code>pre_delete</code></a> and/or <a class="reference internal" href="../../ref/signals#django.db.models.signals.post_delete" title="django.db.models.signals.post_delete"><code>post_delete</code></a> signals.</p> <p class="last">Unfortunately, there isn’t a workaround when <a class="reference internal" href="../../ref/models/querysets#django.db.models.query.QuerySet.bulk_create" title="django.db.models.query.QuerySet.bulk_create"><code>creating</code></a> or <a class="reference internal" href="../../ref/models/querysets#django.db.models.query.QuerySet.update" title="django.db.models.query.QuerySet.update"><code>updating</code></a> objects in bulk, since none of <a class="reference internal" href="../../ref/models/instances#django.db.models.Model.save" title="django.db.models.Model.save"><code>save()</code></a>, <a class="reference internal" href="../../ref/signals#django.db.models.signals.pre_save" title="django.db.models.signals.pre_save"><code>pre_save</code></a>, and <a class="reference internal" href="../../ref/signals#django.db.models.signals.post_save" title="django.db.models.signals.post_save"><code>post_save</code></a> are called.</p> </div>   <h3 id="executing-custom-sql">Executing custom SQL</h3> <p id="s-executing-custom-sql">Another common pattern is writing custom SQL statements in model methods and module-level methods. For more details on using raw SQL, see the documentation on <a class="reference internal" href="sql"><span class="doc">using raw SQL</span></a>.</p>    <h2 id="id6">Model inheritance</h2> <p id="s-model-inheritance">Model inheritance in Django works almost identically to the way normal class inheritance works in Python, but the basics at the beginning of the page should still be followed. That means the base class should subclass <a class="reference internal" href="../../ref/models/instances#django.db.models.Model" title="django.db.models.Model"><code>django.db.models.Model</code></a>.</p> <p>The only decision you have to make is whether you want the parent models to be models in their own right (with their own database tables), or if the parents are just holders of common information that will only be visible through the child models.</p> <p>There are three styles of inheritance that are possible in Django.</p> <ol class="arabic simple"> <li>Often, you will just want to use the parent class to hold information that you don’t want to have to type out for each child model. This class isn’t going to ever be used in isolation, so <a class="reference internal" href="#abstract-base-classes"><span class="std std-ref">Abstract base classes</span></a> are what you’re after.</li> <li>If you’re subclassing an existing model (perhaps something from another application entirely) and want each model to have its own database table, <a class="reference internal" href="#multi-table-inheritance"><span class="std std-ref">Multi-table inheritance</span></a> is the way to go.</li> <li>Finally, if you only want to modify the Python-level behavior of a model, without changing the models fields in any way, you can use <a class="reference internal" href="#proxy-models"><span class="std std-ref">Proxy models</span></a>.</li> </ol>  <h3 id="id7">Abstract base classes</h3> <p id="s-abstract-base-classes">Abstract base classes are useful when you want to put some common information into a number of other models. You write your base class and put <code>abstract=True</code> in the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class. This model will then not be used to create any database table. Instead, when it is used as a base class for other models, its fields will be added to those of the child class.</p> <p>An example:</p> <pre data-language="python">from django.db import models

class CommonInfo(models.Model):
    name = models.CharField(max_length=100)
    age = models.PositiveIntegerField()

    class Meta:
        abstract = True

class Student(CommonInfo):
    home_group = models.CharField(max_length=5)
</pre> <p>The <code>Student</code> model will have three fields: <code>name</code>, <code>age</code> and <code>home_group</code>. The <code>CommonInfo</code> model cannot be used as a normal Django model, since it is an abstract base class. It does not generate a database table or have a manager, and cannot be instantiated or saved directly.</p> <p>Fields inherited from abstract base classes can be overridden with another field or value, or be removed with <code>None</code>.</p> <p>For many uses, this type of model inheritance will be exactly what you want. It provides a way to factor out common information at the Python level, while still only creating one database table per child model at the database level.</p>  <h4 id="meta-inheritance">
<code>Meta</code> inheritance</h4> <p id="s-meta-inheritance">When an abstract base class is created, Django makes any <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> inner class you declared in the base class available as an attribute. If a child class does not declare its own <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class, it will inherit the parent’s <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a>. If the child wants to extend the parent’s <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class, it can subclass it. For example:</p> <pre data-language="python">from django.db import models

class CommonInfo(models.Model):
    # ...
    class Meta:
        abstract = True
        ordering = ['name']

class Student(CommonInfo):
    # ...
    class Meta(CommonInfo.Meta):
        db_table = 'student_info'
</pre> <p>Django does make one adjustment to the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class of an abstract base class: before installing the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> attribute, it sets <code>abstract=False</code>. This means that children of abstract base classes don’t automatically become abstract classes themselves. To make an abstract base class that inherits from another abstract base class, you need to explicitly set <code>abstract=True</code> on the child.</p> <p>Some attributes won’t make sense to include in the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class of an abstract base class. For example, including <code>db_table</code> would mean that all the child classes (the ones that don’t specify their own <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a>) would use the same database table, which is almost certainly not what you want.</p> <p>Due to the way Python inheritance works, if a child class inherits from multiple abstract base classes, only the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> options from the first listed class will be inherited by default. To inherit <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> options from multiple abstract base classes, you must explicitly declare the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> inheritance. For example:</p> <pre data-language="python">from django.db import models

class CommonInfo(models.Model):
    name = models.CharField(max_length=100)
    age = models.PositiveIntegerField()

    class Meta:
        abstract = True
        ordering = ['name']

class Unmanaged(models.Model):
    class Meta:
        abstract = True
        managed = False

class Student(CommonInfo, Unmanaged):
    home_group = models.CharField(max_length=5)

    class Meta(CommonInfo.Meta, Unmanaged.Meta):
        pass
</pre>   <h4 id="abstract-related-name">Be careful with <code>related_name</code> and <code>related_query_name</code>
</h4> <p id="s-be-careful-with-related-name-and-related-query-name">If you are using <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> or <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code>related_query_name</code></a> on a <code>ForeignKey</code> or <code>ManyToManyField</code>, you must always specify a <em>unique</em> reverse name and query name for the field. This would normally cause a problem in abstract base classes, since the fields on this class are included into each of the child classes, with exactly the same values for the attributes (including <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> and <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code>related_query_name</code></a>) each time.</p> <p>To work around this problem, when you are using <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> or <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code>related_query_name</code></a> in an abstract base class (only), part of the value should contain <code>'%(app_label)s'</code> and <code>'%(class)s'</code>.</p> <ul class="simple"> <li>
<code>'%(class)s'</code> is replaced by the lowercased name of the child class that the field is used in.</li> <li>
<code>'%(app_label)s'</code> is replaced by the lowercased name of the app the child class is contained within. Each installed application name must be unique and the model class names within each app must also be unique, therefore the resulting name will end up being different.</li> </ul> <p>For example, given an app <code>common/models.py</code>:</p> <pre data-language="python">from django.db import models

class Base(models.Model):
    m2m = models.ManyToManyField(
        OtherModel,
        related_name="%(app_label)s_%(class)s_related",
        related_query_name="%(app_label)s_%(class)ss",
    )

    class Meta:
        abstract = True

class ChildA(Base):
    pass

class ChildB(Base):
    pass
</pre> <p>Along with another app <code>rare/models.py</code>:</p> <pre data-language="python">from common.models import Base

class ChildB(Base):
    pass
</pre> <p>The reverse name of the <code>common.ChildA.m2m</code> field will be <code>common_childa_related</code> and the reverse query name will be <code>common_childas</code>. The reverse name of the <code>common.ChildB.m2m</code> field will be <code>common_childb_related</code> and the reverse query name will be <code>common_childbs</code>. Finally, the reverse name of the <code>rare.ChildB.m2m</code> field will be <code>rare_childb_related</code> and the reverse query name will be <code>rare_childbs</code>. It’s up to you how you use the <code>'%(class)s'</code> and <code>'%(app_label)s'</code> portion to construct your related name or related query name but if you forget to use it, Django will raise errors when you perform system checks (or run <a class="reference internal" href="../../ref/django-admin#django-admin-migrate"><code>migrate</code></a>).</p> <p>If you don’t specify a <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> attribute for a field in an abstract base class, the default reverse name will be the name of the child class followed by <code>'_set'</code>, just as it normally would be if you’d declared the field directly on the child class. For example, in the above code, if the <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> attribute was omitted, the reverse name for the <code>m2m</code> field would be <code>childa_set</code> in the <code>ChildA</code> case and <code>childb_set</code> for the <code>ChildB</code> field.</p>    <h3 id="id8">Multi-table inheritance</h3> <p id="s-multi-table-inheritance">The second type of model inheritance supported by Django is when each model in the hierarchy is a model all by itself. Each model corresponds to its own database table and can be queried and created individually. The inheritance relationship introduces links between the child model and each of its parents (via an automatically-created <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a>). For example:</p> <pre data-language="python">from django.db import models

class Place(models.Model):
    name = models.CharField(max_length=50)
    address = models.CharField(max_length=80)

class Restaurant(Place):
    serves_hot_dogs = models.BooleanField(default=False)
    serves_pizza = models.BooleanField(default=False)
</pre> <p>All of the fields of <code>Place</code> will also be available in <code>Restaurant</code>, although the data will reside in a different database table. So these are both possible:</p> <pre data-language="python">&gt;&gt;&gt; Place.objects.filter(name="Bob's Cafe")
&gt;&gt;&gt; Restaurant.objects.filter(name="Bob's Cafe")
</pre> <p>If you have a <code>Place</code> that is also a <code>Restaurant</code>, you can get from the <code>Place</code> object to the <code>Restaurant</code> object by using the lowercase version of the model name:</p> <pre data-language="python">&gt;&gt;&gt; p = Place.objects.get(id=12)
# If p is a Restaurant object, this will give the child class:
&gt;&gt;&gt; p.restaurant
&lt;Restaurant: ...&gt;
</pre> <p>However, if <code>p</code> in the above example was <em>not</em> a <code>Restaurant</code> (it had been created directly as a <code>Place</code> object or was the parent of some other class), referring to <code>p.restaurant</code> would raise a <code>Restaurant.DoesNotExist</code> exception.</p> <p>The automatically-created <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> on <code>Restaurant</code> that links it to <code>Place</code> looks like this:</p> <pre data-language="python">place_ptr = models.OneToOneField(
    Place, on_delete=models.CASCADE,
    parent_link=True,
    primary_key=True,
)
</pre> <p>You can override that field by declaring your own <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> with <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField.parent_link" title="django.db.models.OneToOneField.parent_link"><code>parent_link=True</code></a> on <code>Restaurant</code>.</p>  <h4 id="id9">
<code>Meta</code> and multi-table inheritance</h4> <p id="s-meta-and-multi-table-inheritance">In the multi-table inheritance situation, it doesn’t make sense for a child class to inherit from its parent’s <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class. All the <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> options have already been applied to the parent class and applying them again would normally only lead to contradictory behavior (this is in contrast with the abstract base class case, where the base class doesn’t exist in its own right).</p> <p>So a child model does not have access to its parent’s <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class. However, there are a few limited cases where the child inherits behavior from the parent: if the child does not specify an <a class="reference internal" href="../../ref/models/options#django.db.models.Options.ordering" title="django.db.models.Options.ordering"><code>ordering</code></a> attribute or a <a class="reference internal" href="../../ref/models/options#django.db.models.Options.get_latest_by" title="django.db.models.Options.get_latest_by"><code>get_latest_by</code></a> attribute, it will inherit these from its parent.</p> <p>If the parent has an ordering and you don’t want the child to have any natural ordering, you can explicitly disable it:</p> <pre data-language="python">class ChildModel(ParentModel):
    # ...
    class Meta:
        # Remove parent's ordering effect
        ordering = []
</pre>   <h4 id="inheritance-and-reverse-relations">Inheritance and reverse relations</h4> <p id="s-inheritance-and-reverse-relations">Because multi-table inheritance uses an implicit <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> to link the child and the parent, it’s possible to move from the parent down to the child, as in the above example. However, this uses up the name that is the default <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> value for <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a> and <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> relations. If you are putting those types of relations on a subclass of the parent model, you <strong>must</strong> specify the <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code>related_name</code></a> attribute on each such field. If you forget, Django will raise a validation error.</p> <p>For example, using the above <code>Place</code> class again, let’s create another subclass with a <a class="reference internal" href="../../ref/models/fields#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>:</p> <pre data-language="python">class Supplier(Place):
    customers = models.ManyToManyField(Place)
</pre> <p>This results in the error:</p> <pre data-language="python">Reverse query name for 'Supplier.customers' clashes with reverse query
name for 'Supplier.place_ptr'.

HINT: Add or change a related_name argument to the definition for
'Supplier.customers' or 'Supplier.place_ptr'.
</pre> <p>Adding <code>related_name</code> to the <code>customers</code> field as follows would resolve the error: <code>models.ManyToManyField(Place, related_name='provider')</code>.</p>   <h4 id="specifying-the-parent-link-field">Specifying the parent link field</h4> <p id="s-specifying-the-parent-link-field">As mentioned, Django will automatically create a <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> linking your child class back to any non-abstract parent models. If you want to control the name of the attribute linking back to the parent, you can create your own <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> and set <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField.parent_link" title="django.db.models.OneToOneField.parent_link"><code>parent_link=True</code></a> to indicate that your field is the link back to the parent class.</p>    <h3 id="id10">Proxy models</h3> <p id="s-proxy-models">When using <a class="reference internal" href="#multi-table-inheritance"><span class="std std-ref">multi-table inheritance</span></a>, a new database table is created for each subclass of a model. This is usually the desired behavior, since the subclass needs a place to store any additional data fields that are not present on the base class. Sometimes, however, you only want to change the Python behavior of a model – perhaps to change the default manager, or add a new method.</p> <p>This is what proxy model inheritance is for: creating a <em>proxy</em> for the original model. You can create, delete and update instances of the proxy model and all the data will be saved as if you were using the original (non-proxied) model. The difference is that you can change things like the default model ordering or the default manager in the proxy, without having to alter the original.</p> <p>Proxy models are declared like normal models. You tell Django that it’s a proxy model by setting the <a class="reference internal" href="../../ref/models/options#django.db.models.Options.proxy" title="django.db.models.Options.proxy"><code>proxy</code></a> attribute of the <code>Meta</code> class to <code>True</code>.</p> <p>For example, suppose you want to add a method to the <code>Person</code> model. You can do it like this:</p> <pre data-language="python">from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)

class MyPerson(Person):
    class Meta:
        proxy = True

    def do_something(self):
        # ...
        pass
</pre> <p>The <code>MyPerson</code> class operates on the same database table as its parent <code>Person</code> class. In particular, any new instances of <code>Person</code> will also be accessible through <code>MyPerson</code>, and vice-versa:</p> <pre data-language="python">&gt;&gt;&gt; p = Person.objects.create(first_name="foobar")
&gt;&gt;&gt; MyPerson.objects.get(first_name="foobar")
&lt;MyPerson: foobar&gt;
</pre> <p>You could also use a proxy model to define a different default ordering on a model. You might not always want to order the <code>Person</code> model, but regularly order by the <code>last_name</code> attribute when you use the proxy:</p> <pre data-language="python">class OrderedPerson(Person):
    class Meta:
        ordering = ["last_name"]
        proxy = True
</pre> <p>Now normal <code>Person</code> queries will be unordered and <code>OrderedPerson</code> queries will be ordered by <code>last_name</code>.</p> <p>Proxy models inherit <code>Meta</code> attributes <a class="reference internal" href="#meta-and-multi-table-inheritance"><span class="std std-ref">in the same way as regular models</span></a>.</p>  <h4 id="querysets-still-return-the-model-that-was-requested">
<code>QuerySet</code>s still return the model that was requested</h4> <p id="s-querysets-still-return-the-model-that-was-requested">There is no way to have Django return, say, a <code>MyPerson</code> object whenever you query for <code>Person</code> objects. A queryset for <code>Person</code> objects will return those types of objects. The whole point of proxy objects is that code relying on the original <code>Person</code> will use those and your own code can use the extensions you included (that no other code is relying on anyway). It is not a way to replace the <code>Person</code> (or any other) model everywhere with something of your own creation.</p>   <h4 id="base-class-restrictions">Base class restrictions</h4> <p id="s-base-class-restrictions">A proxy model must inherit from exactly one non-abstract model class. You can’t inherit from multiple non-abstract models as the proxy model doesn’t provide any connection between the rows in the different database tables. A proxy model can inherit from any number of abstract model classes, providing they do <em>not</em> define any model fields. A proxy model may also inherit from any number of proxy models that share a common non-abstract parent class.</p>   <h4 id="proxy-model-managers">Proxy model managers</h4> <p id="s-proxy-model-managers">If you don’t specify any model managers on a proxy model, it inherits the managers from its model parents. If you define a manager on the proxy model, it will become the default, although any managers defined on the parent classes will still be available.</p> <p>Continuing our example from above, you could change the default manager used when you query the <code>Person</code> model like this:</p> <pre data-language="python">from django.db import models

class NewManager(models.Manager):
    # ...
    pass

class MyPerson(Person):
    objects = NewManager()

    class Meta:
        proxy = True
</pre> <p>If you wanted to add a new manager to the Proxy, without replacing the existing default, you can use the techniques described in the <a class="reference internal" href="managers#custom-managers-and-inheritance"><span class="std std-ref">custom manager</span></a> documentation: create a base class containing the new managers and inherit that after the primary base class:</p> <pre data-language="python"># Create an abstract class for the new manager.
class ExtraManagers(models.Model):
    secondary = NewManager()

    class Meta:
        abstract = True

class MyPerson(Person, ExtraManagers):
    class Meta:
        proxy = True
</pre> <p>You probably won’t need to do this very often, but, when you do, it’s possible.</p>   <h4 id="proxy-vs-unmanaged-models">Differences between proxy inheritance and unmanaged models</h4> <p id="s-differences-between-proxy-inheritance-and-unmanaged-models">Proxy model inheritance might look fairly similar to creating an unmanaged model, using the <a class="reference internal" href="../../ref/models/options#django.db.models.Options.managed" title="django.db.models.Options.managed"><code>managed</code></a> attribute on a model’s <code>Meta</code> class.</p> <p>With careful setting of <a class="reference internal" href="../../ref/models/options#django.db.models.Options.db_table" title="django.db.models.Options.db_table"><code>Meta.db_table</code></a> you could create an unmanaged model that shadows an existing model and adds Python methods to it. However, that would be very repetitive and fragile as you need to keep both copies synchronized if you make any changes.</p> <p>On the other hand, proxy models are intended to behave exactly like the model they are proxying for. They are always in sync with the parent model since they directly inherit its fields and managers.</p> <p>The general rules are:</p> <ol class="arabic simple"> <li>If you are mirroring an existing model or database table and don’t want all the original database table columns, use <code>Meta.managed=False</code>. That option is normally useful for modeling database views and tables not under the control of Django.</li> <li>If you are wanting to change the Python-only behavior of a model, but keep all the same fields as in the original, use <code>Meta.proxy=True</code>. This sets things up so that the proxy model is an exact copy of the storage structure of the original model when data is saved.</li> </ol>    <h3 id="model-multiple-inheritance-topic">Multiple inheritance</h3> <p id="s-multiple-inheritance">Just as with Python’s subclassing, it’s possible for a Django model to inherit from multiple parent models. Keep in mind that normal Python name resolution rules apply. The first base class that a particular name (e.g. <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a>) appears in will be the one that is used; for example, this means that if multiple parents contain a <a class="reference internal" href="#meta-options"><span class="std std-ref">Meta</span></a> class, only the first one is going to be used, and all others will be ignored.</p> <p>Generally, you won’t need to inherit from multiple parents. The main use-case where this is useful is for “mix-in” classes: adding a particular extra field or method to every class that inherits the mix-in. Try to keep your inheritance hierarchies as simple and straightforward as possible so that you won’t have to struggle to work out where a particular piece of information is coming from.</p> <p>Note that inheriting from multiple models that have a common <code>id</code> primary key field will raise an error. To properly use multiple inheritance, you can use an explicit <a class="reference internal" href="../../ref/models/fields#django.db.models.AutoField" title="django.db.models.AutoField"><code>AutoField</code></a> in the base models:</p> <pre data-language="python">class Article(models.Model):
    article_id = models.AutoField(primary_key=True)
    ...

class Book(models.Model):
    book_id = models.AutoField(primary_key=True)
    ...

class BookReview(Book, Article):
    pass
</pre> <p>Or use a common ancestor to hold the <a class="reference internal" href="../../ref/models/fields#django.db.models.AutoField" title="django.db.models.AutoField"><code>AutoField</code></a>. This requires using an explicit <a class="reference internal" href="../../ref/models/fields#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code>OneToOneField</code></a> from each parent model to the common ancestor to avoid a clash between the fields that are automatically generated and inherited by the child:</p> <pre data-language="python">class Piece(models.Model):
    pass

class Article(Piece):
    article_piece = models.OneToOneField(Piece, on_delete=models.CASCADE, parent_link=True)
    ...

class Book(Piece):
    book_piece = models.OneToOneField(Piece, on_delete=models.CASCADE, parent_link=True)
    ...

class BookReview(Book, Article):
    pass
</pre>   <h3 id="field-name-hiding-is-not-permitted">Field name “hiding” is not permitted</h3> <p id="s-field-name-hiding-is-not-permitted">In normal Python class inheritance, it is permissible for a child class to override any attribute from the parent class. In Django, this isn’t usually permitted for model fields. If a non-abstract model base class has a field called <code>author</code>, you can’t create another model field or define an attribute called <code>author</code> in any class that inherits from that base class.</p> <p>This restriction doesn’t apply to model fields inherited from an abstract model. Such fields may be overridden with another field or value, or be removed by setting <code>field_name = None</code>.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Model managers are inherited from abstract base classes. Overriding an inherited field which is referenced by an inherited <a class="reference internal" href="managers#django.db.models.Manager" title="django.db.models.Manager"><code>Manager</code></a> may cause subtle bugs. See <a class="reference internal" href="managers#custom-managers-and-inheritance"><span class="std std-ref">custom managers and model inheritance</span></a>.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>Some fields define extra attributes on the model, e.g. a <a class="reference internal" href="../../ref/models/fields#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a> defines an extra attribute with <code>_id</code> appended to the field name, as well as <code>related_name</code> and <code>related_query_name</code> on the foreign model.</p> <p class="last">These extra attributes cannot be overridden unless the field that defines it is changed or removed so that it no longer defines the extra attribute.</p> </div> <p>Overriding fields in a parent model leads to difficulties in areas such as initializing new instances (specifying which field is being initialized in <code>Model.__init__</code>) and serialization. These are features which normal Python class inheritance doesn’t have to deal with in quite the same way, so the difference between Django model inheritance and Python class inheritance isn’t arbitrary.</p> <p>This restriction only applies to attributes which are <a class="reference internal" href="../../ref/models/fields#django.db.models.Field" title="django.db.models.Field"><code>Field</code></a> instances. Normal Python attributes can be overridden if you wish. It also only applies to the name of the attribute as Python sees it: if you are manually specifying the database column name, you can have the same column name appearing in both a child and an ancestor model for multi-table inheritance (they are columns in two different database tables).</p> <p>Django will raise a <a class="reference internal" href="../../ref/exceptions#django.core.exceptions.FieldError" title="django.core.exceptions.FieldError"><code>FieldError</code></a> if you override any model field in any ancestor model.</p> <p>Note that because of the way fields are resolved during class definition, model fields inherited from multiple abstract parent models are resolved in a strict depth-first order. This contrasts with standard Python MRO, which is resolved breadth-first in cases of diamond shaped inheritance. This difference only affects complex model hierarchies, which (as per the advice above) you should try to avoid.</p>    <h2 id="organizing-models-in-a-package">Organizing models in a package</h2> <p id="s-organizing-models-in-a-package">The <a class="reference internal" href="../../ref/django-admin#django-admin-startapp"><code>manage.py startapp</code></a> command creates an application structure that includes a <code>models.py</code> file. If you have many models, organizing them in separate files may be useful.</p> <p>To do so, create a <code>models</code> package. Remove <code>models.py</code> and create a <code>myapp/models/</code> directory with an <code>__init__.py</code> file and the files to store your models. You must import the models in the <code>__init__.py</code> file.</p> <p>For example, if you had <code>organic.py</code> and <code>synthetic.py</code> in the <code>models</code> directory:</p> <div class="literal-block-wrapper docutils container" id="id11"> <div class="code-block-caption"><span class="caption-text">myapp/models/__init__.py</span></div> <pre data-language="python">from .organic import Person
from .synthetic import Robot
</pre> </div> <p>Explicitly importing each model rather than using <code>from .models import *</code> has the advantages of not cluttering the namespace, making code more readable, and keeping code analysis tools useful.</p> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <dl class="last docutils"> <dt><a class="reference internal" href="../../ref/models/index"><span class="doc">The Models Reference</span></a></dt> <dd>Covers all the model related APIs including model fields, related objects, and <code>QuerySet</code>.</dd> </dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/4.0/topics/db/models/" class="_attribution-link">https://docs.djangoproject.com/en/4.0/topics/db/models/</a>
  </p>
</div>
