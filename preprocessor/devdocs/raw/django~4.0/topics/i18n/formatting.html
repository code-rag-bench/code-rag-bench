<h1 id="format-localization">Format localization</h1>  <h2 id="overview">Overview</h2> <p id="s-format-localization">Django’s formatting system is capable of displaying dates, times and numbers in templates using the format specified for the current <a class="reference internal" href="index#term-locale-name"><span class="xref std std-term">locale</span></a>. It also handles localized input in forms.</p> <p>When it’s enabled, two users accessing the same content may see dates, times and numbers formatted in different ways, depending on the formats for their current locale.</p> <p>The formatting system is disabled by default. To enable it, it’s necessary to set <a class="reference internal" href="../../ref/settings#std:setting-USE_L10N"><code>USE_L10N = True</code></a> in your settings file.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">To enable number formatting with thousand separators, it is necessary to set <a class="reference internal" href="../../ref/settings#std:setting-USE_THOUSAND_SEPARATOR"><code>USE_THOUSAND_SEPARATOR = True</code></a> in your settings file. Alternatively, you could use <a class="reference internal" href="../../ref/contrib/humanize#std:templatefilter-intcomma"><code>intcomma</code></a> to format numbers in your template.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">There is a related <a class="reference internal" href="../../ref/settings#std:setting-USE_I18N"><code>USE_I18N</code></a> setting that controls if Django should activate translation. See <a class="reference internal" href="translation"><span class="doc">Translation</span></a> for more details.</p> </div>   <h2 id="locale-aware-input-in-forms">Locale aware input in forms</h2> <p id="s-locale-aware-input-in-forms">When formatting is enabled, Django can use localized formats when parsing dates, times and numbers in forms. That means it tries different formats for different locales when guessing the format used by the user when inputting data on forms.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Django uses different formats for displaying data to those it uses for parsing data. Most notably, the formats for parsing dates can’t use the <code>%a</code> (abbreviated weekday name), <code>%A</code> (full weekday name), <code>%b</code> (abbreviated month name), <code>%B</code> (full month name), or <code>%p</code> (AM/PM).</p> </div> <p>To enable a form field to localize input and output data use its <code>localize</code> argument:</p> <pre data-language="python">class CashRegisterForm(forms.Form):
   product = forms.CharField()
   revenue = forms.DecimalField(max_digits=4, decimal_places=2, localize=True)
</pre>   <h2 id="topic-l10n-templates">Controlling localization in templates</h2> <p id="s-controlling-localization-in-templates">When you have enabled formatting with <a class="reference internal" href="../../ref/settings#std:setting-USE_L10N"><code>USE_L10N</code></a>, Django will try to use a locale specific format whenever it outputs a value in a template.</p> <p>However, it may not always be appropriate to use localized values – for example, if you’re outputting JavaScript or XML that is designed to be machine-readable, you will always want unlocalized values. You may also want to use localization in selected templates, rather than using localization everywhere.</p> <p>To allow for fine control over the use of localization, Django provides the <code>l10n</code> template library that contains the following tags and filters.</p>  <h3 id="template-tags">Template tags</h3>  <h4 id="std:templatetag-localize"><code>localize</code></h4> <p id="s-template-tags">Enables or disables localization of template variables in the contained block.</p> <p>This tag allows a more fine grained control of localization than <a class="reference internal" href="../../ref/settings#std:setting-USE_L10N"><code>USE_L10N</code></a>.</p> <p>To activate or deactivate localization for a template block, use:</p> <pre data-language="python">{% load l10n %}

{% localize on %}
    {{ value }}
{% endlocalize %}

{% localize off %}
    {{ value }}
{% endlocalize %}
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The value of <a class="reference internal" href="../../ref/settings#std:setting-USE_L10N"><code>USE_L10N</code></a> isn’t respected inside of a <code>{% localize %}</code> block.</p> </div> <p>See <a class="reference internal" href="#std:templatefilter-localize"><code>localize</code></a> and <a class="reference internal" href="#std:templatefilter-unlocalize"><code>unlocalize</code></a> for template filters that will do the same job on a per-variable basis.</p>    <h3 id="template-filters">Template filters</h3>  <h4 id="id1"><code>localize</code></h4> <p id="s-template-filters">Forces localization of a single value.</p> <p>For example:</p> <pre data-language="python">{% load l10n %}

{{ value|localize }}
</pre> <p>To disable localization on a single value, use <a class="reference internal" href="#std:templatefilter-unlocalize"><code>unlocalize</code></a>. To control localization over a large section of a template, use the <a class="reference internal" href="#std:templatetag-localize"><code>localize</code></a> template tag.</p>   <h4 id="std:templatefilter-unlocalize"><code>unlocalize</code></h4> <p id="s-unlocalize">Forces a single value to be printed without localization.</p> <p>For example:</p> <pre data-language="python">{% load l10n %}

{{ value|unlocalize }}
</pre> <p>To force localization of a single value, use <a class="reference internal" href="#std:templatefilter-localize"><code>localize</code></a>. To control localization over a large section of a template, use the <a class="reference internal" href="#std:templatetag-localize"><code>localize</code></a> template tag.</p> <p>Returns a string representation for unlocalized numbers (<code>int</code>, <code>float</code>, or <code>Decimal</code>).</p>     <h2 id="custom-format-files">Creating custom format files</h2> <p id="s-creating-custom-format-files">Django provides format definitions for many locales, but sometimes you might want to create your own, because a format file doesn’t exist for your locale, or because you want to overwrite some of the values.</p> <p>To use custom formats, specify the path where you’ll place format files first. To do that, set your <a class="reference internal" href="../../ref/settings#std:setting-FORMAT_MODULE_PATH"><code>FORMAT_MODULE_PATH</code></a> setting to the package where format files will exist, for instance:</p> <pre data-language="python">FORMAT_MODULE_PATH = [
    'mysite.formats',
    'some_app.formats',
]
</pre> <p>Files are not placed directly in this directory, but in a directory named as the locale, and must be named <code>formats.py</code>. Be careful not to put sensitive information in these files as values inside can be exposed if you pass the string to <code>django.utils.formats.get_format()</code> (used by the <a class="reference internal" href="../../ref/templates/builtins#std:templatefilter-date"><code>date</code></a> template filter).</p> <p>To customize the English formats, a structure like this would be needed:</p> <pre data-language="python">mysite/
    formats/
        __init__.py
        en/
            __init__.py
            formats.py
</pre> <p>where <code>formats.py</code> contains custom format definitions. For example:</p> <pre data-language="python">THOUSAND_SEPARATOR = '\xa0'
</pre> <p>to use a non-breaking space (Unicode <code>00A0</code>) as a thousand separator, instead of the default for English, a comma.</p>   <h2 id="limitations-of-the-provided-locale-formats">Limitations of the provided locale formats</h2> <p id="s-limitations-of-the-provided-locale-formats">Some locales use context-sensitive formats for numbers, which Django’s localization system cannot handle automatically.</p>  <h3 id="switzerland-german">Switzerland (German)</h3> <p id="s-switzerland-german">The Swiss number formatting depends on the type of number that is being formatted. For monetary values, a comma is used as the thousand separator and a decimal point for the decimal separator. For all other numbers, a comma is used as decimal separator and a space as thousand separator. The locale format provided by Django uses the generic separators, a comma for decimal and a space for thousand separators.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/4.0/topics/i18n/formatting/" class="_attribution-link">https://docs.djangoproject.com/en/4.0/topics/i18n/formatting/</a>
  </p>
</div>
