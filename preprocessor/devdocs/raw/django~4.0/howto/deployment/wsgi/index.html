<h1 id="how-to-deploy-with-wsgi">How to deploy with WSGI</h1> <p id="s-how-to-deploy-with-wsgi">Django’s primary deployment platform is <a class="reference external" href="https://wsgi.readthedocs.io/en/latest/">WSGI</a>, the Python standard for web servers and applications.</p> <p>Django’s <a class="reference internal" href="../../../ref/django-admin#django-admin-startproject"><code>startproject</code></a> management command sets up a minimal default WSGI configuration for you, which you can tweak as needed for your project, and direct any WSGI-compliant application server to use.</p> <p>Django includes getting-started documentation for the following WSGI servers:</p>  <ul> <li class="toctree-l1"><a class="reference internal" href="gunicorn">How to use Django with Gunicorn</a></li> <li class="toctree-l1"><a class="reference internal" href="uwsgi">How to use Django with uWSGI</a></li> <li class="toctree-l1"><a class="reference internal" href="modwsgi">How to use Django with Apache and <code>mod_wsgi</code></a></li> <li class="toctree-l1"><a class="reference internal" href="apache-auth">How to authenticate against Django’s user database from Apache</a></li> </ul>   <h2 id="the-application-object">The <code>application</code> object</h2> <p id="s-the-application-object">The key concept of deploying with WSGI is the <code>application</code> callable which the application server uses to communicate with your code. It’s commonly provided as an object named <code>application</code> in a Python module accessible to the server.</p> <p>The <a class="reference internal" href="../../../ref/django-admin#django-admin-startproject"><code>startproject</code></a> command creates a file <code>&lt;project_name&gt;/wsgi.py</code> that contains such an <code>application</code> callable.</p> <p>It’s used both by Django’s development server and in production WSGI deployments.</p> <p>WSGI servers obtain the path to the <code>application</code> callable from their configuration. Django’s built-in server, namely the <a class="reference internal" href="../../../ref/django-admin#django-admin-runserver"><code>runserver</code></a> command, reads it from the <a class="reference internal" href="../../../ref/settings#std:setting-WSGI_APPLICATION"><code>WSGI_APPLICATION</code></a> setting. By default, it’s set to <code>&lt;project_name&gt;.wsgi.application</code>, which points to the <code>application</code> callable in <code>&lt;project_name&gt;/wsgi.py</code>.</p>   <h2 id="configuring-the-settings-module">Configuring the settings module</h2> <p id="s-configuring-the-settings-module">When the WSGI server loads your application, Django needs to import the settings module — that’s where your entire application is defined.</p> <p>Django uses the <a class="reference internal" href="../../../topics/settings#envvar-DJANGO_SETTINGS_MODULE" id="index-0"><code>DJANGO_SETTINGS_MODULE</code></a> environment variable to locate the appropriate settings module. It must contain the dotted path to the settings module. You can use a different value for development and production; it all depends on how you organize your settings.</p> <p>If this variable isn’t set, the default <code>wsgi.py</code> sets it to <code>mysite.settings</code>, where <code>mysite</code> is the name of your project. That’s how <a class="reference internal" href="../../../ref/django-admin#django-admin-runserver"><code>runserver</code></a> discovers the default settings file by default.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>Since environment variables are process-wide, this doesn’t work when you run multiple Django sites in the same process. This happens with mod_wsgi.</p> <p class="last">To avoid this problem, use mod_wsgi’s daemon mode with each site in its own daemon process, or override the value from the environment by enforcing <code>os.environ["DJANGO_SETTINGS_MODULE"] = "mysite.settings"</code> in your <code>wsgi.py</code>.</p> </div>   <h2 id="applying-wsgi-middleware">Applying WSGI middleware</h2> <p id="s-applying-wsgi-middleware">To apply <a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333#middleware-components-that-play-both-sides" id="index-1"><strong>WSGI middleware</strong></a> you can wrap the application object. For instance you could add these lines at the bottom of <code>wsgi.py</code>:</p> <pre data-language="python">from helloworld.wsgi import HelloWorldApplication
application = HelloWorldApplication(application)
</pre> <p>You could also replace the Django WSGI application with a custom WSGI application that later delegates to the Django WSGI application, if you want to combine a Django application with a WSGI application of another framework.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/4.0/howto/deployment/wsgi/index/" class="_attribution-link">https://docs.djangoproject.com/en/4.0/howto/deployment/wsgi/index/</a>
  </p>
</div>
