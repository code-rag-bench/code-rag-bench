<h1 id="how-to-integrate-django-with-a-legacy-database">How to integrate Django with a legacy database</h1> <p id="s-how-to-integrate-django-with-a-legacy-database">While Django is best suited for developing new applications, it’s quite possible to integrate it into legacy databases. Django includes a couple of utilities to automate as much of this process as possible.</p> <p>This document assumes you know the Django basics, as covered in the <a class="reference internal" href="../intro/tutorial01"><span class="doc">tutorial</span></a>.</p> <p>Once you’ve got Django set up, you’ll follow this general process to integrate with an existing database.</p>  <h2 id="give-django-your-database-parameters">Give Django your database parameters</h2> <p id="s-give-django-your-database-parameters">You’ll need to tell Django what your database connection parameters are, and what the name of the database is. Do that by editing the <a class="reference internal" href="../ref/settings#std:setting-DATABASES"><code>DATABASES</code></a> setting and assigning values to the following keys for the <code>'default'</code> connection:</p> <ul class="simple"> <li><a class="reference internal" href="../ref/settings#std:setting-NAME"><code>NAME</code></a></li> <li><a class="reference internal" href="../ref/settings#std:setting-DATABASE-ENGINE"><code>ENGINE</code></a></li> <li><a class="reference internal" href="../ref/settings#std:setting-USER"><code>USER</code></a></li> <li><a class="reference internal" href="../ref/settings#std:setting-PASSWORD"><code>PASSWORD</code></a></li> <li><a class="reference internal" href="../ref/settings#std:setting-HOST"><code>HOST</code></a></li> <li><a class="reference internal" href="../ref/settings#std:setting-PORT"><code>PORT</code></a></li> </ul>   <h2 id="auto-generate-the-models">Auto-generate the models</h2> <p id="s-auto-generate-the-models">Django comes with a utility called <a class="reference internal" href="../ref/django-admin#django-admin-inspectdb"><code>inspectdb</code></a> that can create models by introspecting an existing database. You can view the output by running this command:</p> <pre data-language="bash">$ python manage.py inspectdb
</pre> <p>Save this as a file by using standard Unix output redirection:</p> <pre data-language="bash">$ python manage.py inspectdb &gt; models.py
</pre> <p>This feature is meant as a shortcut, not as definitive model generation. See the <a class="reference internal" href="../ref/django-admin#django-admin-inspectdb"><code>documentation of inspectdb</code></a> for more information.</p> <p>Once you’ve cleaned up your models, name the file <code>models.py</code> and put it in the Python package that holds your app. Then add the app to your <a class="reference internal" href="../ref/settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> setting.</p> <p>By default, <a class="reference internal" href="../ref/django-admin#django-admin-inspectdb"><code>inspectdb</code></a> creates unmanaged models. That is, <code>managed = False</code> in the model’s <code>Meta</code> class tells Django not to manage each table’s creation, modification, and deletion:</p> <pre data-language="bash">class Person(models.Model):
    id = models.IntegerField(primary_key=True)
    first_name = models.CharField(max_length=70)
    class Meta:
       managed = False
       db_table = 'CENSUS_PERSONS'
</pre> <p>If you do want to allow Django to manage the table’s lifecycle, you’ll need to change the <a class="reference internal" href="../ref/models/options#django.db.models.Options.managed" title="django.db.models.Options.managed"><code>managed</code></a> option above to <code>True</code> (or remove it because <code>True</code> is its default value).</p>   <h2 id="install-the-core-django-tables">Install the core Django tables</h2> <p id="s-install-the-core-django-tables">Next, run the <a class="reference internal" href="../ref/django-admin#django-admin-migrate"><code>migrate</code></a> command to install any extra needed database records such as admin permissions and content types:</p> <pre data-language="bash">$ python manage.py migrate
</pre>   <h2 id="test-and-tweak">Test and tweak</h2> <p id="s-test-and-tweak">Those are the basic steps – from here you’ll want to tweak the models Django generated until they work the way you’d like. Try accessing your data via the Django database API, and try editing objects via Django’s admin site, and edit the models file accordingly.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/4.0/howto/legacy-databases/" class="_attribution-link">https://docs.djangoproject.com/en/4.0/howto/legacy-databases/</a>
  </p>
</div>
