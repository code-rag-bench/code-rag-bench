<h1 id="django-admin-and-manage-py">django-admin and manage.py</h1> <p id="s-django-admin-and-manage-py"><code>django-admin</code> is Django’s command-line utility for administrative tasks. This document outlines all it can do.</p> <p>In addition, <code>manage.py</code> is automatically created in each Django project. It does the same thing as <code>django-admin</code> but also sets the <a class="reference internal" href="../topics/settings#envvar-DJANGO_SETTINGS_MODULE" id="index-0"><code>DJANGO_SETTINGS_MODULE</code></a> environment variable so that it points to your project’s <code>settings.py</code> file.</p> <p>The <code>django-admin</code> script should be on your system path if you installed Django via <code>pip</code>. If it’s not in your path, ensure you have your virtual environment activated.</p> <p>Generally, when working on a single Django project, it’s easier to use <code>manage.py</code> than <code>django-admin</code>. If you need to switch between multiple Django settings files, use <code>django-admin</code> with <a class="reference internal" href="../topics/settings#envvar-DJANGO_SETTINGS_MODULE" id="index-1"><code>DJANGO_SETTINGS_MODULE</code></a> or the <a class="reference internal" href="#cmdoption-settings"><code>--settings</code></a> command line option.</p> <p>The command-line examples throughout this document use <code>django-admin</code> to be consistent, but any example can use <code>manage.py</code> or <code>python -m django</code> just as well.</p>  <h2 id="usage">Usage</h2>       <pre data-language="console">$ django-admin &lt;command&gt; [options]
$ manage.py &lt;command&gt; [options]
$ python -m django &lt;command&gt; [options]
</pre>   <div class="highlight"><pre><span class="gp">...\&gt;</span> django-admin <span class="p">&lt;</span>command<span class="p">&gt;</span> [options]
<span class="gp">...\&gt;</span> manage.py <span class="p">&lt;</span>command<span class="p">&gt;</span> [options]
<span class="gp">...\&gt;</span> py -m django <span class="p">&lt;</span>command<span class="p">&gt;</span> [options]
</pre></div>   <p><code>command</code> should be one of the commands listed in this document. <code>options</code>, which is optional, should be zero or more of the options available for the given command.</p>  <h3 id="getting-runtime-help">Getting runtime help</h3> <dl class="django-admin" id="s-getting-runtime-help"> <dt id="django-admin-help">
<code>django-admin help</code> </dt> 
</dl> <p>Run <code>django-admin help</code> to display usage information and a list of the commands provided by each application.</p> <p>Run <code>django-admin help --commands</code> to display a list of all available commands.</p> <p>Run <code>django-admin help &lt;command&gt;</code> to display a description of the given command and a list of its available options.</p>   <h3 id="app-names">App names</h3> <p id="s-app-names">Many commands take a list of “app names.” An “app name” is the basename of the package containing your models. For example, if your <a class="reference internal" href="settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> contains the string <code>'mysite.blog'</code>, the app name is <code>blog</code>.</p>   <h3 id="determining-the-version">Determining the version</h3> <dl class="django-admin" id="s-determining-the-version"> <dt id="django-admin-version">
<code>django-admin version</code> </dt> 
</dl> <p>Run <code>django-admin version</code> to display the current Django version.</p> <p>The output follows the schema described in <a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440" id="index-2"><strong>PEP 440</strong></a>:</p> <pre data-language="python">1.4.dev17026
1.4a1
1.4
</pre>   <h3 id="displaying-debug-output">Displaying debug output</h3> <p id="s-displaying-debug-output">Use <a class="reference internal" href="#cmdoption-verbosity"><code>--verbosity</code></a>, where it is supported, to specify the amount of notification and debug information that <code>django-admin</code> prints to the console.</p>    <h2 id="available-commands">Available commands</h2>  <h3 id="check"><code>check</code></h3> <dl class="django-admin" id="s-available-commands"> <dt id="django-admin-check">
<code>django-admin check [app_label [app_label ...]]</code> </dt> 
</dl> <p>Uses the <a class="reference internal" href="checks"><span class="doc">system check framework</span></a> to inspect the entire Django project for common problems.</p> <p>By default, all apps will be checked. You can check a subset of apps by providing a list of app labels as arguments:</p> <pre data-language="python">django-admin check auth admin myapp
</pre> <dl class="django-admin-option"> <dt id="cmdoption-check-tag">
<code>--tag TAGS, -t TAGS</code> </dt> 
</dl> <p>The system check framework performs many different types of checks that are <a class="reference internal" href="checks#system-check-builtin-tags"><span class="std std-ref">categorized with tags</span></a>. You can use these tags to restrict the checks performed to just those in a particular category. For example, to perform only models and compatibility checks, run:</p> <pre data-language="python">django-admin check --tag models --tag compatibility
</pre> <dl class="django-admin-option"> <dt id="cmdoption-check-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to run checks requiring database access:</p> <pre data-language="python">django-admin check --database default --database other
</pre> <p>By default, these checks will not be run.</p> <dl class="django-admin-option"> <dt id="cmdoption-check-list-tags">
<code>--list-tags</code> </dt> 
</dl> <p>Lists all available tags.</p> <dl class="django-admin-option"> <dt id="cmdoption-check-deploy">
<code>--deploy</code> </dt> 
</dl> <p>Activates some additional checks that are only relevant in a deployment setting.</p> <p>You can use this option in your local development environment, but since your local development settings module may not have many of your production settings, you will probably want to point the <code>check</code> command at a different settings module, either by setting the <a class="reference internal" href="../topics/settings#envvar-DJANGO_SETTINGS_MODULE" id="index-3"><code>DJANGO_SETTINGS_MODULE</code></a> environment variable, or by passing the <code>--settings</code> option:</p> <pre data-language="python">django-admin check --deploy --settings=production_settings
</pre> <p>Or you could run it directly on a production or staging deployment to verify that the correct settings are in use (omitting <code>--settings</code>). You could even make it part of your integration test suite.</p> <dl class="django-admin-option"> <dt id="cmdoption-check-fail-level">
<code>--fail-level {CRITICAL,ERROR,WARNING,INFO,DEBUG}</code> </dt> 
</dl> <p>Specifies the message level that will cause the command to exit with a non-zero status. Default is <code>ERROR</code>.</p>   <h3 id="compilemessages"><code>compilemessages</code></h3> <dl class="django-admin" id="s-compilemessages"> <dt id="django-admin-compilemessages">
<code>django-admin compilemessages</code> </dt> 
</dl> <p>Compiles <code>.po</code> files created by <a class="reference internal" href="#django-admin-makemessages"><code>makemessages</code></a> to <code>.mo</code> files for use with the built-in gettext support. See <a class="reference internal" href="../topics/i18n/index"><span class="doc">Internationalization and localization</span></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-compilemessages-locale">
<code>--locale LOCALE, -l LOCALE</code> </dt> 
</dl> <p>Specifies the locale(s) to process. If not provided, all locales are processed.</p> <dl class="django-admin-option"> <dt id="cmdoption-compilemessages-exclude">
<code>--exclude EXCLUDE, -x EXCLUDE</code> </dt> 
</dl> <p>Specifies the locale(s) to exclude from processing. If not provided, no locales are excluded.</p> <dl class="django-admin-option"> <dt id="cmdoption-compilemessages-use-fuzzy">
<code>--use-fuzzy, -f</code> </dt> 
</dl> <p>Includes <a class="reference external" href="https://www.gnu.org/software/gettext/manual/html_node/Fuzzy-Entries.html">fuzzy translations</a> into compiled files.</p> <p>Example usage:</p> <pre data-language="python">django-admin compilemessages --locale=pt_BR
django-admin compilemessages --locale=pt_BR --locale=fr -f
django-admin compilemessages -l pt_BR
django-admin compilemessages -l pt_BR -l fr --use-fuzzy
django-admin compilemessages --exclude=pt_BR
django-admin compilemessages --exclude=pt_BR --exclude=fr
django-admin compilemessages -x pt_BR
django-admin compilemessages -x pt_BR -x fr
</pre> <dl class="django-admin-option"> <dt id="cmdoption-compilemessages-ignore">
<code>--ignore PATTERN, -i PATTERN</code> </dt> 
</dl> <p>Ignores directories matching the given <a class="reference external" href="https://docs.python.org/3/library/glob.html#module-glob" title="(in Python v3.10)"><code>glob</code></a>-style pattern. Use multiple times to ignore more.</p> <p>Example usage:</p> <pre data-language="python">django-admin compilemessages --ignore=cache --ignore=outdated/*/locale
</pre>   <h3 id="createcachetable"><code>createcachetable</code></h3> <dl class="django-admin" id="s-createcachetable"> <dt id="django-admin-createcachetable">
<code>django-admin createcachetable</code> </dt> 
</dl> <p>Creates the cache tables for use with the database cache backend using the information from your settings file. See <a class="reference internal" href="../topics/cache"><span class="doc">Django’s cache framework</span></a> for more information.</p> <dl class="django-admin-option"> <dt id="cmdoption-createcachetable-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database in which the cache table(s) will be created. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-createcachetable-dry-run">
<code>--dry-run</code> </dt> 
</dl> <p>Prints the SQL that would be run without actually running it, so you can customize it or use the migrations framework.</p>   <h3 id="dbshell"><code>dbshell</code></h3> <dl class="django-admin" id="s-dbshell"> <dt id="django-admin-dbshell">
<code>django-admin dbshell</code> </dt> 
</dl> <p>Runs the command-line client for the database engine specified in your <a class="reference internal" href="settings#std:setting-DATABASE-ENGINE"><code>ENGINE</code></a> setting, with the connection parameters specified in your <a class="reference internal" href="settings#std:setting-USER"><code>USER</code></a>, <a class="reference internal" href="settings#std:setting-PASSWORD"><code>PASSWORD</code></a>, etc., settings.</p> <ul class="simple"> <li>For PostgreSQL, this runs the <code>psql</code> command-line client.</li> <li>For MySQL, this runs the <code>mysql</code> command-line client.</li> <li>For SQLite, this runs the <code>sqlite3</code> command-line client.</li> <li>For Oracle, this runs the <code>sqlplus</code> command-line client.</li> </ul> <p>This command assumes the programs are on your <code>PATH</code> so that a call to the program name (<code>psql</code>, <code>mysql</code>, <code>sqlite3</code>, <code>sqlplus</code>) will find the program in the right place. There’s no way to specify the location of the program manually.</p> <dl class="django-admin-option"> <dt id="cmdoption-dbshell-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database onto which to open a shell. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-dbshell">
<code>-- ARGUMENTS</code> </dt> 
</dl> <p>Any arguments following a <code>--</code> divider will be passed on to the underlying command-line client. For example, with PostgreSQL you can use the <code>psql</code> command’s <code>-c</code> flag to execute a raw SQL query directly:</p>       <pre data-language="console">$ django-admin dbshell -- -c 'select current_user'
 current_user
--------------
 postgres
(1 row)
</pre>   <div class="highlight"><pre><span class="gp">...\&gt;</span> django-admin dbshell -- -c 'select current_user'
<span class="go"> current_user</span>
<span class="go">--------------</span>
<span class="go"> postgres</span>
<span class="gp gp-VirtualEnv">(1 row)</span>
</pre></div>   <p>On MySQL/MariaDB, you can do this with the <code>mysql</code> command’s <code>-e</code> flag:</p>       <pre data-language="console">$ django-admin dbshell -- -e "select user()"
+----------------------+
| user()               |
+----------------------+
| djangonaut@localhost |
+----------------------+
</pre>   <div class="highlight"><pre><span class="gp">...\&gt;</span> django-admin dbshell -- -e <span class="s2">"select user()"</span>
<span class="go">+----------------------+</span>
<span class="go">| user()               |</span>
<span class="go">+----------------------+</span>
<span class="go">| djangonaut@localhost |</span>
<span class="go">+----------------------+</span>
</pre></div>   <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Be aware that not all options set in the <a class="reference internal" href="settings#std:setting-OPTIONS"><code>OPTIONS</code></a> part of your database configuration in <a class="reference internal" href="settings#std:setting-DATABASES"><code>DATABASES</code></a> are passed to the command-line client, e.g. <code>'isolation_level'</code>.</p> </div>   <h3 id="diffsettings"><code>diffsettings</code></h3> <dl class="django-admin" id="s-diffsettings"> <dt id="django-admin-diffsettings">
<code>django-admin diffsettings</code> </dt> 
</dl> <p>Displays differences between the current settings file and Django’s default settings (or another settings file specified by <a class="reference internal" href="#cmdoption-diffsettings-default"><code>--default</code></a>).</p> <p>Settings that don’t appear in the defaults are followed by <code>"###"</code>. For example, the default settings don’t define <a class="reference internal" href="settings#std:setting-ROOT_URLCONF"><code>ROOT_URLCONF</code></a>, so <a class="reference internal" href="settings#std:setting-ROOT_URLCONF"><code>ROOT_URLCONF</code></a> is followed by <code>"###"</code> in the output of <code>diffsettings</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-diffsettings-all">
<code>--all</code> </dt> 
</dl> <p>Displays all settings, even if they have Django’s default value. Such settings are prefixed by <code>"###"</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-diffsettings-default">
<code>--default MODULE</code> </dt> 
</dl> <p>The settings module to compare the current settings against. Leave empty to compare against Django’s default settings.</p> <dl class="django-admin-option"> <dt id="cmdoption-diffsettings-output">
<code>--output {hash,unified}</code> </dt> 
</dl> <p>Specifies the output format. Available values are <code>hash</code> and <code>unified</code>. <code>hash</code> is the default mode that displays the output that’s described above. <code>unified</code> displays the output similar to <code>diff -u</code>. Default settings are prefixed with a minus sign, followed by the changed setting prefixed with a plus sign.</p>   <h3 id="dumpdata"><code>dumpdata</code></h3> <dl class="django-admin" id="s-dumpdata"> <dt id="django-admin-dumpdata">
<code>django-admin dumpdata [app_label[.ModelName] [app_label[.ModelName] ...]]</code> </dt> 
</dl> <p>Outputs to standard output all data in the database associated with the named application(s).</p> <p>If no application name is provided, all installed applications will be dumped.</p> <p>The output of <code>dumpdata</code> can be used as input for <a class="reference internal" href="#django-admin-loaddata"><code>loaddata</code></a>.</p> <p>Note that <code>dumpdata</code> uses the default manager on the model for selecting the records to dump. If you’re using a <a class="reference internal" href="../topics/db/managers#custom-managers"><span class="std std-ref">custom manager</span></a> as the default manager and it filters some of the available records, not all of the objects will be dumped.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-all">
<code>--all, -a</code> </dt> 
</dl> <p>Uses Django’s base manager, dumping records which might otherwise be filtered or modified by a custom manager.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-format">
<code>--format FORMAT</code> </dt> 
</dl> <p>Specifies the serialization format of the output. Defaults to JSON. Supported formats are listed in <a class="reference internal" href="../topics/serialization#serialization-formats"><span class="std std-ref">Serialization formats</span></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-indent">
<code>--indent INDENT</code> </dt> 
</dl> <p>Specifies the number of indentation spaces to use in the output. Defaults to <code>None</code> which displays all data on single line.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-exclude">
<code>--exclude EXCLUDE, -e EXCLUDE</code> </dt> 
</dl> <p>Prevents specific applications or models (specified in the form of <code>app_label.ModelName</code>) from being dumped. If you specify a model name, then only that model will be excluded, rather than the entire application. You can also mix application names and model names.</p> <p>If you want to exclude multiple applications, pass <code>--exclude</code> more than once:</p> <pre data-language="python">django-admin dumpdata --exclude=auth --exclude=contenttypes
</pre> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database from which data will be dumped. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-natural-foreign">
<code>--natural-foreign</code> </dt> 
</dl> <p>Uses the <code>natural_key()</code> model method to serialize any foreign key and many-to-many relationship to objects of the type that defines the method. If you’re dumping <code>contrib.auth</code> <code>Permission</code> objects or <code>contrib.contenttypes</code> <code>ContentType</code> objects, you should probably use this flag. See the <a class="reference internal" href="../topics/serialization#topics-serialization-natural-keys"><span class="std std-ref">natural keys</span></a> documentation for more details on this and the next option.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-natural-primary">
<code>--natural-primary</code> </dt> 
</dl> <p>Omits the primary key in the serialized data of this object since it can be calculated during deserialization.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-pks">
<code>--pks PRIMARY_KEYS</code> </dt> 
</dl> <p>Outputs only the objects specified by a comma separated list of primary keys. This is only available when dumping one model. By default, all the records of the model are output.</p> <dl class="django-admin-option"> <dt id="cmdoption-dumpdata-output">
<code>--output OUTPUT, -o OUTPUT</code> </dt> 
</dl> <p>Specifies a file to write the serialized data to. By default, the data goes to standard output.</p> <p>When this option is set and <code>--verbosity</code> is greater than 0 (the default), a progress bar is shown in the terminal.</p>  <h4 id="fixtures-compression">Fixtures compression</h4> <div class="versionadded" id="s-fixtures-compression"> <span class="title">New in Django 3.2.</span> </div> <p>The output file can be compressed with one of the <code>bz2</code>, <code>gz</code>, <code>lzma</code>, or <code>xz</code> formats by ending the filename with the corresponding extension. For example, to output the data as a compressed JSON file:</p> <pre data-language="python">django-admin dumpdata -o mydata.json.gz
</pre>    <h3 id="flush"><code>flush</code></h3> <dl class="django-admin" id="s-flush"> <dt id="django-admin-flush">
<code>django-admin flush</code> </dt> 
</dl> <p>Removes all data from the database and re-executes any post-synchronization handlers. The table of which migrations have been applied is not cleared.</p> <p>If you would rather start from an empty database and re-run all migrations, you should drop and recreate the database and then run <a class="reference internal" href="#django-admin-migrate"><code>migrate</code></a> instead.</p> <dl class="django-admin-option"> <dt id="cmdoption-flush-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts.</p> <dl class="django-admin-option"> <dt id="cmdoption-flush-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to flush. Defaults to <code>default</code>.</p>   <h3 id="inspectdb"><code>inspectdb</code></h3> <dl class="django-admin" id="s-inspectdb"> <dt id="django-admin-inspectdb">
<code>django-admin inspectdb [table [table ...]]</code> </dt> 
</dl> <p>Introspects the database tables in the database pointed-to by the <a class="reference internal" href="settings#std:setting-NAME"><code>NAME</code></a> setting and outputs a Django model module (a <code>models.py</code> file) to standard output.</p> <p>You may choose what tables or views to inspect by passing their names as arguments. If no arguments are provided, models are created for views only if the <a class="reference internal" href="#cmdoption-inspectdb-include-views"><code>--include-views</code></a> option is used. Models for partition tables are created on PostgreSQL if the <a class="reference internal" href="#cmdoption-inspectdb-include-partitions"><code>--include-partitions</code></a> option is used.</p> <p>Use this if you have a legacy database with which you’d like to use Django. The script will inspect the database and create a model for each table within it.</p> <p>As you might expect, the created models will have an attribute for every field in the table. Note that <code>inspectdb</code> has a few special cases in its field-name output:</p> <ul class="simple"> <li>If <code>inspectdb</code> cannot map a column’s type to a model field type, it’ll use <code>TextField</code> and will insert the Python comment <code>'This field type is a guess.'</code> next to the field in the generated model. The recognized fields may depend on apps listed in <a class="reference internal" href="settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a>. For example, <a class="reference internal" href="contrib/postgres/index#module-django.contrib.postgres" title="django.contrib.postgres: PostgreSQL-specific fields and features"><code>django.contrib.postgres</code></a> adds recognition for several PostgreSQL-specific field types.</li> <li>If the database column name is a Python reserved word (such as <code>'pass'</code>, <code>'class'</code> or <code>'for'</code>), <code>inspectdb</code> will append <code>'_field'</code> to the attribute name. For example, if a table has a column <code>'for'</code>, the generated model will have a field <code>'for_field'</code>, with the <code>db_column</code> attribute set to <code>'for'</code>. <code>inspectdb</code> will insert the Python comment <code>'Field renamed because it was a Python reserved word.'</code> next to the field.</li> </ul> <p>This feature is meant as a shortcut, not as definitive model generation. After you run it, you’ll want to look over the generated models yourself to make customizations. In particular, you’ll need to rearrange models’ order, so that models that refer to other models are ordered properly.</p> <p>Django doesn’t create database defaults when a <a class="reference internal" href="models/fields#django.db.models.Field.default" title="django.db.models.Field.default"><code>default</code></a> is specified on a model field. Similarly, database defaults aren’t translated to model field defaults or detected in any fashion by <code>inspectdb</code>.</p> <p>By default, <code>inspectdb</code> creates unmanaged models. That is, <code>managed = False</code> in the model’s <code>Meta</code> class tells Django not to manage each table’s creation, modification, and deletion. If you do want to allow Django to manage the table’s lifecycle, you’ll need to change the <a class="reference internal" href="models/options#django.db.models.Options.managed" title="django.db.models.Options.managed"><code>managed</code></a> option to <code>True</code> (or remove it because <code>True</code> is its default value).</p>  <h4 id="database-specific-notes">Database-specific notes</h4>  <h5 id="oracle">Oracle</h5> <ul class="simple" id="s-database-specific-notes"> <li>Models are created for materialized views if <a class="reference internal" href="#cmdoption-inspectdb-include-views"><code>--include-views</code></a> is used.</li> </ul>   <h5 id="postgresql">PostgreSQL</h5> <ul class="simple" id="s-postgresql"> <li>Models are created for foreign tables.</li> <li>Models are created for materialized views if <a class="reference internal" href="#cmdoption-inspectdb-include-views"><code>--include-views</code></a> is used.</li> <li>Models are created for partition tables if <a class="reference internal" href="#cmdoption-inspectdb-include-partitions"><code>--include-partitions</code></a> is used.</li> </ul> <dl class="django-admin-option"> <dt id="cmdoption-inspectdb-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to introspect. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-inspectdb-include-partitions">
<code>--include-partitions</code> </dt> 
</dl> <p>If this option is provided, models are also created for partitions.</p> <p>Only support for PostgreSQL is implemented.</p> <dl class="django-admin-option"> <dt id="cmdoption-inspectdb-include-views">
<code>--include-views</code> </dt> 
</dl> <p>If this option is provided, models are also created for database views.</p>     <h3 id="loaddata"><code>loaddata</code></h3> <dl class="django-admin" id="s-loaddata"> <dt id="django-admin-loaddata">
<code>django-admin loaddata fixture [fixture ...]</code> </dt> 
</dl> <p>Searches for and loads the contents of the named fixture into the database.</p> <dl class="django-admin-option"> <dt id="cmdoption-loaddata-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database into which the data will be loaded. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-loaddata-ignorenonexistent">
<code>--ignorenonexistent, -i</code> </dt> 
</dl> <p>Ignores fields and models that may have been removed since the fixture was originally generated.</p> <dl class="django-admin-option"> <dt id="cmdoption-loaddata-app">
<code>--app APP_LABEL</code> </dt> 
</dl> <p>Specifies a single app to look for fixtures in rather than looking in all apps.</p> <dl class="django-admin-option"> <dt id="cmdoption-loaddata-format">
<code>--format FORMAT</code> </dt> 
</dl> <p>Specifies the <a class="reference internal" href="../topics/serialization#serialization-formats"><span class="std std-ref">serialization format</span></a> (e.g., <code>json</code> or <code>xml</code>) for fixtures <a class="reference internal" href="#loading-fixtures-stdin"><span class="std std-ref">read from stdin</span></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-loaddata-exclude">
<code>--exclude EXCLUDE, -e EXCLUDE</code> </dt> 
</dl> <p>Excludes loading the fixtures from the given applications and/or models (in the form of <code>app_label</code> or <code>app_label.ModelName</code>). Use the option multiple times to exclude more than one app or model.</p>  <h4 id="what-s-a-fixture">What’s a “fixture”?</h4> <p id="s-what-s-a-fixture">A <em>fixture</em> is a collection of files that contain the serialized contents of the database. Each fixture has a unique name, and the files that comprise the fixture can be distributed over multiple directories, in multiple applications.</p> <p>Django will search in three locations for fixtures:</p> <ol class="arabic simple"> <li>In the <code>fixtures</code> directory of every installed application</li> <li>In any directory named in the <a class="reference internal" href="settings#std:setting-FIXTURE_DIRS"><code>FIXTURE_DIRS</code></a> setting</li> <li>In the literal path named by the fixture</li> </ol> <p>Django will load any and all fixtures it finds in these locations that match the provided fixture names.</p> <p>If the named fixture has a file extension, only fixtures of that type will be loaded. For example:</p> <pre data-language="python">django-admin loaddata mydata.json
</pre> <p>would only load JSON fixtures called <code>mydata</code>. The fixture extension must correspond to the registered name of a <a class="reference internal" href="../topics/serialization#serialization-formats"><span class="std std-ref">serializer</span></a> (e.g., <code>json</code> or <code>xml</code>).</p> <p>If you omit the extensions, Django will search all available fixture types for a matching fixture. For example:</p> <pre data-language="python">django-admin loaddata mydata
</pre> <p>would look for any fixture of any fixture type called <code>mydata</code>. If a fixture directory contained <code>mydata.json</code>, that fixture would be loaded as a JSON fixture.</p> <p>The fixtures that are named can include directory components. These directories will be included in the search path. For example:</p> <pre data-language="python">django-admin loaddata foo/bar/mydata.json
</pre> <p>would search <code>&lt;app_label&gt;/fixtures/foo/bar/mydata.json</code> for each installed application, <code>&lt;dirname&gt;/foo/bar/mydata.json</code> for each directory in <a class="reference internal" href="settings#std:setting-FIXTURE_DIRS"><code>FIXTURE_DIRS</code></a>, and the literal path <code>foo/bar/mydata.json</code>.</p> <p>When fixture files are processed, the data is saved to the database as is. Model defined <a class="reference internal" href="models/instances#django.db.models.Model.save" title="django.db.models.Model.save"><code>save()</code></a> methods are not called, and any <a class="reference internal" href="signals#django.db.models.signals.pre_save" title="django.db.models.signals.pre_save"><code>pre_save</code></a> or <a class="reference internal" href="signals#django.db.models.signals.post_save" title="django.db.models.signals.post_save"><code>post_save</code></a> signals will be called with <code>raw=True</code> since the instance only contains attributes that are local to the model. You may, for example, want to disable handlers that access related fields that aren’t present during fixture loading and would otherwise raise an exception:</p> <pre data-language="python">from django.db.models.signals import post_save
from .models import MyModel

def my_handler(**kwargs):
    # disable the handler during fixture loading
    if kwargs['raw']:
        return
    ...

post_save.connect(my_handler, sender=MyModel)
</pre> <p>You could also write a decorator to encapsulate this logic:</p> <pre data-language="python">from functools import wraps

def disable_for_loaddata(signal_handler):
    """
    Decorator that turns off signal handlers when loading fixture data.
    """
    @wraps(signal_handler)
    def wrapper(*args, **kwargs):
        if kwargs['raw']:
            return
        signal_handler(*args, **kwargs)
    return wrapper

@disable_for_loaddata
def my_handler(**kwargs):
    ...
</pre> <p>Just be aware that this logic will disable the signals whenever fixtures are deserialized, not just during <code>loaddata</code>.</p> <p>Note that the order in which fixture files are processed is undefined. However, all fixture data is installed as a single transaction, so data in one fixture can reference data in another fixture. If the database backend supports row-level constraints, these constraints will be checked at the end of the transaction.</p> <p>The <a class="reference internal" href="#django-admin-dumpdata"><code>dumpdata</code></a> command can be used to generate input for <code>loaddata</code>.</p>   <h4 id="compressed-fixtures">Compressed fixtures</h4> <p id="s-compressed-fixtures">Fixtures may be compressed in <code>zip</code>, <code>gz</code>, <code>bz2</code>, <code>lzma</code>, or <code>xz</code> format. For example:</p> <pre data-language="python">django-admin loaddata mydata.json
</pre> <p>would look for any of <code>mydata.json</code>, <code>mydata.json.zip</code>, <code>mydata.json.gz</code>, <code>mydata.json.bz2</code>, <code>mydata.json.lzma</code>, or <code>mydata.json.xz</code>. The first file contained within a compressed archive is used.</p> <p>Note that if two fixtures with the same name but different fixture type are discovered (for example, if <code>mydata.json</code> and <code>mydata.xml.gz</code> were found in the same fixture directory), fixture installation will be aborted, and any data installed in the call to <code>loaddata</code> will be removed from the database.</p> <div class="admonition-mysql-with-myisam-and-fixtures admonition"> <p class="first admonition-title">MySQL with MyISAM and fixtures</p> <p class="last">The MyISAM storage engine of MySQL doesn’t support transactions or constraints, so if you use MyISAM, you won’t get validation of fixture data, or a rollback if multiple transaction files are found.</p> </div> <div class="versionchanged"> <span class="title">Changed in Django 3.2:</span> <p>Support for XZ archives (<code>.xz</code>) and LZMA archives (<code>.lzma</code>) was added.</p> </div>   <h4 id="database-specific-fixtures">Database-specific fixtures</h4> <p id="s-database-specific-fixtures">If you’re in a multi-database setup, you might have fixture data that you want to load onto one database, but not onto another. In this situation, you can add a database identifier into the names of your fixtures.</p> <p>For example, if your <a class="reference internal" href="settings#std:setting-DATABASES"><code>DATABASES</code></a> setting has a ‘master’ database defined, name the fixture <code>mydata.master.json</code> or <code>mydata.master.json.gz</code> and the fixture will only be loaded when you specify you want to load data into the <code>master</code> database.</p>   <h4 id="loading-fixtures-stdin">Loading fixtures from <code>stdin</code>
</h4> <p id="s-loading-fixtures-from-stdin">You can use a dash as the fixture name to load input from <code>sys.stdin</code>. For example:</p> <pre data-language="python">django-admin loaddata --format=json -
</pre> <p>When reading from <code>stdin</code>, the <a class="reference internal" href="#cmdoption-loaddata-format"><code>--format</code></a> option is required to specify the <a class="reference internal" href="../topics/serialization#serialization-formats"><span class="std std-ref">serialization format</span></a> of the input (e.g., <code>json</code> or <code>xml</code>).</p> <p>Loading from <code>stdin</code> is useful with standard input and output redirections. For example:</p> <pre data-language="python">django-admin dumpdata --format=json --database=test app_label.ModelName | django-admin loaddata --format=json --database=prod -
</pre>    <h3 id="makemessages"><code>makemessages</code></h3> <dl class="django-admin" id="s-makemessages"> <dt id="django-admin-makemessages">
<code>django-admin makemessages</code> </dt> 
</dl> <p>Runs over the entire source tree of the current directory and pulls out all strings marked for translation. It creates (or updates) a message file in the conf/locale (in the Django tree) or locale (for project and application) directory. After making changes to the messages files you need to compile them with <a class="reference internal" href="#django-admin-compilemessages"><code>compilemessages</code></a> for use with the builtin gettext support. See the <a class="reference internal" href="../topics/i18n/translation#how-to-create-language-files"><span class="std std-ref">i18n documentation</span></a> for details.</p> <p>This command doesn’t require configured settings. However, when settings aren’t configured, the command can’t ignore the <a class="reference internal" href="settings#std:setting-MEDIA_ROOT"><code>MEDIA_ROOT</code></a> and <a class="reference internal" href="settings#std:setting-STATIC_ROOT"><code>STATIC_ROOT</code></a> directories or include <a class="reference internal" href="settings#std:setting-LOCALE_PATHS"><code>LOCALE_PATHS</code></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-all">
<code>--all, -a</code> </dt> 
</dl> <p>Updates the message files for all available languages.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-extension">
<code>--extension EXTENSIONS, -e EXTENSIONS</code> </dt> 
</dl> <p>Specifies a list of file extensions to examine (default: <code>html</code>, <code>txt</code>, <code>py</code> or <code>js</code> if <a class="reference internal" href="#cmdoption-makemessages-domain"><code>--domain</code></a> is <code>js</code>).</p> <p>Example usage:</p> <pre data-language="python">django-admin makemessages --locale=de --extension xhtml
</pre> <p>Separate multiple extensions with commas or use <code>-e</code> or <code>--extension</code> multiple times:</p> <pre data-language="python">django-admin makemessages --locale=de --extension=html,txt --extension xml
</pre> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-locale">
<code>--locale LOCALE, -l LOCALE</code> </dt> 
</dl> <p>Specifies the locale(s) to process.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-exclude">
<code>--exclude EXCLUDE, -x EXCLUDE</code> </dt> 
</dl> <p>Specifies the locale(s) to exclude from processing. If not provided, no locales are excluded.</p> <p>Example usage:</p> <pre data-language="python">django-admin makemessages --locale=pt_BR
django-admin makemessages --locale=pt_BR --locale=fr
django-admin makemessages -l pt_BR
django-admin makemessages -l pt_BR -l fr
django-admin makemessages --exclude=pt_BR
django-admin makemessages --exclude=pt_BR --exclude=fr
django-admin makemessages -x pt_BR
django-admin makemessages -x pt_BR -x fr
</pre> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-domain">
<code>--domain DOMAIN, -d DOMAIN</code> </dt> 
</dl> <p>Specifies the domain of the messages files. Supported options are:</p> <ul class="simple"> <li>
<code>django</code> for all <code>*.py</code>, <code>*.html</code> and <code>*.txt</code> files (default)</li> <li>
<code>djangojs</code> for <code>*.js</code> files</li> </ul> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-symlinks">
<code>--symlinks, -s</code> </dt> 
</dl> <p>Follows symlinks to directories when looking for new translation strings.</p> <p>Example usage:</p> <pre data-language="python">django-admin makemessages --locale=de --symlinks
</pre> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-ignore">
<code>--ignore PATTERN, -i PATTERN</code> </dt> 
</dl> <p>Ignores files or directories matching the given <a class="reference external" href="https://docs.python.org/3/library/glob.html#module-glob" title="(in Python v3.10)"><code>glob</code></a>-style pattern. Use multiple times to ignore more.</p> <p>These patterns are used by default: <code>'CVS'</code>, <code>'.*'</code>, <code>'*~'</code>, <code>'*.pyc'</code>.</p> <p>Example usage:</p> <pre data-language="python">django-admin makemessages --locale=en_US --ignore=apps/* --ignore=secret/*.html
</pre> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-no-default-ignore">
<code>--no-default-ignore</code> </dt> 
</dl> <p>Disables the default values of <code>--ignore</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-no-wrap">
<code>--no-wrap</code> </dt> 
</dl> <p>Disables breaking long message lines into several lines in language files.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-no-location">
<code>--no-location</code> </dt> 
</dl> <p>Suppresses writing ‘<code>#: filename:line</code>’ comment lines in language files. Using this option makes it harder for technically skilled translators to understand each message’s context.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-add-location">
<code>--add-location [{full,file,never}]</code> </dt> 
</dl> <p>Controls <code>#: filename:line</code> comment lines in language files. If the option is:</p> <ul class="simple"> <li>
<code>full</code> (the default if not given): the lines include both file name and line number.</li> <li>
<code>file</code>: the line number is omitted.</li> <li>
<code>never</code>: the lines are suppressed (same as <a class="reference internal" href="#cmdoption-makemessages-no-location"><code>--no-location</code></a>).</li> </ul> <p>Requires <code>gettext</code> 0.19 or newer.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemessages-keep-pot">
<code>--keep-pot</code> </dt> 
</dl> <p>Prevents deleting the temporary <code>.pot</code> files generated before creating the <code>.po</code> file. This is useful for debugging errors which may prevent the final language files from being created.</p> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p class="last">See <a class="reference internal" href="../topics/i18n/translation#customizing-makemessages"><span class="std std-ref">Customizing the makemessages command</span></a> for instructions on how to customize the keywords that <a class="reference internal" href="#django-admin-makemessages"><code>makemessages</code></a> passes to <code>xgettext</code>.</p> </div>   <h3 id="makemigrations"><code>makemigrations</code></h3> <dl class="django-admin" id="s-makemigrations"> <dt id="django-admin-makemigrations">
<code>django-admin makemigrations [app_label [app_label ...]]</code> </dt> 
</dl> <p>Creates new migrations based on the changes detected to your models. Migrations, their relationship with apps and more are covered in depth in <a class="reference internal" href="../topics/migrations"><span class="doc">the migrations documentation</span></a>.</p> <p>Providing one or more app names as arguments will limit the migrations created to the app(s) specified and any dependencies needed (the table at the other end of a <code>ForeignKey</code>, for example).</p> <p>To add migrations to an app that doesn’t have a <code>migrations</code> directory, run <code>makemigrations</code> with the app’s <code>app_label</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts. If a suppressed prompt cannot be resolved automatically, the command will exit with error code 3.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-empty">
<code>--empty</code> </dt> 
</dl> <p>Outputs an empty migration for the specified apps, for manual editing. This is for advanced users and should not be used unless you are familiar with the migration format, migration operations, and the dependencies between your migrations.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-dry-run">
<code>--dry-run</code> </dt> 
</dl> <p>Shows what migrations would be made without actually writing any migrations files to disk. Using this option along with <code>--verbosity 3</code> will also show the complete migrations files that would be written.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-merge">
<code>--merge</code> </dt> 
</dl> <p>Enables fixing of migration conflicts.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-name">
<code>--name NAME, -n NAME</code> </dt> 
</dl> <p>Allows naming the generated migration(s) instead of using a generated name. The name must be a valid Python <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#identifiers" title="(in Python v3.10)"><span class="xref std std-ref">identifier</span></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-no-header">
<code>--no-header</code> </dt> 
</dl> <p>Generate migration files without Django version and timestamp header.</p> <dl class="django-admin-option"> <dt id="cmdoption-makemigrations-check">
<code>--check</code> </dt> 
</dl> <p>Makes <code>makemigrations</code> exit with a non-zero status when model changes without migrations are detected.</p> <div class="versionchanged"> <span class="title">Changed in Django 3.2:</span> <p>Support for calling <code>makemigrations</code> without an active database connection was added. In that case, check for a consistent migration history is skipped.</p> </div>   <h3 id="migrate"><code>migrate</code></h3> <dl class="django-admin" id="s-migrate"> <dt id="django-admin-migrate">
<code>django-admin migrate [app_label] [migration_name]</code> </dt> 
</dl> <p>Synchronizes the database state with the current set of models and migrations. Migrations, their relationship with apps and more are covered in depth in <a class="reference internal" href="../topics/migrations"><span class="doc">the migrations documentation</span></a>.</p> <p>The behavior of this command changes depending on the arguments provided:</p> <ul class="simple"> <li>No arguments: All apps have all of their migrations run.</li> <li>
<code>&lt;app_label&gt;</code>: The specified app has its migrations run, up to the most recent migration. This may involve running other apps’ migrations too, due to dependencies.</li> <li>
<code>&lt;app_label&gt; &lt;migrationname&gt;</code>: Brings the database schema to a state where the named migration is applied, but no later migrations in the same app are applied. This may involve unapplying migrations if you have previously migrated past the named migration. You can use a prefix of the migration name, e.g. <code>0001</code>, as long as it’s unique for the given app name. Use the name <code>zero</code> to migrate all the way back i.e. to revert all applied migrations for an app.</li> </ul> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">When unapplying migrations, all dependent migrations will also be unapplied, regardless of <code>&lt;app_label&gt;</code>. You can use <code>--plan</code> to check which migrations will be unapplied.</p> </div> <dl class="django-admin-option"> <dt id="cmdoption-migrate-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to migrate. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-migrate-fake">
<code>--fake</code> </dt> 
</dl> <p>Marks the migrations up to the target one (following the rules above) as applied, but without actually running the SQL to change your database schema.</p> <p>This is intended for advanced users to manipulate the current migration state directly if they’re manually applying changes; be warned that using <code>--fake</code> runs the risk of putting the migration state table into a state where manual recovery will be needed to make migrations run correctly.</p> <dl class="django-admin-option"> <dt id="cmdoption-migrate-fake-initial">
<code>--fake-initial</code> </dt> 
</dl> <p>Allows Django to skip an app’s initial migration if all database tables with the names of all models created by all <a class="reference internal" href="migration-operations#django.db.migrations.operations.CreateModel" title="django.db.migrations.operations.CreateModel"><code>CreateModel</code></a> operations in that migration already exist. This option is intended for use when first running migrations against a database that preexisted the use of migrations. This option does not, however, check for matching database schema beyond matching table names and so is only safe to use if you are confident that your existing schema matches what is recorded in your initial migration.</p> <dl class="django-admin-option"> <dt id="cmdoption-migrate-plan">
<code>--plan</code> </dt> 
</dl> <p>Shows the migration operations that will be performed for the given <code>migrate</code> command.</p> <dl class="django-admin-option"> <dt id="cmdoption-migrate-run-syncdb">
<code>--run-syncdb</code> </dt> 
</dl> <p>Allows creating tables for apps without migrations. While this isn’t recommended, the migrations framework is sometimes too slow on large projects with hundreds of models.</p> <dl class="django-admin-option"> <dt id="cmdoption-migrate-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts. An example prompt is asking about removing stale content types.</p> <dl class="django-admin-option"> <dt id="cmdoption-migrate-check">
<code>--check</code> </dt> 
</dl> <p>Makes <code>migrate</code> exit with a non-zero status when unapplied migrations are detected.</p>   <h3 id="runserver"><code>runserver</code></h3> <dl class="django-admin" id="s-runserver"> <dt id="django-admin-runserver">
<code>django-admin runserver [addrport]</code> </dt> 
</dl> <p>Starts a lightweight development web server on the local machine. By default, the server runs on port 8000 on the IP address <code>127.0.0.1</code>. You can pass in an IP address and port number explicitly.</p> <p>If you run this script as a user with normal privileges (recommended), you might not have access to start a port on a low port number. Low port numbers are reserved for the superuser (root).</p> <p>This server uses the WSGI application object specified by the <a class="reference internal" href="settings#std:setting-WSGI_APPLICATION"><code>WSGI_APPLICATION</code></a> setting.</p> <p>DO NOT USE THIS SERVER IN A PRODUCTION SETTING. It has not gone through security audits or performance tests. (And that’s how it’s gonna stay. We’re in the business of making web frameworks, not web servers, so improving this server to be able to handle a production environment is outside the scope of Django.)</p> <p>The development server automatically reloads Python code for each request, as needed. You don’t need to restart the server for code changes to take effect. However, some actions like adding files don’t trigger a restart, so you’ll have to restart the server in these cases.</p> <p>If you’re using Linux or MacOS and install both <a class="reference external" href="https://pypi.org/project/pywatchman/">pywatchman</a> and the <a class="reference external" href="https://facebook.github.io/watchman/">Watchman</a> service, kernel signals will be used to autoreload the server (rather than polling file modification timestamps each second). This offers better performance on large projects, reduced response time after code changes, more robust change detection, and a reduction in power usage. Django supports <code>pywatchman</code> 1.2.0 and higher.</p> <div class="admonition-large-directories-with-many-files-may-cause-performance-issues admonition"> <p class="first admonition-title">Large directories with many files may cause performance issues</p> <p class="last">When using Watchman with a project that includes large non-Python directories like <code>node_modules</code>, it’s advisable to ignore this directory for optimal performance. See the <a class="reference external" href="https://facebook.github.io/watchman/docs/config#ignore_dirs">watchman documentation</a> for information on how to do this.</p> </div> <div class="admonition-watchman-timeout admonition"> <p class="first admonition-title">Watchman timeout</p> <dl class="envvar"> <dt id="envvar-DJANGO_WATCHMAN_TIMEOUT">
<code>DJANGO_WATCHMAN_TIMEOUT</code> </dt> 
</dl> <p class="last">The default timeout of <code>Watchman</code> client is 5 seconds. You can change it by setting the <a class="reference internal" href="#envvar-DJANGO_WATCHMAN_TIMEOUT" id="index-4"><code>DJANGO_WATCHMAN_TIMEOUT</code></a> environment variable.</p> </div> <p>When you start the server, and each time you change Python code while the server is running, the system check framework will check your entire Django project for some common errors (see the <a class="reference internal" href="#django-admin-check"><code>check</code></a> command). If any errors are found, they will be printed to standard output. You can use the <code>--skip-checks</code> option to skip running system checks.</p> <p>You can run as many concurrent servers as you want, as long as they’re on separate ports by executing <code>django-admin runserver</code> more than once.</p> <p>Note that the default IP address, <code>127.0.0.1</code>, is not accessible from other machines on your network. To make your development server viewable to other machines on the network, use its own IP address (e.g. <code>192.168.2.1</code>) or <code>0.0.0.0</code> or <code>::</code> (with IPv6 enabled).</p> <p>You can provide an IPv6 address surrounded by brackets (e.g. <code>[200a::1]:8000</code>). This will automatically enable IPv6 support.</p> <p>A hostname containing ASCII-only characters can also be used.</p> <p>If the <a class="reference internal" href="contrib/staticfiles"><span class="doc">staticfiles</span></a> contrib app is enabled (default in new projects) the <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a> command will be overridden with its own <a class="reference internal" href="contrib/staticfiles#staticfiles-runserver"><span class="std std-ref">runserver</span></a> command.</p> <p>Logging of each request and response of the server is sent to the <a class="reference internal" href="logging#django-server-logger"><span class="std std-ref">django.server</span></a> logger.</p> <dl class="django-admin-option"> <dt id="cmdoption-runserver-noreload">
<code>--noreload</code> </dt> 
</dl> <p>Disables the auto-reloader. This means any Python code changes you make while the server is running will <em>not</em> take effect if the particular Python modules have already been loaded into memory.</p> <dl class="django-admin-option"> <dt id="cmdoption-runserver-nothreading">
<code>--nothreading</code> </dt> 
</dl> <p>Disables use of threading in the development server. The server is multithreaded by default.</p> <dl class="django-admin-option"> <dt id="cmdoption-runserver-ipv6">
<code>--ipv6, -6</code> </dt> 
</dl> <p>Uses IPv6 for the development server. This changes the default IP address from <code>127.0.0.1</code> to <code>::1</code>.</p> <div class="versionchanged"> <span class="title">Changed in Django 4.0:</span> <p>Support for the <code>--skip-checks</code> option was added.</p> </div>  <h4 id="examples-of-using-different-ports-and-addresses">Examples of using different ports and addresses</h4> <p id="s-examples-of-using-different-ports-and-addresses">Port 8000 on IP address <code>127.0.0.1</code>:</p> <pre data-language="python">django-admin runserver
</pre> <p>Port 8000 on IP address <code>1.2.3.4</code>:</p> <pre data-language="python">django-admin runserver 1.2.3.4:8000
</pre> <p>Port 7000 on IP address <code>127.0.0.1</code>:</p> <pre data-language="python">django-admin runserver 7000
</pre> <p>Port 7000 on IP address <code>1.2.3.4</code>:</p> <pre data-language="python">django-admin runserver 1.2.3.4:7000
</pre> <p>Port 8000 on IPv6 address <code>::1</code>:</p> <pre data-language="python">django-admin runserver -6
</pre> <p>Port 7000 on IPv6 address <code>::1</code>:</p> <pre data-language="python">django-admin runserver -6 7000
</pre> <p>Port 7000 on IPv6 address <code>2001:0db8:1234:5678::9</code>:</p> <pre data-language="python">django-admin runserver [2001:0db8:1234:5678::9]:7000
</pre> <p>Port 8000 on IPv4 address of host <code>localhost</code>:</p> <pre data-language="python">django-admin runserver localhost:8000
</pre> <p>Port 8000 on IPv6 address of host <code>localhost</code>:</p> <pre data-language="python">django-admin runserver -6 localhost:8000
</pre>   <h4 id="serving-static-files-with-the-development-server">Serving static files with the development server</h4> <p id="s-serving-static-files-with-the-development-server">By default, the development server doesn’t serve any static files for your site (such as CSS files, images, things under <a class="reference internal" href="settings#std:setting-MEDIA_URL"><code>MEDIA_URL</code></a> and so forth). If you want to configure Django to serve static media, read <a class="reference internal" href="../howto/static-files/index"><span class="doc">How to manage static files (e.g. images, JavaScript, CSS)</span></a>.</p>    <h3 id="sendtestemail"><code>sendtestemail</code></h3> <dl class="django-admin" id="s-sendtestemail"> <dt id="django-admin-sendtestemail">
<code>django-admin sendtestemail [email [email ...]]</code> </dt> 
</dl> <p>Sends a test email (to confirm email sending through Django is working) to the recipient(s) specified. For example:</p> <pre data-language="python">django-admin sendtestemail foo@example.com bar@example.com
</pre> <p>There are a couple of options, and you may use any combination of them together:</p> <dl class="django-admin-option"> <dt id="cmdoption-sendtestemail-managers">
<code>--managers</code> </dt> 
</dl> <p>Mails the email addresses specified in <a class="reference internal" href="settings#std:setting-MANAGERS"><code>MANAGERS</code></a> using <a class="reference internal" href="../topics/email#django.core.mail.mail_managers" title="django.core.mail.mail_managers"><code>mail_managers()</code></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-sendtestemail-admins">
<code>--admins</code> </dt> 
</dl> <p>Mails the email addresses specified in <a class="reference internal" href="settings#std:setting-ADMINS"><code>ADMINS</code></a> using <a class="reference internal" href="../topics/email#django.core.mail.mail_admins" title="django.core.mail.mail_admins"><code>mail_admins()</code></a>.</p>   <h3 id="shell"><code>shell</code></h3> <dl class="django-admin" id="s-shell"> <dt id="django-admin-shell">
<code>django-admin shell</code> </dt> 
</dl> <p>Starts the Python interactive interpreter.</p> <dl class="django-admin-option"> <dt id="cmdoption-shell-interface">
<code>--interface {ipython,bpython,python}, -i {ipython,bpython,python}</code> </dt> 
</dl> <p>Specifies the shell to use. By default, Django will use <a class="reference external" href="https://ipython.org/">IPython</a> or <a class="reference external" href="https://bpython-interpreter.org/">bpython</a> if either is installed. If both are installed, specify which one you want like so:</p> <p>IPython:</p> <pre data-language="python">django-admin shell -i ipython
</pre> <p>bpython:</p> <pre data-language="python">django-admin shell -i bpython
</pre> <p>If you have a “rich” shell installed but want to force use of the “plain” Python interpreter, use <code>python</code> as the interface name, like so:</p> <pre data-language="python">django-admin shell -i python
</pre> <dl class="django-admin-option"> <dt id="cmdoption-shell-nostartup">
<code>--nostartup</code> </dt> 
</dl> <p>Disables reading the startup script for the “plain” Python interpreter. By default, the script pointed to by the <a class="reference external" href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONSTARTUP" title="(in Python v3.10)" id="index-5"><code>PYTHONSTARTUP</code></a> environment variable or the <code>~/.pythonrc.py</code> script is read.</p> <dl class="django-admin-option"> <dt id="cmdoption-shell-command">
<code>--command COMMAND, -c COMMAND</code> </dt> 
</dl> <p>Lets you pass a command as a string to execute it as Django, like so:</p> <pre data-language="python">django-admin shell --command="import django; print(django.__version__)"
</pre> <p>You can also pass code in on standard input to execute it. For example:</p> <pre data-language="console">$ django-admin shell &lt;&lt;EOF
&gt; import django
&gt; print(django.__version__)
&gt; EOF
</pre> <p>On Windows, the REPL is output due to implementation limits of <a class="reference external" href="https://docs.python.org/3/library/select.html#select.select" title="(in Python v3.10)"><code>select.select()</code></a> on that platform.</p>   <h3 id="showmigrations"><code>showmigrations</code></h3> <dl class="django-admin" id="s-showmigrations"> <dt id="django-admin-showmigrations">
<code>django-admin showmigrations [app_label [app_label ...]]</code> </dt> 
</dl> <p>Shows all migrations in a project. You can choose from one of two formats:</p> <dl class="django-admin-option"> <dt id="cmdoption-showmigrations-list">
<code>--list, -l</code> </dt> 
</dl> <p>Lists all of the apps Django knows about, the migrations available for each app, and whether or not each migration is applied (marked by an <code>[X]</code> next to the migration name). For a <code>--verbosity</code> of 2 and above, the applied datetimes are also shown.</p> <p>Apps without migrations are also listed, but have <code>(no migrations)</code> printed under them.</p> <p>This is the default output format.</p> <dl class="django-admin-option"> <dt id="cmdoption-showmigrations-plan">
<code>--plan, -p</code> </dt> 
</dl> <p>Shows the migration plan Django will follow to apply migrations. Like <code>--list</code>, applied migrations are marked by an <code>[X]</code>. For a <code>--verbosity</code> of 2 and above, all dependencies of a migration will also be shown.</p> <p><code>app_label</code>s arguments limit the output, however, dependencies of provided apps may also be included.</p> <dl class="django-admin-option"> <dt id="cmdoption-showmigrations-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to examine. Defaults to <code>default</code>.</p>   <h3 id="sqlflush"><code>sqlflush</code></h3> <dl class="django-admin" id="s-sqlflush"> <dt id="django-admin-sqlflush">
<code>django-admin sqlflush</code> </dt> 
</dl> <p>Prints the SQL statements that would be executed for the <a class="reference internal" href="#django-admin-flush"><code>flush</code></a> command.</p> <dl class="django-admin-option"> <dt id="cmdoption-sqlflush-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database for which to print the SQL. Defaults to <code>default</code>.</p>   <h3 id="sqlmigrate"><code>sqlmigrate</code></h3> <dl class="django-admin" id="s-sqlmigrate"> <dt id="django-admin-sqlmigrate">
<code>django-admin sqlmigrate app_label migration_name</code> </dt> 
</dl> <p>Prints the SQL for the named migration. This requires an active database connection, which it will use to resolve constraint names; this means you must generate the SQL against a copy of the database you wish to later apply it on.</p> <p>Note that <code>sqlmigrate</code> doesn’t colorize its output.</p> <dl class="django-admin-option"> <dt id="cmdoption-sqlmigrate-backwards">
<code>--backwards</code> </dt> 
</dl> <p>Generates the SQL for unapplying the migration. By default, the SQL created is for running the migration in the forwards direction.</p> <dl class="django-admin-option"> <dt id="cmdoption-sqlmigrate-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database for which to generate the SQL. Defaults to <code>default</code>.</p>   <h3 id="sqlsequencereset"><code>sqlsequencereset</code></h3> <dl class="django-admin" id="s-sqlsequencereset"> <dt id="django-admin-sqlsequencereset">
<code>django-admin sqlsequencereset app_label [app_label ...]</code> </dt> 
</dl> <p>Prints the SQL statements for resetting sequences for the given app name(s).</p> <p>Sequences are indexes used by some database engines to track the next available number for automatically incremented fields.</p> <p>Use this command to generate SQL which will fix cases where a sequence is out of sync with its automatically incremented field data.</p> <dl class="django-admin-option"> <dt id="cmdoption-sqlsequencereset-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database for which to print the SQL. Defaults to <code>default</code>.</p>   <h3 id="squashmigrations"><code>squashmigrations</code></h3> <dl class="django-admin" id="s-squashmigrations"> <dt id="django-admin-squashmigrations">
<code>django-admin squashmigrations app_label [start_migration_name] migration_name</code> </dt> 
</dl> <p>Squashes the migrations for <code>app_label</code> up to and including <code>migration_name</code> down into fewer migrations, if possible. The resulting squashed migrations can live alongside the unsquashed ones safely. For more information, please read <a class="reference internal" href="../topics/migrations#migration-squashing"><span class="std std-ref">Squashing migrations</span></a>.</p> <p>When <code>start_migration_name</code> is given, Django will only include migrations starting from and including this migration. This helps to mitigate the squashing limitation of <a class="reference internal" href="migration-operations#django.db.migrations.operations.RunPython" title="django.db.migrations.operations.RunPython"><code>RunPython</code></a> and <a class="reference internal" href="migration-operations#django.db.migrations.operations.RunSQL" title="django.db.migrations.operations.RunSQL"><code>django.db.migrations.operations.RunSQL</code></a> migration operations.</p> <dl class="django-admin-option"> <dt id="cmdoption-squashmigrations-no-optimize">
<code>--no-optimize</code> </dt> 
</dl> <p>Disables the optimizer when generating a squashed migration. By default, Django will try to optimize the operations in your migrations to reduce the size of the resulting file. Use this option if this process is failing or creating incorrect migrations, though please also file a Django bug report about the behavior, as optimization is meant to be safe.</p> <dl class="django-admin-option"> <dt id="cmdoption-squashmigrations-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts.</p> <dl class="django-admin-option"> <dt id="cmdoption-squashmigrations-squashed-name">
<code>--squashed-name SQUASHED_NAME</code> </dt> 
</dl> <p>Sets the name of the squashed migration. When omitted, the name is based on the first and last migration, with <code>_squashed_</code> in between.</p> <dl class="django-admin-option"> <dt id="cmdoption-squashmigrations-no-header">
<code>--no-header</code> </dt> 
</dl> <p>Generate squashed migration file without Django version and timestamp header.</p>   <h3 id="startapp"><code>startapp</code></h3> <dl class="django-admin" id="s-startapp"> <dt id="django-admin-startapp">
<code>django-admin startapp name [directory]</code> </dt> 
</dl> <p>Creates a Django app directory structure for the given app name in the current directory or the given destination.</p> <p>By default, <a class="reference external" href="https://github.com/django/django/blob/main/django/conf/app_template">the new directory</a> contains a <code>models.py</code> file and other app template files. If only the app name is given, the app directory will be created in the current working directory.</p> <p>If the optional destination is provided, Django will use that existing directory rather than creating a new one. You can use ‘.’ to denote the current working directory.</p> <p>For example:</p> <pre data-language="python">django-admin startapp myapp /Users/jezdez/Code/myapp
</pre> <dl class="django-admin-option" id="custom-app-and-project-templates"> <dt id="cmdoption-startapp-template">
<code>--template TEMPLATE</code> </dt> 
</dl> <p>Provides the path to a directory with a custom app template file, or a path to an uncompressed archive (<code>.tar</code>) or a compressed archive (<code>.tar.gz</code>, <code>.tar.bz2</code>, <code>.tar.xz</code>, <code>.tar.lzma</code>, <code>.tgz</code>, <code>.tbz2</code>, <code>.txz</code>, <code>.tlz</code>, <code>.zip</code>) containing the app template files.</p> <p>For example, this would look for an app template in the given directory when creating the <code>myapp</code> app:</p> <pre data-language="python">django-admin startapp --template=/Users/jezdez/Code/my_app_template myapp
</pre> <p>Django will also accept URLs (<code>http</code>, <code>https</code>, <code>ftp</code>) to compressed archives with the app template files, downloading and extracting them on the fly.</p> <p>For example, taking advantage of GitHub’s feature to expose repositories as zip files, you can use a URL like:</p> <pre data-language="python">django-admin startapp --template=https://github.com/githubuser/django-app-template/archive/master.zip myapp
</pre> <dl class="django-admin-option"> <dt id="cmdoption-startapp-extension">
<code>--extension EXTENSIONS, -e EXTENSIONS</code> </dt> 
</dl> <p>Specifies which file extensions in the app template should be rendered with the template engine. Defaults to <code>py</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-startapp-name">
<code>--name FILES, -n FILES</code> </dt> 
</dl> <p>Specifies which files in the app template (in addition to those matching <code>--extension</code>) should be rendered with the template engine. Defaults to an empty list.</p> <dl class="django-admin-option"> <dt id="cmdoption-startapp-exclude">
<code>--exclude DIRECTORIES, -x DIRECTORIES</code> </dt> 
</dl> <div class="versionadded"> <span class="title">New in Django 4.0.</span> </div> <p>Specifies which directories in the app template should be excluded, in addition to <code>.git</code> and <code>__pycache__</code>. If this option is not provided, directories named <code>__pycache__</code> or starting with <code>.</code> will be excluded.</p> <p>The <a class="reference internal" href="templates/api#django.template.Context" title="django.template.Context"><code>template context</code></a> used for all matching files is:</p> <ul class="simple"> <li>Any option passed to the <code>startapp</code> command (among the command’s supported options)</li> <li>
<code>app_name</code> – the app name as passed to the command</li> <li>
<code>app_directory</code> – the full path of the newly created app</li> <li>
<code>camel_case_app_name</code> – the app name in camel case format</li> <li>
<code>docs_version</code> – the version of the documentation: <code>'dev'</code> or <code>'1.x'</code>
</li> <li>
<code>django_version</code> – the version of Django, e.g. <code>'2.0.3'</code>
</li> </ul> <div class="admonition warning" id="render-warning"> <p class="first admonition-title">Warning</p> <p>When the app template files are rendered with the Django template engine (by default all <code>*.py</code> files), Django will also replace all stray template variables contained. For example, if one of the Python files contains a docstring explaining a particular feature related to template rendering, it might result in an incorrect example.</p> <p>To work around this problem, you can use the <a class="reference internal" href="templates/builtins#std:templatetag-templatetag"><code>templatetag</code></a> template tag to “escape” the various parts of the template syntax.</p> <p class="last">In addition, to allow Python template files that contain Django template language syntax while also preventing packaging systems from trying to byte-compile invalid <code>*.py</code> files, template files ending with <code>.py-tpl</code> will be renamed to <code>.py</code>.</p> </div>   <h3 id="startproject"><code>startproject</code></h3> <dl class="django-admin" id="s-startproject"> <dt id="django-admin-startproject">
<code>django-admin startproject name [directory]</code> </dt> 
</dl> <p>Creates a Django project directory structure for the given project name in the current directory or the given destination.</p> <p>By default, <a class="reference external" href="https://github.com/django/django/blob/main/django/conf/project_template">the new directory</a> contains <code>manage.py</code> and a project package (containing a <code>settings.py</code> and other files).</p> <p>If only the project name is given, both the project directory and project package will be named <code>&lt;projectname&gt;</code> and the project directory will be created in the current working directory.</p> <p>If the optional destination is provided, Django will use that existing directory as the project directory, and create <code>manage.py</code> and the project package within it. Use ‘.’ to denote the current working directory.</p> <p>For example:</p> <pre data-language="python">django-admin startproject myproject /Users/jezdez/Code/myproject_repo
</pre> <dl class="django-admin-option"> <dt id="cmdoption-startproject-template">
<code>--template TEMPLATE</code> </dt> 
</dl> <p>Specifies a directory, file path, or URL of a custom project template. See the <a class="reference internal" href="#cmdoption-startapp-template"><code>startapp --template</code></a> documentation for examples and usage.</p> <dl class="django-admin-option"> <dt id="cmdoption-startproject-extension">
<code>--extension EXTENSIONS, -e EXTENSIONS</code> </dt> 
</dl> <p>Specifies which file extensions in the project template should be rendered with the template engine. Defaults to <code>py</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-startproject-name">
<code>--name FILES, -n FILES</code> </dt> 
</dl> <p>Specifies which files in the project template (in addition to those matching <code>--extension</code>) should be rendered with the template engine. Defaults to an empty list.</p> <dl class="django-admin-option"> <dt id="cmdoption-startproject-exclude">
<code>--exclude DIRECTORIES, -x DIRECTORIES</code> </dt> 
</dl> <div class="versionadded"> <span class="title">New in Django 4.0.</span> </div> <p>Specifies which directories in the project template should be excluded, in addition to <code>.git</code> and <code>__pycache__</code>. If this option is not provided, directories named <code>__pycache__</code> or starting with <code>.</code> will be excluded.</p> <p>The <a class="reference internal" href="templates/api#django.template.Context" title="django.template.Context"><code>template context</code></a> used is:</p> <ul class="simple"> <li>Any option passed to the <code>startproject</code> command (among the command’s supported options)</li> <li>
<code>project_name</code> – the project name as passed to the command</li> <li>
<code>project_directory</code> – the full path of the newly created project</li> <li>
<code>secret_key</code> – a random key for the <a class="reference internal" href="settings#std:setting-SECRET_KEY"><code>SECRET_KEY</code></a> setting</li> <li>
<code>docs_version</code> – the version of the documentation: <code>'dev'</code> or <code>'1.x'</code>
</li> <li>
<code>django_version</code> – the version of Django, e.g. <code>'2.0.3'</code>
</li> </ul> <p>Please also see the <a class="reference internal" href="#render-warning"><span class="std std-ref">rendering warning</span></a> as mentioned for <a class="reference internal" href="#django-admin-startapp"><code>startapp</code></a>.</p>   <h3 id="test"><code>test</code></h3> <dl class="django-admin" id="s-test"> <dt id="django-admin-test">
<code>django-admin test [test_label [test_label ...]]</code> </dt> 
</dl> <p>Runs tests for all installed apps. See <a class="reference internal" href="../topics/testing/index"><span class="doc">Testing in Django</span></a> for more information.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-failfast">
<code>--failfast</code> </dt> 
</dl> <p>Stops running tests and reports the failure immediately after a test fails.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-testrunner">
<code>--testrunner TESTRUNNER</code> </dt> 
</dl> <p>Controls the test runner class that is used to execute tests. This value overrides the value provided by the <a class="reference internal" href="settings#std:setting-TEST_RUNNER"><code>TEST_RUNNER</code></a> setting.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts. A typical prompt is a warning about deleting an existing test database.</p>  <h4 id="test-runner-options">Test runner options</h4> <p id="s-test-runner-options">The <code>test</code> command receives options on behalf of the specified <a class="reference internal" href="#cmdoption-test-testrunner"><code>--testrunner</code></a>. These are the options of the default test runner: <a class="reference internal" href="../topics/testing/advanced#django.test.runner.DiscoverRunner" title="django.test.runner.DiscoverRunner"><code>DiscoverRunner</code></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-keepdb">
<code>--keepdb</code> </dt> 
</dl> <p>Preserves the test database between test runs. This has the advantage of skipping both the create and destroy actions which can greatly decrease the time to run tests, especially those in a large test suite. If the test database does not exist, it will be created on the first run and then preserved for each subsequent run. Unless the <a class="reference internal" href="settings#std:setting-TEST_MIGRATE"><code>MIGRATE</code></a> test setting is <code>False</code>, any unapplied migrations will also be applied to the test database before running the test suite.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-shuffle">
<code>--shuffle [SEED]</code> </dt> 
</dl> <div class="versionadded"> <span class="title">New in Django 4.0.</span> </div> <p>Randomizes the order of tests before running them. This can help detect tests that aren’t properly isolated. The test order generated by this option is a deterministic function of the integer seed given. When no seed is passed, a seed is chosen randomly and printed to the console. To repeat a particular test order, pass a seed. The test orders generated by this option preserve Django’s <a class="reference internal" href="../topics/testing/overview#order-of-tests"><span class="std std-ref">guarantees on test order</span></a>. They also keep tests grouped by test case class.</p> <p>The shuffled orderings also have a special consistency property useful when narrowing down isolation issues. Namely, for a given seed and when running a subset of tests, the new order will be the original shuffling restricted to the smaller set. Similarly, when adding tests while keeping the seed the same, the order of the original tests will be the same in the new order.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-reverse">
<code>--reverse, -r</code> </dt> 
</dl> <p>Sorts test cases in the opposite execution order. This may help in debugging the side effects of tests that aren’t properly isolated. <a class="reference internal" href="../topics/testing/overview#order-of-tests"><span class="std std-ref">Grouping by test class</span></a> is preserved when using this option. This can be used in conjunction with <code>--shuffle</code> to reverse the order for a particular seed.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-debug-mode">
<code>--debug-mode</code> </dt> 
</dl> <p>Sets the <a class="reference internal" href="settings#std:setting-DEBUG"><code>DEBUG</code></a> setting to <code>True</code> prior to running tests. This may help troubleshoot test failures.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-debug-sql">
<code>--debug-sql, -d</code> </dt> 
</dl> <p>Enables <a class="reference internal" href="logging#django-db-logger"><span class="std std-ref">SQL logging</span></a> for failing tests. If <code>--verbosity</code> is <code>2</code>, then queries in passing tests are also output.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-parallel">
<code>--parallel [N]</code> </dt> 
</dl> <dl class="envvar"> <dt id="envvar-DJANGO_TEST_PROCESSES">
<code>DJANGO_TEST_PROCESSES</code> </dt> 
</dl> <p>Runs tests in separate parallel processes. Since modern processors have multiple cores, this allows running tests significantly faster.</p> <p>Using <code>--parallel</code> without a value, or with the value <code>auto</code>, runs one test process per core according to <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count" title="(in Python v3.10)"><code>multiprocessing.cpu_count()</code></a>. You can override this by passing the desired number of processes, e.g. <code>--parallel 4</code>, or by setting the <a class="reference internal" href="#envvar-DJANGO_TEST_PROCESSES" id="index-6"><code>DJANGO_TEST_PROCESSES</code></a> environment variable.</p> <p>Django distributes test cases — <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.10)"><code>unittest.TestCase</code></a> subclasses — to subprocesses. If there are fewer test cases than configured processes, Django will reduce the number of processes accordingly.</p> <p>Each process gets its own database. You must ensure that different test cases don’t access the same resources. For instance, test cases that touch the filesystem should create a temporary directory for their own use.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If you have test classes that cannot be run in parallel, you can use <code>SerializeMixin</code> to run them sequentially. See <a class="reference internal" href="../topics/testing/advanced#topics-testing-enforce-run-sequentially"><span class="std std-ref">Enforce running test classes sequentially</span></a>.</p> </div> <p>This option requires the third-party <code>tblib</code> package to display tracebacks correctly:</p> <pre data-language="console">$ python -m pip install tblib
</pre> <p>This feature isn’t available on Windows. It doesn’t work with the Oracle database backend either.</p> <p>If you want to use <a class="reference external" href="https://docs.python.org/3/library/pdb.html#module-pdb" title="(in Python v3.10)"><code>pdb</code></a> while debugging tests, you must disable parallel execution (<code>--parallel=1</code>). You’ll see something like <code>bdb.BdbQuit</code> if you don’t.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p>When test parallelization is enabled and a test fails, Django may be unable to display the exception traceback. This can make debugging difficult. If you encounter this problem, run the affected test without parallelization to see the traceback of the failure.</p> <p class="last">This is a known limitation. It arises from the need to serialize objects in order to exchange them between processes. See <a class="reference external" href="https://docs.python.org/3/library/pickle.html#pickle-picklable" title="(in Python v3.10)"><span>What can be pickled and unpickled?</span></a> for details.</p> </div> <div class="versionchanged"> <span class="title">Changed in Django 4.0:</span> <p>Support for the value <code>auto</code> was added.</p> </div> <dl class="option"> <dt id="cmdoption-test-tag">
<code>--tag TAGS</code> </dt> 
</dl> <p>Runs only tests <a class="reference internal" href="../topics/testing/tools#topics-tagging-tests"><span class="std std-ref">marked with the specified tags</span></a>. May be specified multiple times and combined with <a class="reference internal" href="#cmdoption-test-exclude-tag"><code>test --exclude-tag</code></a>.</p> <p>Tests that fail to load are always considered matching.</p> <div class="versionchanged"> <span class="title">Changed in Django 4.0:</span> <p>In older versions, tests that failed to load did not match tags.</p> </div> <dl class="option"> <dt id="cmdoption-test-exclude-tag">
<code>--exclude-tag EXCLUDE_TAGS</code> </dt> 
</dl> <p>Excludes tests <a class="reference internal" href="../topics/testing/tools#topics-tagging-tests"><span class="std std-ref">marked with the specified tags</span></a>. May be specified multiple times and combined with <a class="reference internal" href="#cmdoption-test-tag"><code>test --tag</code></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-k">
<code>-k TEST_NAME_PATTERNS</code> </dt> 
</dl> <p>Runs test methods and classes matching test name patterns, in the same way as <a class="reference external" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-k" title="(in Python v3.10)"><code>unittest's -k option</code></a>. Can be specified multiple times.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-pdb">
<code>--pdb</code> </dt> 
</dl> <p>Spawns a <code>pdb</code> debugger at each test error or failure. If you have it installed, <code>ipdb</code> is used instead.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-buffer">
<code>--buffer, -b</code> </dt> 
</dl> <p>Discards output (<code>stdout</code> and <code>stderr</code>) for passing tests, in the same way as <a class="reference external" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-b" title="(in Python v3.10)"><code>unittest's --buffer option</code></a>.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-no-faulthandler">
<code>--no-faulthandler</code> </dt> 
</dl> <div class="versionadded"> <span class="title">New in Django 3.2.</span> </div> <p>Django automatically calls <a class="reference external" href="https://docs.python.org/3/library/faulthandler.html#faulthandler.enable" title="(in Python v3.10)"><code>faulthandler.enable()</code></a> when starting the tests, which allows it to print a traceback if the interpreter crashes. Pass <code>--no-faulthandler</code> to disable this behavior.</p> <dl class="django-admin-option"> <dt id="cmdoption-test-timing">
<code>--timing</code> </dt> 
</dl> <div class="versionadded"> <span class="title">New in Django 3.2.</span> </div> <p>Outputs timings, including database setup and total run time.</p>    <h3 id="testserver"><code>testserver</code></h3> <dl class="django-admin" id="s-testserver"> <dt id="django-admin-testserver">
<code>django-admin testserver [fixture [fixture ...]]</code> </dt> 
</dl> <p>Runs a Django development server (as in <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a>) using data from the given fixture(s).</p> <p>For example, this command:</p> <pre data-language="python">django-admin testserver mydata.json
</pre> <p>…would perform the following steps:</p> <ol class="arabic simple"> <li>Create a test database, as described in <a class="reference internal" href="../topics/testing/overview#the-test-database"><span class="std std-ref">The test database</span></a>.</li> <li>Populate the test database with fixture data from the given fixtures. (For more on fixtures, see the documentation for <a class="reference internal" href="#django-admin-loaddata"><code>loaddata</code></a> above.)</li> <li>Runs the Django development server (as in <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a>), pointed at this newly created test database instead of your production database.</li> </ol> <p>This is useful in a number of ways:</p> <ul class="simple"> <li>When you’re writing <a class="reference internal" href="../topics/testing/overview"><span class="doc">unit tests</span></a> of how your views act with certain fixture data, you can use <code>testserver</code> to interact with the views in a web browser, manually.</li> <li>Let’s say you’re developing your Django application and have a “pristine” copy of a database that you’d like to interact with. You can dump your database to a fixture (using the <a class="reference internal" href="#django-admin-dumpdata"><code>dumpdata</code></a> command, explained above), then use <code>testserver</code> to run your web application with that data. With this arrangement, you have the flexibility of messing up your data in any way, knowing that whatever data changes you’re making are only being made to a test database.</li> </ul> <p>Note that this server does <em>not</em> automatically detect changes to your Python source code (as <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a> does). It does, however, detect changes to templates.</p> <dl class="django-admin-option"> <dt id="cmdoption-testserver-addrport">
<code>--addrport ADDRPORT</code> </dt> 
</dl> <p>Specifies a different port, or IP address and port, from the default of <code>127.0.0.1:8000</code>. This value follows exactly the same format and serves exactly the same function as the argument to the <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a> command.</p> <p>Examples:</p> <p>To run the test server on port 7000 with <code>fixture1</code> and <code>fixture2</code>:</p> <pre data-language="python">django-admin testserver --addrport 7000 fixture1 fixture2
django-admin testserver fixture1 fixture2 --addrport 7000
</pre> <p>(The above statements are equivalent. We include both of them to demonstrate that it doesn’t matter whether the options come before or after the fixture arguments.)</p> <p>To run on 1.2.3.4:7000 with a <code>test</code> fixture:</p> <pre data-language="python">django-admin testserver --addrport 1.2.3.4:7000 test
</pre> <dl class="django-admin-option"> <dt id="cmdoption-testserver-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts. A typical prompt is a warning about deleting an existing test database.</p>    <h2 id="commands-provided-by-applications">Commands provided by applications</h2> <p id="s-commands-provided-by-applications">Some commands are only available when the <code>django.contrib</code> application that <a class="reference internal" href="../howto/custom-management-commands"><span class="doc">implements</span></a> them has been <a class="reference internal" href="settings#std:setting-INSTALLED_APPS"><code>enabled</code></a>. This section describes them grouped by their application.</p>  <h3 id="django-contrib-auth"><code>django.contrib.auth</code></h3>  <h4 id="changepassword"><code>changepassword</code></h4> <dl class="django-admin" id="s-django-contrib-auth"> <dt id="django-admin-changepassword">
<code>django-admin changepassword [&lt;username&gt;]</code> </dt> 
</dl> <p>This command is only available if Django’s <a class="reference internal" href="../topics/auth/index"><span class="doc">authentication system</span></a> (<code>django.contrib.auth</code>) is installed.</p> <p>Allows changing a user’s password. It prompts you to enter a new password twice for the given user. If the entries are identical, this immediately becomes the new password. If you do not supply a user, the command will attempt to change the password whose username matches the current user.</p> <dl class="django-admin-option"> <dt id="cmdoption-changepassword-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to query for the user. Defaults to <code>default</code>.</p> <p>Example usage:</p> <pre data-language="python">django-admin changepassword ringo
</pre>   <h4 id="createsuperuser"><code>createsuperuser</code></h4> <dl class="django-admin" id="s-createsuperuser"> <dt id="django-admin-createsuperuser">
<code>django-admin createsuperuser</code> </dt> 
</dl> <dl class="envvar"> <dt id="envvar-DJANGO_SUPERUSER_PASSWORD">
<code>DJANGO_SUPERUSER_PASSWORD</code> </dt> 
</dl> <p>This command is only available if Django’s <a class="reference internal" href="../topics/auth/index"><span class="doc">authentication system</span></a> (<code>django.contrib.auth</code>) is installed.</p> <p>Creates a superuser account (a user who has all permissions). This is useful if you need to create an initial superuser account or if you need to programmatically generate superuser accounts for your site(s).</p> <p>When run interactively, this command will prompt for a password for the new superuser account. When run non-interactively, you can provide a password by setting the <a class="reference internal" href="#envvar-DJANGO_SUPERUSER_PASSWORD" id="index-7"><code>DJANGO_SUPERUSER_PASSWORD</code></a> environment variable. Otherwise, no password will be set, and the superuser account will not be able to log in until a password has been manually set for it.</p> <p>In non-interactive mode, the <a class="reference internal" href="../topics/auth/customizing#django.contrib.auth.models.CustomUser.USERNAME_FIELD" title="django.contrib.auth.models.CustomUser.USERNAME_FIELD"><code>USERNAME_FIELD</code></a> and required fields (listed in <a class="reference internal" href="../topics/auth/customizing#django.contrib.auth.models.CustomUser.REQUIRED_FIELDS" title="django.contrib.auth.models.CustomUser.REQUIRED_FIELDS"><code>REQUIRED_FIELDS</code></a>) fall back to <code>DJANGO_SUPERUSER_&lt;uppercase_field_name&gt;</code> environment variables, unless they are overridden by a command line argument. For example, to provide an <code>email</code> field, you can use <code>DJANGO_SUPERUSER_EMAIL</code> environment variable.</p> <dl class="django-admin-option"> <dt id="cmdoption-createsuperuser-noinput">
<code>--noinput, --no-input</code> </dt> 
</dl> <p>Suppresses all user prompts. If a suppressed prompt cannot be resolved automatically, the command will exit with error code 1.</p> <dl class="django-admin-option"> <dt id="cmdoption-createsuperuser-username">
<code>--username USERNAME</code> </dt> 
</dl> <dl class="django-admin-option"> <dt id="cmdoption-createsuperuser-email">
<code>--email EMAIL</code> </dt> 
</dl> <p>The username and email address for the new account can be supplied by using the <code>--username</code> and <code>--email</code> arguments on the command line. If either of those is not supplied, <code>createsuperuser</code> will prompt for it when running interactively.</p> <dl class="django-admin-option"> <dt id="cmdoption-createsuperuser-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database into which the superuser object will be saved.</p> <p>You can subclass the management command and override <code>get_input_data()</code> if you want to customize data input and validation. Consult the source code for details on the existing implementation and the method’s parameters. For example, it could be useful if you have a <code>ForeignKey</code> in <a class="reference internal" href="../topics/auth/customizing#django.contrib.auth.models.CustomUser.REQUIRED_FIELDS" title="django.contrib.auth.models.CustomUser.REQUIRED_FIELDS"><code>REQUIRED_FIELDS</code></a> and want to allow creating an instance instead of entering the primary key of an existing instance.</p>    <h3 id="django-contrib-contenttypes"><code>django.contrib.contenttypes</code></h3>  <h4 id="remove-stale-contenttypes"><code>remove_stale_contenttypes</code></h4> <dl class="django-admin" id="s-django-contrib-contenttypes"> <dt id="django-admin-remove_stale_contenttypes">
<code>django-admin remove_stale_contenttypes</code> </dt> 
</dl> <p>This command is only available if Django’s <a class="reference internal" href="contrib/contenttypes"><span class="doc">contenttypes app</span></a> (<a class="reference internal" href="contrib/contenttypes#module-django.contrib.contenttypes" title="django.contrib.contenttypes: Provides generic interface to installed models."><code>django.contrib.contenttypes</code></a>) is installed.</p> <p>Deletes stale content types (from deleted models) in your database. Any objects that depend on the deleted content types will also be deleted. A list of deleted objects will be displayed before you confirm it’s okay to proceed with the deletion.</p> <dl class="django-admin-option"> <dt id="cmdoption-remove-stale-contenttypes-database">
<code>--database DATABASE</code> </dt> 
</dl> <p>Specifies the database to use. Defaults to <code>default</code>.</p> <dl class="django-admin-option"> <dt id="cmdoption-remove-stale-contenttypes-include-stale-apps">
<code>--include-stale-apps</code> </dt> 
</dl> <p>Deletes stale content types including ones from previously installed apps that have been removed from <a class="reference internal" href="settings#std:setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a>. Defaults to <code>False</code>.</p>    <h3 id="django-contrib-gis"><code>django.contrib.gis</code></h3>  <h4 id="ogrinspect"><code>ogrinspect</code></h4> <p id="s-django-contrib-gis">This command is only available if <a class="reference internal" href="contrib/gis/index"><span class="doc">GeoDjango</span></a> (<code>django.contrib.gis</code>) is installed.</p> <p>Please refer to its <a class="reference internal" href="contrib/gis/commands#django-admin-ogrinspect"><code>description</code></a> in the GeoDjango documentation.</p>    <h3 id="django-contrib-sessions"><code>django.contrib.sessions</code></h3>  <h4 id="clearsessions"><code>clearsessions</code></h4> <dl class="django-admin" id="s-django-contrib-sessions"> <dt id="django-admin-clearsessions">
<code>django-admin clearsessions</code> </dt> 
</dl> <p>Can be run as a cron job or directly to clean out expired sessions.</p>    <h3 id="django-contrib-sitemaps"><code>django.contrib.sitemaps</code></h3>  <h4 id="ping-google"><code>ping_google</code></h4> <p id="s-django-contrib-sitemaps">This command is only available if the <a class="reference internal" href="contrib/sitemaps"><span class="doc">Sitemaps framework</span></a> (<code>django.contrib.sitemaps</code>) is installed.</p> <p>Please refer to its <a class="reference internal" href="contrib/sitemaps#django-admin-ping_google"><code>description</code></a> in the Sitemaps documentation.</p>    <h3 id="django-contrib-staticfiles"><code>django.contrib.staticfiles</code></h3>  <h4 id="collectstatic"><code>collectstatic</code></h4> <p id="s-django-contrib-staticfiles">This command is only available if the <a class="reference internal" href="../howto/static-files/index"><span class="doc">static files application</span></a> (<code>django.contrib.staticfiles</code>) is installed.</p> <p>Please refer to its <a class="reference internal" href="contrib/staticfiles#django-admin-collectstatic"><code>description</code></a> in the <a class="reference internal" href="contrib/staticfiles"><span class="doc">staticfiles</span></a> documentation.</p>   <h4 id="findstatic"><code>findstatic</code></h4> <p id="s-findstatic">This command is only available if the <a class="reference internal" href="../howto/static-files/index"><span class="doc">static files application</span></a> (<code>django.contrib.staticfiles</code>) is installed.</p> <p>Please refer to its <a class="reference internal" href="contrib/staticfiles#django-admin-findstatic"><code>description</code></a> in the <a class="reference internal" href="contrib/staticfiles"><span class="doc">staticfiles</span></a> documentation.</p>     <h2 id="default-options">Default options</h2> <p id="s-default-options">Although some commands may allow their own custom options, every command allows for the following options by default:</p> <dl class="django-admin-option"> <dt id="cmdoption-pythonpath">
<code>--pythonpath PYTHONPATH</code> </dt> 
</dl> <p>Adds the given filesystem path to the Python <a class="reference external" href="https://diveinto.org/python3/your-first-python-program.html#importsearchpath">import search path</a>. If this isn’t provided, <code>django-admin</code> will use the <a class="reference external" href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH" title="(in Python v3.10)" id="index-8"><code>PYTHONPATH</code></a> environment variable.</p> <p>This option is unnecessary in <code>manage.py</code>, because it takes care of setting the Python path for you.</p> <p>Example usage:</p> <pre data-language="python">django-admin migrate --pythonpath='/home/djangoprojects/myproject'
</pre> <dl class="django-admin-option"> <dt id="cmdoption-settings">
<code>--settings SETTINGS</code> </dt> 
</dl> <p>Specifies the settings module to use. The settings module should be in Python package syntax, e.g. <code>mysite.settings</code>. If this isn’t provided, <code>django-admin</code> will use the <a class="reference internal" href="../topics/settings#envvar-DJANGO_SETTINGS_MODULE" id="index-9"><code>DJANGO_SETTINGS_MODULE</code></a> environment variable.</p> <p>This option is unnecessary in <code>manage.py</code>, because it uses <code>settings.py</code> from the current project by default.</p> <p>Example usage:</p> <pre data-language="python">django-admin migrate --settings=mysite.settings
</pre> <dl class="django-admin-option"> <dt id="cmdoption-traceback">
<code>--traceback</code> </dt> 
</dl> <p>Displays a full stack trace when a <a class="reference internal" href="../howto/custom-management-commands#django.core.management.CommandError" title="django.core.management.CommandError"><code>CommandError</code></a> is raised. By default, <code>django-admin</code> will show an error message when a <code>CommandError</code> occurs and a full stack trace for any other exception.</p> <p>This option is ignored by <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a>.</p> <p>Example usage:</p> <pre data-language="python">django-admin migrate --traceback
</pre> <dl class="django-admin-option"> <dt id="cmdoption-verbosity">
<code>--verbosity {0,1,2,3}, -v {0,1,2,3}</code> </dt> 
</dl> <p>Specifies the amount of notification and debug information that a command should print to the console.</p> <ul class="simple"> <li>
<code>0</code> means no output.</li> <li>
<code>1</code> means normal output (default).</li> <li>
<code>2</code> means verbose output.</li> <li>
<code>3</code> means <em>very</em> verbose output.</li> </ul> <p>This option is ignored by <a class="reference internal" href="#django-admin-runserver"><code>runserver</code></a>.</p> <p>Example usage:</p> <pre data-language="python">django-admin migrate --verbosity 2
</pre> <dl class="django-admin-option"> <dt id="cmdoption-no-color">
<code>--no-color</code> </dt> 
</dl> <p>Disables colorized command output. Some commands format their output to be colorized. For example, errors will be printed to the console in red and SQL statements will be syntax highlighted.</p> <p>Example usage:</p> <pre data-language="python">django-admin runserver --no-color
</pre> <dl class="django-admin-option"> <dt id="cmdoption-force-color">
<code>--force-color</code> </dt> 
</dl> <p>Forces colorization of the command output if it would otherwise be disabled as discussed in <a class="reference internal" href="#syntax-coloring"><span class="std std-ref">Syntax coloring</span></a>. For example, you may want to pipe colored output to another command.</p> <dl class="django-admin-option"> <dt id="cmdoption-skip-checks">
<code>--skip-checks</code> </dt> 
</dl> <p>Skips running system checks prior to running the command. This option is only available if the <a class="reference internal" href="../howto/custom-management-commands#django.core.management.BaseCommand.requires_system_checks" title="django.core.management.BaseCommand.requires_system_checks"><code>requires_system_checks</code></a> command attribute is not an empty list or tuple.</p> <p>Example usage:</p> <pre data-language="python">django-admin migrate --skip-checks
</pre>   <h2 id="extra-niceties">Extra niceties</h2>  <h3 id="id1">Syntax coloring</h3> <dl class="envvar" id="s-extra-niceties"> <dt id="envvar-DJANGO_COLORS">
<code>DJANGO_COLORS</code> </dt> 
</dl> <p>The <code>django-admin</code> / <code>manage.py</code> commands will use pretty color-coded output if your terminal supports ANSI-colored output. It won’t use the color codes if you’re piping the command’s output to another program unless the <a class="reference internal" href="#cmdoption-force-color"><code>--force-color</code></a> option is used.</p>  <h4 id="windows-support">Windows support</h4> <p id="s-windows-support">On Windows 10, the <a class="reference external" href="https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701">Windows Terminal</a> application, <a class="reference external" href="https://code.visualstudio.com">VS Code</a>, and PowerShell (where virtual terminal processing is enabled) allow colored output, and are supported by default.</p> <p>Under Windows, the legacy <code>cmd.exe</code> native console doesn’t support ANSI escape sequences so by default there is no color output. In this case either of two third-party libraries are needed:</p> <ul> <li>
<p class="first">Install <a class="reference external" href="https://pypi.org/project/colorama/">colorama</a>, a Python package that translates ANSI color codes into Windows API calls. Django commands will detect its presence and will make use of its services to color output just like on Unix-based platforms. <code>colorama</code> can be installed via pip:</p> <pre data-language="python">...\&gt; py -m pip install colorama
</pre> </li> <li>Install <a class="reference external" href="http://adoxa.altervista.org/ansicon/">ANSICON</a>, a third-party tool that allows <code>cmd.exe</code> to process ANSI color codes. Django commands will detect its presence and will make use of its services to color output just like on Unix-based platforms. </li> </ul> <p>Other modern terminal environments on Windows, that support terminal colors, but which are not automatically detected as supported by Django, may “fake” the installation of <code>ANSICON</code> by setting the appropriate environmental variable, <code>ANSICON="on"</code>.</p> <div class="versionchanged"> <span class="title">Changed in Django 3.2:</span> <p>Updated support for syntax coloring on Windows.</p> </div>   <h4 id="custom-colors">Custom colors</h4> <p id="s-custom-colors">The colors used for syntax highlighting can be customized. Django ships with three color palettes:</p> <ul class="simple"> <li>
<code>dark</code>, suited to terminals that show white text on a black background. This is the default palette.</li> <li>
<code>light</code>, suited to terminals that show black text on a white background.</li> <li>
<code>nocolor</code>, which disables syntax highlighting.</li> </ul> <p>You select a palette by setting a <a class="reference internal" href="#envvar-DJANGO_COLORS" id="index-10"><code>DJANGO_COLORS</code></a> environment variable to specify the palette you want to use. For example, to specify the <code>light</code> palette under a Unix or OS/X BASH shell, you would run the following at a command prompt:</p> <pre data-language="python">export DJANGO_COLORS="light"
</pre> <p>You can also customize the colors that are used. Django specifies a number of roles in which color is used:</p> <ul class="simple"> <li>
<code>error</code> - A major error.</li> <li>
<code>notice</code> - A minor error.</li> <li>
<code>success</code> - A success.</li> <li>
<code>warning</code> - A warning.</li> <li>
<code>sql_field</code> - The name of a model field in SQL.</li> <li>
<code>sql_coltype</code> - The type of a model field in SQL.</li> <li>
<code>sql_keyword</code> - An SQL keyword.</li> <li>
<code>sql_table</code> - The name of a model in SQL.</li> <li>
<code>http_info</code> - A 1XX HTTP Informational server response.</li> <li>
<code>http_success</code> - A 2XX HTTP Success server response.</li> <li>
<code>http_not_modified</code> - A 304 HTTP Not Modified server response.</li> <li>
<code>http_redirect</code> - A 3XX HTTP Redirect server response other than 304.</li> <li>
<code>http_not_found</code> - A 404 HTTP Not Found server response.</li> <li>
<code>http_bad_request</code> - A 4XX HTTP Bad Request server response other than 404.</li> <li>
<code>http_server_error</code> - A 5XX HTTP Server Error response.</li> <li>
<code>migrate_heading</code> - A heading in a migrations management command.</li> <li>
<code>migrate_label</code> - A migration name.</li> </ul> <p>Each of these roles can be assigned a specific foreground and background color, from the following list:</p> <ul class="simple"> <li><code>black</code></li> <li><code>red</code></li> <li><code>green</code></li> <li><code>yellow</code></li> <li><code>blue</code></li> <li><code>magenta</code></li> <li><code>cyan</code></li> <li><code>white</code></li> </ul> <p>Each of these colors can then be modified by using the following display options:</p> <ul class="simple"> <li><code>bold</code></li> <li><code>underscore</code></li> <li><code>blink</code></li> <li><code>reverse</code></li> <li><code>conceal</code></li> </ul> <p>A color specification follows one of the following patterns:</p> <ul class="simple"> <li><code>role=fg</code></li> <li><code>role=fg/bg</code></li> <li><code>role=fg,option,option</code></li> <li><code>role=fg/bg,option,option</code></li> </ul> <p>where <code>role</code> is the name of a valid color role, <code>fg</code> is the foreground color, <code>bg</code> is the background color and each <code>option</code> is one of the color modifying options. Multiple color specifications are then separated by a semicolon. For example:</p> <pre data-language="python">export DJANGO_COLORS="error=yellow/blue,blink;notice=magenta"
</pre> <p>would specify that errors be displayed using blinking yellow on blue, and notices displayed using magenta. All other color roles would be left uncolored.</p> <p>Colors can also be specified by extending a base palette. If you put a palette name in a color specification, all the colors implied by that palette will be loaded. So:</p> <pre data-language="python">export DJANGO_COLORS="light;error=yellow/blue,blink;notice=magenta"
</pre> <p>would specify the use of all the colors in the light color palette, <em>except</em> for the colors for errors and notices which would be overridden as specified.</p>    <h3 id="bash-completion">Bash completion</h3> <p id="s-bash-completion">If you use the Bash shell, consider installing the Django bash completion script, which lives in <code>extras/django_bash_completion</code> in the Django source distribution. It enables tab-completion of <code>django-admin</code> and <code>manage.py</code> commands, so you can, for instance…</p> <ul class="simple"> <li>Type <code>django-admin</code>.</li> <li>Press [TAB] to see all available options.</li> <li>Type <code>sql</code>, then [TAB], to see all available options whose names start with <code>sql</code>.</li> </ul> <p>See <a class="reference internal" href="../howto/custom-management-commands"><span class="doc">How to create custom django-admin commands</span></a> for how to add customized actions.</p>     <h1 id="running-management-commands-from-your-code">Running management commands from your code</h1> <dl class="function" id="s-running-management-commands-from-your-code"> <dt id="django.core.management.call_command">
<code>django.core.management.call_command(name, *args, **options)</code> </dt> 
</dl> <p>To call a management command from code use <code>call_command</code>.</p> <dl class="docutils"> <dt>
<code>name</code> </dt> <dd>the name of the command to call or a command object. Passing the name is preferred unless the object is required for testing.</dd> <dt>
<code>*args</code> </dt> <dd>a list of arguments accepted by the command. Arguments are passed to the argument parser, so you can use the same style as you would on the command line. For example, <code>call_command('flush', '--verbosity=0')</code>.</dd> <dt>
<code>**options</code> </dt> <dd>named options accepted on the command-line. Options are passed to the command without triggering the argument parser, which means you’ll need to pass the correct type. For example, <code>call_command('flush', verbosity=0)</code> (zero must be an integer rather than a string).</dd> </dl> <p>Examples:</p> <pre data-language="python">from django.core import management
from django.core.management.commands import loaddata

management.call_command('flush', verbosity=0, interactive=False)
management.call_command('loaddata', 'test_data', verbosity=0)
management.call_command(loaddata.Command(), 'test_data', verbosity=0)
</pre> <p>Note that command options that take no arguments are passed as keywords with <code>True</code> or <code>False</code>, as you can see with the <code>interactive</code> option above.</p> <p>Named arguments can be passed by using either one of the following syntaxes:</p> <pre data-language="python"># Similar to the command line
management.call_command('dumpdata', '--natural-foreign')

# Named argument similar to the command line minus the initial dashes and
# with internal dashes replaced by underscores
management.call_command('dumpdata', natural_foreign=True)

# `use_natural_foreign_keys` is the option destination variable
management.call_command('dumpdata', use_natural_foreign_keys=True)
</pre> <p>Some command options have different names when using <code>call_command()</code> instead of <code>django-admin</code> or <code>manage.py</code>. For example, <code>django-admin
createsuperuser --no-input</code> translates to <code>call_command('createsuperuser',
interactive=False)</code>. To find what keyword argument name to use for <code>call_command()</code>, check the command’s source code for the <code>dest</code> argument passed to <code>parser.add_argument()</code>.</p> <p>Command options which take multiple options are passed a list:</p> <pre data-language="python">management.call_command('dumpdata', exclude=['contenttypes', 'auth'])
</pre> <p>The return value of the <code>call_command()</code> function is the same as the return value of the <code>handle()</code> method of the command.</p>  <h2 id="output-redirection">Output redirection</h2> <p id="s-output-redirection">Note that you can redirect standard output and error streams as all commands support the <code>stdout</code> and <code>stderr</code> options. For example, you could write:</p> <pre data-language="python">with open('/path/to/command_output', 'w') as f:
    management.call_command('dumpdata', stdout=f)
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/4.0/ref/django-admin/" class="_attribution-link">https://docs.djangoproject.com/en/4.0/ref/django-admin/</a>
  </p>
</div>
