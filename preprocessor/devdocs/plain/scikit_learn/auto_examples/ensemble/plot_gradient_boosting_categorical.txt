# Categorical Feature Support in Gradient Boosting

In this example, we will compare the training times and prediction
performances of `HistGradientBoostingRegressor` with different encoding
strategies for categorical features. In particular, we will evaluate:

  * dropping the categorical features
  * using a `OneHotEncoder`
  * using an `OrdinalEncoder` and treat categories as ordered, equidistant quantities
  * using an `OrdinalEncoder` and rely on the native category support of the `HistGradientBoostingRegressor` estimator.

We will work with the Ames Lowa Housing dataset which consists of numerical
and categorical features, where the houses’ sales prices is the target.

    
    print(__doc__)
    
## Load Ames Housing dataset

First, we load the ames housing data as a pandas dataframe. The features are
either categorical or numerical:

    
    from sklearn.datasets import fetch_openml
    
    X, y = fetch_openml(data_id=41211, as_frame=True, return_X_y=True)
    
    n_categorical_features = (X.dtypes == 'category').sum()
    n_numerical_features = (X.dtypes == 'float').sum()
    print(f"Number of samples: {X.shape[0]}")
    print(f"Number of features: {X.shape[1]}")
    print(f"Number of categorical features: {n_categorical_features}")
    print(f"Number of numerical features: {n_numerical_features}")
    
Out:

    
    /home/circleci/project/sklearn/datasets/_openml.py:849: UserWarning: Version 1 of dataset ames-housing is inactive, meaning that issues have been found in the dataset. Try using a newer version from this URL: https://www.openml.org/data/v1/download/20649135/ames-housing.arff
      warn("Version {} of dataset {} is inactive, meaning that issues have "
    Number of samples: 2930
    Number of features: 80
    Number of categorical features: 46
    Number of numerical features: 34
    
## Gradient boosting estimator with dropped categorical features

As a baseline, we create an estimator where the categorical features are
dropped:

    
    from sklearn.experimental import enable_hist_gradient_boosting  # noqa
    from sklearn.ensemble import HistGradientBoostingRegressor
    from sklearn.pipeline import make_pipeline
    from sklearn.compose import make_column_transformer
    from sklearn.compose import make_column_selector
    
    dropper = make_column_transformer(
        ('drop', make_column_selector(dtype_include='category')),
        remainder='passthrough')
    hist_dropped = make_pipeline(dropper,
                                 HistGradientBoostingRegressor(random_state=42))
    
## Gradient boosting estimator with one-hot encoding

Next, we create a pipeline that will one-hot encode the categorical features
and let the rest of the numerical data to passthrough:

    
    from sklearn.preprocessing import OneHotEncoder
    
    one_hot_encoder = make_column_transformer(
        (OneHotEncoder(sparse=False, handle_unknown='ignore'),
         make_column_selector(dtype_include='category')),
        remainder='passthrough')
    
    hist_one_hot = make_pipeline(one_hot_encoder,
                                 HistGradientBoostingRegressor(random_state=42))
    
## Gradient boosting estimator with ordinal encoding

Next, we create a pipeline that will treat categorical features as if they
were ordered quantities, i.e. the categories will be encoded as 0, 1, 2, etc.,
and treated as continuous features.

    
    from sklearn.preprocessing import OrdinalEncoder
    import numpy as np
    
    ordinal_encoder = make_column_transformer(
        (OrdinalEncoder(handle_unknown='use_encoded_value', unknown_value=np.nan),
         make_column_selector(dtype_include='category')),
        remainder='passthrough')
    
    hist_ordinal = make_pipeline(ordinal_encoder,
                                 HistGradientBoostingRegressor(random_state=42))
    
## Gradient boosting estimator with native categorical support

We now create a `HistGradientBoostingRegressor` estimator that will natively
handle categorical features. This estimator will not treat categorical
features as ordered quantities.

Since the `HistGradientBoostingRegressor` requires category values to be
encoded in `[0, n_unique_categories - 1]`, we still rely on an
`OrdinalEncoder` to pre-process the data.

The main difference between this pipeline and the previous one is that in this
one, we let the `HistGradientBoostingRegressor` know which features are
categorical.

    
    # The ordinal encoder will first output the categorical features, and then the
    # continuous (passed-through) features
    categorical_mask = ([True] * n_categorical_features +
                        [False] * n_numerical_features)
    hist_native = make_pipeline(
        ordinal_encoder,
        HistGradientBoostingRegressor(random_state=42,
                                      categorical_features=categorical_mask)
    )
    
## Model comparison

Finally, we evaluate the models using cross validation. Here we compare the
models performance in terms of `mean_absolute_percentage_error` and fit times.

    
    from sklearn.model_selection import cross_validate
    import matplotlib.pyplot as plt
    
    scoring = "neg_mean_absolute_percentage_error"
    dropped_result = cross_validate(hist_dropped, X, y, cv=3, scoring=scoring)
    one_hot_result = cross_validate(hist_one_hot, X, y, cv=3, scoring=scoring)
    ordinal_result = cross_validate(hist_ordinal, X, y, cv=3, scoring=scoring)
    native_result = cross_validate(hist_native, X, y, cv=3, scoring=scoring)
    
    
    def plot_results(figure_title):
        fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 8))
    
        plot_info = [('fit_time', 'Fit times (s)', ax1, None),
                     ('test_score', 'Mean Absolute Percentage Error', ax2,
                      (0, 0.20))]
    
        x, width = np.arange(4), 0.9
        for key, title, ax, y_limit in plot_info:
            items = [dropped_result[key], one_hot_result[key], ordinal_result[key],
                     native_result[key]]
            ax.bar(x, [np.mean(np.abs(item)) for item in items],
                   width, yerr=[np.std(item) for item in items],
                   color=['C0', 'C1', 'C2', 'C3'])
            ax.set(xlabel='Model', title=title, xticks=x,
                   xticklabels=["Dropped", "One Hot", "Ordinal", "Native"],
                   ylim=y_limit)
        fig.suptitle(figure_title)
    
    
    plot_results("Gradient Boosting on Adult Census")
    
![Gradient Boosting on Adult Census, Fit times \(s\), Mean Absolute Percentage
Error](data:image/png;base64,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)

We see that the model with one-hot-encoded data is by far the slowest. This is
to be expected, since one-hot-encoding creates one additional feature per
category value (for each categorical feature), and thus more split points need
to be considered during fitting. In theory, we expect the native handling of
categorical features to be slightly slower than treating categories as ordered
quantities (‘Ordinal’), since native handling requires sorting categories.
Fitting times should however be close when the number of categories is small,
and this may not always be reflected in practice.

In terms of prediction performance, dropping the categorical features leads to
poorer performance. The three models that use categorical features have
comparable error rates, with a slight edge for the native handling.

## Limitting the number of splits

In general, one can expect poorer predictions from one-hot-encoded data,
especially when the tree depths or the number of nodes are limited: with one-
hot-encoded data, one needs more split points, i.e. more depth, in order to
recover an equivalent split that could be obtained in one single split point
with native handling.

This is also true when categories are treated as ordinal quantities: if
categories are `A..F` and the best split is `ACF - BDE` the one-hot-encoder
model will need 3 split points (one per category in the left node), and the
ordinal non-native model will need 4 splits: 1 split to isolate `A`, 1 split
to isolate `F`, and 2 splits to isolate `C` from `BCDE`.

How strongly the models’ performances differ in practice will depend on the
dataset and on the flexibility of the trees.

To see this, let us re-run the same analysis with under-fitting models where
we artificially limit the total number of splits by both limitting the number
of trees and the depth of each tree.

    
    for pipe in (hist_dropped, hist_one_hot, hist_ordinal, hist_native):
        pipe.set_params(histgradientboostingregressor__max_depth=3,
                        histgradientboostingregressor__max_iter=15)
    
    dropped_result = cross_validate(hist_dropped, X, y, cv=3, scoring=scoring)
    one_hot_result = cross_validate(hist_one_hot, X, y, cv=3, scoring=scoring)
    ordinal_result = cross_validate(hist_ordinal, X, y, cv=3, scoring=scoring)
    native_result = cross_validate(hist_native, X, y, cv=3, scoring=scoring)
    
    plot_results("Gradient Boosting on Adult Census (few and small trees)")
    
    plt.show()
    
![Gradient Boosting on Adult Census \(few and small trees\), Fit times \(s\),
Mean Absolute Percentage
Error](data:image/png;base64,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0IaY7XIrsIAFLGB9cpm60BZ1XqTHRd02I1h5P+RhK7CABSxgfXKZ9lGo5rj44wDW863AAhawgPWJZdqGbvi13j+AFbLsVD1s3e52ux5YwAIWsD6tTH0YXNpcmiVYVVsdTsNIcLH1mCa2gAUsYAFrXWClNPVyqyssYAELWGscEqaUpzdbzWEBC1jAWt2k+/iwNOkOLGABa1VlaqeFC8cyzl1VTVkVm83xUFRlHA5a1gAsYAFrTWWaloaWcdyXptWzYRCYhTzeJbRw9FPA+s4AC1jK9PprAgtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAApYyAQtYwAIWsIAFLGABC1jAAhawlAlYwNITgAUsYAELWMACFrCABSxlAhaw9ARgAQtYwAIWsIAFLGABS5mABSw9AVjAAhawgAUsYAELWMBSJmABS08AFrCABSxgAQtYwBJgAQtYwNITgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABaz/sXdvu23jQABAJQrmgy60Llbhav//P1eS7cROk4d22w2dngEq02JaoJ3RAUmzJrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxpAhawgAUsYAELWMACFrCABSxgSROwgOVJABawgAWsPxHnEFN/aU7Hqjru7SnFNAELWMACVl4xxbHuqnpvd0tbD7EtijYu9bI1gAUsYAErozh26yUNrze2dnNaG6cGWMACFrByijJuM7/u+HonnC+/iiUAC1jAAlZOMe8TvyW93FiquSjiuLbGeDXtcDjMwAIWsICVHVhjtS26P4A1xC2ABSxgASuzKeFUTbdpYXEORljAAhaw8l10Hy9eWXQHFrCAlWWM120NQ7O1z/M8r3/x3rYGYAELWDnGdeNos84Kj/tq1TawsnEUWMAClicBWMACFrCABSxgAUsAC1jAApYnAVjAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawnixNd0dRzk2K21c4FuN2JuX2DWj7N2IHYAELWMDKIk33R1HW3Zh2sJpzWzfbASRDmtcAFrCABaws0vTmKMr97SWqcQPLlBBYwAJWLml6exTlK1iH7Sv9hyqEpgYWsIAFrBzS9PZkt1ewulCuE8ap7Y/hMif86MAkYAELWMD6ZLCW6nbsyCEs++tHR1ICC1jAAtbnTglfvXq5Z4QFLGABK8tF93uvyjBYwwIWsICVQ5ruj6Is2jY1bb16FafLmZRdX7enqgYWsIAFrCzSdHcUZRGv+0TD3lgHVk2I4eRTQmABC1jPmCZgAcuTACxgAQtYwAIWsIAlgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGkCFrA8CcACFrCABSxgAQtYwAKWNAELWJ4EYAELWMACFrCABSxgAUuagAUsTwKwgAUsYAELWMACFrCAJU3AApYnAVjAAhawgAUsYAFLAAtYwAKWJwFYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABKzOwyhhLYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYWYP1E3X4LcZvv1K1wAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawBLC+GljnEFN/ac5Nit3emlJM05teYAEru3ivese4RQmsLwnWFMe6q+q9XXdj2lPexqVeYvvYCyxg5RbvVu9YzWsYYX1NsI5bjtPw8LZoTuvl1PzQCyxgZRXvVu9YmRJ+WbDKuM38uuNjysN5vSzhsbc8HA4zsICVT7xfvWMM4dTefuSDqgXWc4I1bxO/YkmPKY/jnvfH3mFfGgAWsLKJ96u3Hdv+dFvH+KhqgfXlwTLCAtZTgLVH6oyw/rIp4Tn80GsNC1j5TwmLl2VYa1gW3YEFrMwX3S8jrAZYXxKs8frB8LAluG1T066T/962BmA9Q7xbvUNft01sgfU7qjY7sG5b75ptXL0vUIbCxlFgPUm8V71diNWpta3hi4L1n/9MYAEr7wAWsIAFLGABC1jAAhawgAUsYAELWMACFrCABazfcPIhsIAlgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGD91qr9J8Z/sqtaYAELWMACFrCABSxgAQtYAljAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgPWXVC2wgAUsYAELWMACFrCABSwBLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYUg8sYAELWMACFrCABSxgAUvVAkvqgQUsYAELWMACFrCABSxgqVpgST2wgAUsYAELWMACFrCABSxVCyxgAQtYwAIWsIAFLGABSwALWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsID1h6r2HGLqr+0+xXBeX49xi1NRDNtrABawgAWsLKp2imPdVfXerquuHuO0/tZ5nus4rmCltTUDC1jAAlYWVXvs1ksa9vaQ1kt3vI68qvJ6x5QQWMACVhZVW24DqhtSO15TLPc3qdkIq0JoamABC1jAyqFq59iu1+UykErLemnjPgVs945pavtjuMwJy8PhMAMLWMACVh5ghQ2s/gJW9zIZPOy3rwvwwAIWsICV3ZSwrM6Py1xGWMACFrByXXQf48tng2UYrGEBC1jAyqFqx+u2hqG529awOtbsvV1ft6eqBhawgAWsnDaONtvA6rZxtKhjv3c2IYaTTwmBBSxg+a85wAIWsIAFLGABC1iqFljAAhawgAUsYAELWMAClgAWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1jAAhawgAUsYAELWMACFrCABSxgAQtYwAIWsIAFLGABC1hPHHfnls9NipfTB6YU0wQsVQssYOUVD+eWd2PawWrjUi/7aVDAAhawgJVP3B+hcntbNKf1cmqApWqBBayc4uGQuhew9mMJzuH6Ix8cTgcsYAELWP9vPBwD/AJWHIvtNKjLrY+O/wUWsIAFrOzAMsICFrCA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)

The results for these under-fitting models confirm our previous intuition: the
native category handling strategy performs the best when the splitting budget
is constrained. The two other strategies (one-hot encoding and treating
categories as ordinal values) lead to error values comparable to the baseline
model that just dropped the categorical features altogether.

Total running time of the script: ( 0 minutes 26.004 seconds)

![Launch
binder](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAUCAMAAACwC0NtAAABWVBMVEW7u7vo6OjCwsLMzMzz8/P4+Pju7u68vLzd3d24uLjx8fHm5ubT09PAwMDJycnPz8+urq7Ly8va2tq5ubnq6uqSkpLBwcH09PS6urrypVmvr6/i4uLDw8O0tLSjo6PX19e9u7pYm8qxsbGrq6u+vr7s7OzZ2dng4OCVlZXk5OTIyMiWlpampqaoqKj6+vrGxsagoKC9vb2ZmZn29vb///+Nq8Kzs7PSspNlnshfnsr2o1HnZYHXc46dnZ2Li4vS0tKPj4+3t7fOtJm2urztpmKGqsTarYFcmsnTjZzkaYXOl6Kqtr7lqnHEqrD1olLMmqW+t7jWsIzGt6hrnsbQk6Gis7/IoavgbIfhcoprlcHYaom+oH2Elq50kLzV1dWHh4fDuK2Xr8GZsMDHtqatsLrglH/sfm60pLHKqqDWnJHJcJDtgWzoknG8dJaLqr/0lVqeo7jlbX7owswW4TTQAAACXklEQVRIx+3V52/iMBgH4DcsBwfCCCkhQICMS4G0AQKUXqFpumh7Pa57l9t7//9fzlRHWeXbCemkvpEs+ZWtR/rZVqAKj/WvK7u+v7m/np2RdpjokG9pNthRIrF0dJjYfDWLGM/ed76dAWx31v923NS0tWXvRCtD90bTN9Sy1Ona3u6Hp1939+Cw04/SRU9bizwTLTbUG9OtoRZGU7Hn5xefEz9/Nz9tJt4ONDOGky7Q52AuCbStYRvKOmZcyENjKjWqPYnFdZSiQbd9vhCkyMyDUBQzBbC7WmhMe7Gyk92+vrm9ud7ODjRKLQZoiKmgakBTRcULdKboZlDVXMtERzWvMU915xhgknwag2auRaook2/JlhqKi+EJ7QR+5NqX7XYNBtq8wtIZYFQoUxAtc2ELsORIYbS4AGpgLEnZqetqHpKOIGLVKwnSIqIKrKkVIm6FG09y9+Jj4/Z789fy8rOBlsddd7enBYlGDt0Cyw+CiDwcmGOaDRC808ix+lRysIKFtG4g4IKIe/JK7qycf7kicW7l3txrQS9fYomWAptoqZ6mu8HEvVsyrmkIomxPCxLNwQVgSZKpkkT7I6HJa3Jw0rxq7h3AVu71veaPMfkkNlmc1PuaEs/HOYSJZo9qOo5pRl8D0aI0DRkeBnedhzSAd5fHpxunjfskw0Xg5YV5w9+qiBUeigrASxD5esXgVgGM1shmg68srDkyT7aAfxUUXuFXuTovSxWQSg++gq3c8nE7VxvqcOE6iA6kRRD6LSecfvgNObIwPBOFu/3y1De3UWvkGrWNx9/T/1B/AFudUABdgF9sAAAAAElFTkSuQmCC)

`Download Python source code: plot_gradient_boosting_categorical.py`

`Download Jupyter notebook: plot_gradient_boosting_categorical.ipynb`

© 2007–2020 The scikit-learn developers  
Licensed under the 3-clause BSD License.  
https://scikit-
learn.org/0.24/auto_examples/ensemble/plot_gradient_boosting_categorical.html

